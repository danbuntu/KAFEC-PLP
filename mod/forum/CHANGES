2007-01-16 Tuesday 23:36  jamiesensei

	* mod_form.php: 
	
	changed name of moodleform_mod method 'defaults_preprocessing' to
	'data_preprocessing' in line with change of set_defaults name to
	set_data.

2007-01-16 Tuesday 10:44  vyshane

	* subscribe.php: 
	
	Merged from 1.7.

2007-01-16 Tuesday 10:43  vyshane

	* subscribe.php: 
	
	Fix for MDL-8099.

2007-01-15 Monday 02:58  stronk7

	* db/: mysql.sql, postgres7.sql: 
	
	Deleting deprecated .sql files. MDL-7264 Byeeez!

2007-01-13 Saturday 08:32  stronk7

	* lib.php, search.php: 
	
	Some more uses of $CFG->dbfamily. MDL-7061

2007-01-13 Saturday 03:01  skodak

	* post_form.php: 
	
	MDL-8166 some forgotten set_defaults converted to set_data

2007-01-13 Saturday 02:52  skodak

	* post.php: 
	
	MDL-8166 rename in/out methods in formslib - HQ consensus

2007-01-12 Friday 13:05  vyshane

	* post.php: 
	
	Merged from 1.7.

2007-01-12 Friday 13:03  vyshane

	* post.php: 
	
	Fix for MDL-8146. Clicking on "No" when asked to confirm deletion
	of a post will now always take the user back to that post in the
	relevant discussion.

2007-01-12 Friday 03:47  skodak

	* mod_form.php, post_form.php: 
	
	fixed text field widths in new forms

2007-01-11 Thursday 16:06  moodler

	* post.php, view.php: 
	
	FIxed up the intro boxes  XHTML Strict

2007-01-08 Monday 20:13  moodler

	* lib.php: 
	
	Strict XHTML logic fixes for discussions in some circumstances	
	MDL-7861

2007-01-08 Monday 17:14  skodak

	* lib.php: 
	
	MDL-7861 new class .icon and .iconsmall

2007-01-08 Monday 16:51  moodler

	* lib.php: 
	
	FIxes for Strrrrrict in forum ratings

2007-01-08 Monday 15:16  moodler

	* index.php: 
	
	More forum tidying up, less tables

2007-01-08 Monday 14:56  moodler

	* lib.php, view.php: 
	
	Removed more tables from forum display :-)    Strrrrrict!

2007-01-07 Sunday 18:19  vyshane

	* discuss.php: 
	
	Fix for MDL-7861

2007-01-07 Sunday 14:49  vyshane

	* lib.php: 
	
	Added fieldset tag. MDL-7861.

2007-01-07 Sunday 03:23  skodak

	* search.php: 
	
	MDL-8062 Remove name attribute from <form> and related javascript
	code cleanup (tested with FF, IE, Konq and Opera)

2007-01-05 Friday 12:51  jamiesensei

	* mod_form.php: 
	
	added helpbuttons to htmleditors where needed. Further work on
	htmleditor helpbutton code.

2007-01-05 Friday 10:01  moodler

	* lib.php: 
	
	Changed fieldsets to use the new invisiblefieldset class

2007-01-05 Friday 05:32  skodak

	* config.html, lib.php, prune.html, subscriber.html: 
	
	MDL-8062 1.3 Remove name attribute from <form> and fix focus
	everywhere - more changes ahead

2007-01-05 Friday 02:24  skodak

	* lib.php: 
	
	MDL-8050 1.2 Remove all target="_top" - refactoring of previous
	commit

2007-01-04 Thursday 23:58  moodler

	* discuss.php: 
	
	Tidy up discussion controls using CSS	MDL-7861

2007-01-04 Thursday 23:31  moodler

	* discuss.php, lib.php: 
	
	More fixes for Strict  MDL-7861

2007-01-04 Thursday 23:23  moodler

	* lib.php: 
	
	XHTML Strict fixes for forum search   MDL-7861

2007-01-04 Thursday 18:23  jamiesensei

	* post_form.php: 
	
	some bug fixes in setHelpButton internals.  added new
	editorhelpbutton function that can be used to refer to several help
	topics.

2007-01-04 Thursday 03:33  skodak

	* search.php: 
	
	MDL-8049 Remove all language=Javascript from javascript includes

2007-01-04 Thursday 03:24  skodak

	* lib.php: 
	
	MDL-8050 1.2 Remove all target="_top"

2007-01-03 Wednesday 12:55  moodler

	* discuss.php, lib.php, view.php: 
	
	Checking in Nick Freear's changes and evolution of Julette White's
	code with a few modifications made to the install process) for
	further work in HEAD.
	
	See MDL-7380 for details.

2007-01-03 Wednesday 10:00  vyshane

	* config.html: 
	
	Fixed xhtml for MDL-7861

2007-01-02 Tuesday 09:25  vyshane

	* search.php: 
	
	XHTML fixes for MDL-7861.

2006-12-29 Friday 05:21  skodak

	* lib.php, post_form.php: 
	
	MDL-8015 improved file uploading - changed file upload api in
	formslib - fixed blog attachments and related code in file.php -
	fixed glossary attachments - fixed embedded images in forum posts
	and blogs - only gif, png and jpeg; the problme was that svg were
	embedded using img tag which was wrong, the same applied to other
	picture formats unsupported by browsers (please note that student
	submitted svg should be never embedded in moodle page for security
	reasons) - other minor fixes

2006-12-29 Friday 00:12  jamiesensei

	* post_form.php: 
	
	removed all 'Revert' buttons from forms and removed it altogether
	from add_action_buttons method since it was decided it didn't
	contribute to usability.

2006-12-28 Thursday 23:43  jamiesensei

	* post.php: 
	
	fixing all the form names as per new class naming convention (PHP
	class names are also used for html id for styling)

2006-12-28 Thursday 17:32  jamiesensei

	* mod_form.php, post_form.php: 
	
	changes to how we generate the id attribute of forms and the naming
	convention of forms migrate blog edit to formslib

2006-12-21 Thursday 20:18  nfreear

	* discuss.php, lib.php, view.php: 
	
	Integration 3 - groups in core, modules, calendar... (Part of
	MDL-7380, new groups)

2006-12-21 Thursday 00:41  stronk7

	* rsslib.php: 
	
	Add support for multilang titles in forum->posts
	
	Merged from MOODLE_17_STABLE

2006-12-21 Thursday 00:40  stronk7

	* rsslib.php: 
	
	Add support for multilang titles in forum->posts

2006-12-20 Wednesday 18:00  stronk7

	* lib.php: 
	
	Added one missing format_string() to post->subject
	
	Merged from MOODLE_17_STABLE

2006-12-20 Wednesday 17:57  stronk7

	* lib.php: 
	
	Added one missing format_string() to post->subject

2006-12-19 Tuesday 15:03  jamiesensei

	* mod_form.php, post_form.php: 
	
	
	* Added setAdvanced functionality see
	http://docs.moodle.org/en/Development:lib/formslib.php_setAdvanced
	* Added MoodleQuickForm method closeHeaderBefore($elementName);
	http://docs.moodle.org/en/Development:lib/formslib.php_Form_Definit
	ion#Use_Fieldsets_to_group_Form_Elements * Added moodleform method
	add_action_buttons(); see
	http://docs.moodle.org/en/Development:lib/formslib.php_Form_Definit
	ion#add_action_buttons.28.24cancel_.3D_true.2C_.24revert_.3D_true.2
	C_.24submitlabel.3Dnull.29.3B * is_cancelled method added to
	moodleform
	http://docs.moodle.org/en/Development:lib/formslib.php_Usage#Basic_
	Usage_in_A_Normal_Page * added hidden labels to elements within
	groups such as the date_selector select boxes and other elements in
	'groups' * quiz/mod.html migrated to formslib * glossary/edit.html
	migrated to formslib * extended registerNoSubmitButton()
	functionality to automatically add js to onclick to bypass client
	side js input validation.  * added no_submit_button_pressed()
	function that can be used in a similar way to is_cancelled() as a
	test in the main script to see if some button in the page has been
	pressed that is a submit button that is used for some dynamic
	functionality within the form and not to submit the data for the
	whole form.  * added new condition for disabledIf which allows to
	disable another form element if no options are selected from within
	a select element.  * added default 'action' for moodleform  -
	strip_querystring(qualified_me())
	http://docs.moodle.org/en/Development:lib/formslib.php_Usage#Basic_
	Usage_in_A_Normal_Page

2006-12-19 Tuesday 15:00  vyshane

	* restorelib.php: 
	
	Making sure that restore views work in xhtml strict 1.0. MDL-7861.

2006-12-14 Thursday 20:44  jamiesensei

	* mod_form.php, post_form.php: 
	
	added setAdvanced MoodleQuickForm method. And added
	closeHeaderAfter method

2006-12-14 Thursday 16:15  skodak

	* discuss.php, discuss.php: 
	
	SC#341 fixed initilaization of navtail variable; backported from
	HEAD

2006-12-14 Thursday 16:14  skodak

	* discuss.php: 
	
	SC#341 fixed initilaization of navtail variable

2006-12-14 Thursday 15:48  toyomoyo

	* lib.php: 
	
	accessibility fixes

2006-12-13 Wednesday 19:54  nfreear

	* lib.php: 
	
	Functions to return SQL fragments for groups. Modules, core... no
	longer need to refer directly to groups DB tables. (Part of
	MDL-7380, new groups)

2006-12-13 Wednesday 16:24  toyomoyo

	* report.php: 
	
	accessiblity, associating <th> with respective row or col

2006-12-11 Monday 02:33  skodak

	* post.php: 
	
	fixed timestart and timeend warning when adding new discussion

2006-12-11 Monday 02:23  skodak

	* post_form.php: 
	
	fixed mfrom typo

2006-12-09 Saturday 19:43  jamiesensei

	* post.php, post_form.php: 
	
	some changes to date_selector and date_time_selector. Now
	automatically disabledIf disable checkbox is checked. 'optional'
	option includes a disable checkbox.

2006-12-05 Tuesday 16:15  vyshane

	* post.php: 
	
	Merged from 1.7

2006-12-05 Tuesday 16:14  vyshane

	* post.php: 
	
	Removed extra ;

2006-12-05 Tuesday 16:12  vyshane

	* post.php: 
	
	Fixed bug: cannot edit post in each user forum type.

2006-12-04 Monday 17:36  jamiesensei

	* mod_form.php: 
	
	added new 'cancel' element type and introduced new is_cancelled()
	MoodleQuickForm method.  also used new cancel button in all
	mod_forms as well as a 'Revert' button and reworked logic about
	where to go on cancel or after submission for modedit.php

2006-12-04 Monday 16:09  vyshane

	* post.php: 
	
	Merged from 1.7.

2006-12-04 Monday 16:02  vyshane

	* post.php: 
	
	Fix for MDL-7760

2006-12-01 Friday 13:21  vyshane

	* lib.php: 
	
	Merged from 1.7.

2006-12-01 Friday 13:20  vyshane

	* lib.php: 
	
	Added check for guest user in forum_subscribed_users. Guest user
	should never be subsctibed to a forum.

2006-11-30 Thursday 04:57  skodak

	* post_form.php: 
	
	fixed addStopFieldsetElements of submitbutton

2006-11-30 Thursday 03:53  skodak

	* post_form.php: 
	
	fixed attachment typos

2006-11-27 Monday 03:30  skodak

	* index.php, lib.php: 
	
	MDL-7434 all images that convey information should have alt text to
	convey that information - part 8

2006-11-25 Saturday 00:38  jamiesensei

	* mod_form.php, post_form.php: 
	
	changed name of submit buttons to submitbutton instead of sumbit as
	submit was conflicting with method form.submit()

2006-11-24 Friday 14:39  jamiesensei

	* mod_form.php: 
	
	some restructuring of formslib - moving moodleform_mod definition
	to new file course\moodleform_mod.php and some changes to
	moodleform_mod standard elements setup and moodleform disabledIf
	API

2006-11-23 Thursday 17:38  jamiesensei

	* mod_form.php: 
	
	added defaults for when there is no submitted data to
	datetimeselector and small fix for forum\mod_form.php

2006-11-23 Thursday 16:24  skodak

	* post_form.php: 
	
	added new set_max_file_size method to moodleform MDL-6914

2006-11-22 Wednesday 23:19  jamiesensei

	* mod_form.php: 
	
	changed method name addDependency to disabledIf and removed
	data/mod.html

2006-11-22 Wednesday 15:48  skodak

	* index.php: 
	
	Forums index page, add table headers for section/week MDL-7480 and
	fixed section_links block for weekscss format

2006-11-21 Tuesday 19:02  jamiesensei

	* mod.html, mod_form.php: 
	
	more fixes for lockoptions behaviour; changes to
	forum/mod_form.php; removed forum/mod.html

2006-11-21 Tuesday 17:33  jamiesensei

	* lib.php, mod_form.php: 
	
	added commenting to addDependency method and used new functionality
	in forum\mod_form.php

2006-11-15 Wednesday 15:49  jamiesensei

	* post_form.php: 
	
	little bit of clean up. removed extra global var and format element
	helpbutton is now included in element definition.

2006-11-13 Monday 15:52  jamiesensei

	* mod_form.php: 
	
	glossary form migrated to formslib and other formslib forms now
	using $COURSE global

2006-11-13 Monday 15:38  vyshane

	* post.php: 
	
	Error message to use lang string nopostdiscussion

2006-11-13 Monday 15:34  vyshane

	* lib.php: 
	
	$SITE is not needed

2006-11-13 Monday 15:32  vyshane

	* lib.php: 
	
	Merged from 1.7

2006-11-13 Monday 15:28  vyshane

	* lib.php: 
	
	Fix for MDL-7461. Related to MDL-7383. We still show the add
	discussion button to guests, but only if we are not in the site
	news.

2006-11-13 Monday 14:02  vyshane

	* lib.php, post.php: 
	
	Fixes for MDL-7461. Removed checks for legacy guest capability as
	well (redundant).

2006-11-13 Monday 11:27  vyshane

	* lib.php: 
	
	Merged from 1.7

2006-11-13 Monday 11:14  vyshane

	* lib.php: 
	
	Fix for MDL-7383. Edit and Delete links aren't shown when printing
	posts if the user should not be able to do these (checks were
	already done in post.php as well).

2006-11-13 Monday 02:36  skodak

	* post.php, post_form.php: 
	
	readded file uploads to forum post form, file processing was not
	updated because it would need a rewrite MDL-6961

2006-11-12 Sunday 19:07  jamiesensei

	* mod_form.php: 
	
	fixed problem with select box element for 'forum type' which must
	sometimes display option which is otherwise unselectable.

2006-11-12 Sunday 16:55  skodak

	* settracking.php, subscribe.php, user.php, discuss.php, index.php,
	markposts.php: 
	
	fixed obsoleted use of course->category to find site course - now
	used SITEID instead MDL-1899

2006-11-10 Friday 11:04  jamiesensei

	* lib.php, mod_form.php: 
	
	migrated mod/forum/mod.html to new formslib

2006-11-10 Friday 07:04  skodak

	* post.php, post_form.php: 
	
	coding style changes MDL-6961

2006-11-09 Thursday 17:28  moodler

	* version.php, db/access.php: 
	
	Fix throttling capabilities so this works   MDL-7414

2006-11-09 Thursday 17:26  moodler

	* version.php, db/access.php: 
	
	FIxed problem where capability forum:nothrottling was not fully
	renamed and was thus left useless.   MDL-7414

2006-11-09 Thursday 15:21  toyomoyo

	* db/: migrate2utf8.php, migrate2utf8.xml: 
	
	drop utf8 support from HEAD MDL-6332

2006-11-08 Wednesday 17:45  moodler

	* discuss.php: 
	
	Merged guest reply fix for MDL-7393

2006-11-08 Wednesday 17:42  moodler

	* discuss.php: 
	
	Fix for missing "reply" links for guests  doh!	  MDL-7393

2006-11-08 Wednesday 14:22  jamiesensei

	* post.php: 
	
	removed trusttext method from formslib which was unnecessary and
	revised trusttext use in mod/form/post.php

2006-11-07 Tuesday 17:08  jamiesensei

	* post.html, post_form.php: 
	
	following on from last commit to post.php removing redundant
	post.html and adding post_form.php new formslib form description

2006-11-07 Tuesday 16:48  jamiesensei

	* lib.php, post.php: 
	
	migrated mod/forum/post.php to formslib and fixed a string in
	course/edit_form.php

2006-11-07 Tuesday 04:36  skodak

	* user.php: 
	
	better param handling SC#331; backported from MOODLE_17_STABLE

2006-11-07 Tuesday 04:35  skodak

	* user.php: 
	
	better param handling SC#331; merged from MOODLE_17_STABLE

2006-11-07 Tuesday 04:33  skodak

	* user.php: 
	
	better param handling SC#331

2006-11-07 Tuesday 00:28  moodler

	* post.php: 
	
	Fixed up the URL after posting (too many #hash)

2006-11-05 Sunday 17:35  moodler

	* discuss.php: 
	
	Merged reply link  fix from stable

2006-11-05 Sunday 17:34  moodler

	* discuss.php: 
	
	DOn't show reply links to logged-in users if they can't reply

2006-11-02 Thursday 10:10  toyomoyo

	* lib.php: 
	
	merged fix for MDL_7112 select distinct on text fields

2006-11-02 Thursday 10:09  toyomoyo

	* lib.php: 
	
	fix for MDL-7112 select distinct on text fields

2006-11-01 Wednesday 14:29  moodler

	* lib.php, lib.php: 
	
	Fixed SQL for Oracle (forum searching) MDL-7317

2006-10-29 Sunday 15:23  moodler

	* lib.php: 
	
	Merged some performance improvements from stable

2006-10-29 Sunday 13:39  moodler

	* lib.php: 
	
	Extra caching and efficiency in forum_cron

2006-10-27 Friday 06:46  stronk7

	* db/postgres7.php: 
	
	Deprecating old "upgrade" files. MDL-7214
	
	Merged from MOODLE_17_STABLE

2006-10-27 Friday 06:39  stronk7

	* db/mysql.php: 
	
	Deprecating old "upgrade" files. MDL-7214
	
	Merged from MOODLE_17_STABLE

2006-10-27 Friday 06:29  stronk7

	* db/postgres7.php: 
	
	Deprecating old "upgrade" files. MDL-7214

2006-10-27 Friday 06:25  stronk7

	* db/mysql.php: 
	
	Deprecating old "upgrade" files. MDL-7214

2006-10-27 Friday 01:43  stronk7

	* db/upgrade.php: 
	
	New upgrade.php file added for this module. MDL-7214
	
	Merged from HEAD

2006-10-27 Friday 01:33  stronk7

	* db/upgrade.php: 
	
	file upgrade.php was added on branch MOODLE_17_STABLE on 2006-10-26
	17:43:06 +0000

2006-10-27 Friday 01:33  stronk7

	* db/upgrade.php: 
	
	New upgrade.php file added for this module. MDL-7214

2006-10-26 Thursday 22:15  sam_marshall

	* post.php: 
	
	The 'Activity is currently hidden' check in mod/forum/post.php
	incorrectly used 'manageactivities' capability instead of
	'viewhiddenactivities', fixing.

2006-10-26 Thursday 22:12  sam_marshall

	* post.php: 
	
	The 'Activity is currently hidden' check in mod/forum/post.php
	incorrectly used 'manageactivities' capability instead of
	'viewhiddenactivities', fixing.

2006-10-25 Wednesday 17:04  moodler

	* lib.php: 
	
	Merged AS keyword fixes from stable  MDL-7207

2006-10-25 Wednesday 17:02  moodler

	* lib.php: 
	
	More rogue AS keywords	 MDL-7207

2006-10-25 Wednesday 04:22  skodak

	* lib.php: 
	
	fixed When unassigning a role, forum_role_unassign unsubscribes the
	user even if you have other roles there MDL-7120; merged from
	MOODLE_17_STABLE

2006-10-25 Wednesday 04:20  skodak

	* lib.php: 
	
	fixed When unassigning a role, forum_role_unassign unsubscribes the
	user even if you have other roles there MDL-7120

2006-10-24 Tuesday 23:58  moodler

	* discuss.php: 
	
	Allow autologin as guest when viewing discussions (come in via
	link, say)

2006-10-24 Tuesday 23:55  moodler

	* discuss.php: 
	
	It's OK to be a guest when looking at a discussion  :-)

2006-10-24 Tuesday 12:26  toyomoyo

	* index.php: 
	
	merged fixing capabilities

2006-10-24 Tuesday 12:26  toyomoyo

	* index.php: 
	
	fixing capabilities

2006-10-23 Monday 21:23  moodler

	* lib.php: 
	
	Merged fix for letting guests see discussion post button from
	stable

2006-10-23 Monday 21:19  moodler

	* lib.php: 
	
	Make sure that guests see the button to add a new discussion (it
	will prompt them to enrol later)

2006-10-23 Monday 12:53  moodler

	* lib.php, post.php, subscribe.php, view.php, lib.php, post.php,
	subscribe.php, view.php: 
	
	Better handling for guest in forums  MDL-7125

2006-10-23 Monday 11:29  moodler

	* rate.php: 
	
	Merged capability name fix from stable

2006-10-23 Monday 11:28  moodler

	* rate.php: 
	
	FIxed a bad capability	 ratepost -> rate

2006-10-22 Sunday 16:25  moodler

	* index.php: 
	
	Merged missing </span> from stable

2006-10-22 Sunday 16:25  moodler

	* index.php: 
	
	Fixed a missing </span>

2006-10-22 Sunday 16:14  moodler

	* lib.php, view.php: 
	
	Merged XHTML fixes from stable

2006-10-22 Sunday 16:12  moodler

	* lib.php, view.php: 
	
	FIxed some HTML warnings

2006-10-22 Sunday 15:59  moodler

	* lib.php: 
	
	Removed a HTML warning	 & --> &amp;

2006-10-22 Sunday 05:05  skodak

	* rsslib.php: 
	
	Seeing ####TRUSTTEXT#### in RSS feeds MDL-7147 - fixed RSS
	discussion feed type too; merged from MOODLE_17_STABLE

2006-10-22 Sunday 05:04  skodak

	* rsslib.php: 
	
	Seeing ####TRUSTTEXT#### in RSS feeds MDL-7147 - fixed RSS
	discussion feed type too

2006-10-22 Sunday 04:30  skodak

	* post.php: 
	
	fixed undefined modcontext in forum; merged from MOODLE_17_STABLE

2006-10-22 Sunday 04:29  skodak

	* post.php: 
	
	fixed undefined modcontext in forum

2006-10-22 Sunday 02:28  stronk7

	* db/: oci8po.php, oci8po.sql, oci8po.php, oci8po.sql: 
	
	Deleting some old oci8po files from CVS.

2006-10-22 Sunday 00:00  moodler

	* rsslib.php: 
	
	Merged fix for notice from stable

2006-10-21 Saturday 23:59  moodler

	* rsslib.php: 
	
	Fixed a notice (not important)

2006-10-21 Saturday 22:11  moodler

	* rsslib.php: 
	
	Strip trusttext markers from text ...	MDL-7147
	
	Petr, can you review the whole thing?

2006-10-21 Saturday 01:53  moodler

	* post.php: 
	
	Merged enrolment-related fixes from stable

2006-10-21 Saturday 01:49  moodler

	* post.php: 
	
	WHen a guest hits reply, they now get told they have to enrol and
	get sent there.   In manual enrolment they are returned to the post
	(eventually all the plugins should do that).

2006-10-20 Friday 14:19  moodler

	* discuss.php, post.php: 
	
	Merged fixes for MDL-7116 from stable

2006-10-20 Friday 14:07  moodler

	* discuss.php, post.php: 
	
	I've fixed how the forums look when guest is logged in, so that
	they see the Reply link and if they press it get asked to log in
	properly.

2006-10-20 Friday 13:09  toyomoyo

	* lib.php: 
	
	merged, fixed an infinite loop

2006-10-20 Friday 13:08  toyomoyo

	* lib.php: 
	
	fixed an infinite loop

2006-10-20 Friday 11:35  moodler

	* lib.php: 
	
	Merged fix from stable (forum search form help button)

2006-10-20 Friday 11:33  moodler

	* lib.php: 
	
	Slight tidy-up for forum search form

2006-10-20 Friday 06:44  skodak

	* lib.php: 
	
	temporary patch for the forum trouble that is breaking installs
	MDL-7114 ; merged from MOODLE_17_STABLE

2006-10-20 Friday 06:42  skodak

	* lib.php: 
	
	temporary patch for the forum trouble that is breaking installs
	MDL-7114

2006-10-20 Friday 06:13  stronk7

	* lib.php: 
	
	Adding support for the new mssql_n driver
	
	Merged from MOODLE_17_STABLE

2006-10-20 Friday 06:12  stronk7

	* lib.php: 
	
	Adding support for the new mssql_n driver

2006-10-19 Thursday 03:59  skodak

	* lib.php: 
	
	Notice when creating one forum... MDL-7063 ; merged from
	MOODLE_17_STABLE

2006-10-19 Thursday 03:58  skodak

	* lib.php: 
	
	Notice when creating one forum... MDL-7063

2006-10-18 Wednesday 16:01  toyomoyo

	* post.html: 
	
	merged fix for MDL-7066, proper capability check for forum
	attachments

2006-10-18 Wednesday 16:00  toyomoyo

	* post.html: 
	
	fix for MDL-7067, proper capability for forum attachments

2006-10-18 Wednesday 15:50  toyomoyo

	* post.php: 
	
	merged fix for MDL-7066, users will replypost set to prohit can not
	edit own post

2006-10-18 Wednesday 15:49  toyomoyo

	* post.php: 
	
	fix for MDL-7066, users with replypost set to prohibit can not edit
	own post

2006-10-18 Wednesday 05:06  skodak

	* lib.php: 
	
	Fix forum reset - remove "DELETE .. USING ... " mysqlisms MDL-7053
	; merged from MOODLE_17_STABLE

2006-10-18 Wednesday 05:05  skodak

	* lib.php: 
	
	Fix forum reset - remove "DELETE .. USING ... " mysqlisms MDL-7053

2006-10-17 Tuesday 18:05  thompson697

	* restorelib.php: 
	
	Apply modularity to the creation of the log file during restore to
	a new course.  Remove the responsibility for loging the application
	of the course start date offset, from activity modules to the
	backup module.	Merged from stable branch

2006-10-17 Tuesday 17:10  moodler

	* post.php: 
	
	Merged two recent checkins from Moodle 1.7, stripslashes and navbar
	fixes

2006-10-17 Tuesday 17:07  moodler

	* post.php: 
	
	Cleaned up some navigation when posting

2006-10-17 Tuesday 16:58  moodler

	* post.php: 
	
	Fixed slashes problem on re-editing new post   MDL-7052

2006-10-17 Tuesday 13:18  toyomoyo

	* lib.php: 
	
	merged fix for MDL-6968

2006-10-17 Tuesday 13:18  toyomoyo

	* lib.php: 
	
	fix for MDL-6968

2006-10-17 Tuesday 12:46  toyomoyo

	* discuss.php, lib.php: 
	
	merged proper fix for MDL-6926

2006-10-17 Tuesday 12:45  toyomoyo

	* lib.php, discuss.php: 
	
	proper fix for MDL-6926

2006-10-17 Tuesday 12:38  toyomoyo

	* lib.php: 
	
	merged fix for MDL-6926

2006-10-17 Tuesday 12:37  toyomoyo

	* lib.php: 
	
	fix for MDL-6926

2006-10-16 Monday 18:40  thompson697

	* restorelib.php: 
	
	Apply modularity to the creation of the log file during restore to
	a new course.  Remove the responsibility for loging the application
	of the course start date offset, from activity modules to the
	backup module.

2006-10-14 Saturday 07:27  gustav_delius

	* view.php, view.php: 
	
	When javascript was turned off the group menu did not work because
	the Go button linked to course/view.php rather than
	mod/forum/view.php

2006-10-14 Saturday 07:06  gustav_delius

	* view.php: 
	
	When javascript was turned off the group menu did not work because
	the Go button linked to course/view.php rather than
	mod/forum/view.php

2006-10-14 Saturday 06:28  gustav_delius

	* view.php: 
	
	When javascript was turned off the group menu did not work because
	the Go button linked to course/view.php rather than
	mod/forum/view.php

2006-10-12 Thursday 10:49  toyomoyo

	* restorelib.php: 
	
	merged fixing warnings during restore

2006-10-12 Thursday 10:48  toyomoyo

	* restorelib.php: 
	
	fixing warnings during restore

2006-10-11 Wednesday 14:22  moodler

	* db/access.php: 
	
	Merged fixes for MDL-6907 from stable

2006-10-11 Wednesday 14:16  moodler

	* db/access.php: 
	
	All the PREVENTS from the legacy roles have been removed (and thus
	are treated as INHERIT by default).
	
	See MDL-6907 for details.

2006-10-10 Tuesday 15:43  moodler

	* lib.php: 
	
	Merged bogon fix from stable

2006-10-10 Tuesday 15:38  moodler

	* lib.php: 
	
	Deleted a bogon

2006-10-10 Tuesday 13:23  vyshane

	* lib.php: 
	
	Removed teacher forums from course reset.

2006-10-10 Tuesday 13:20  vyshane

	* lib.php: 
	
	Merged fix for MDL-6537

2006-10-10 Tuesday 13:15  vyshane

	* lib.php: 
	
	Fix for MDL-6537. Added checkbox to allow deletion of forum
	subscriptions when resetting a course. Added code for forum
	subscriptions deletion.

2006-10-10 Tuesday 06:55  stronk7

	* lib.php: 
	
	Add odbc_msql dbtype to a bunch of places.

2006-10-08 Sunday 04:47  skodak

	* mod.html: 
	
	fixed some incorrect strtolower() calls that were breaking non
	ascii languages MDL-6135

2006-10-05 Thursday 11:18  vyshane

	* lib.php, rate.php: 
	
	Merged fixes for MDL-2583

2006-10-05 Thursday 11:14  vyshane

	* lib.php, rate.php: 
	
	Fixes for MDL-2583

2006-10-04 Wednesday 22:50  thompson697

	* restorelib.php: 
	
	Change creation of restorelog file location to protected backupdata
	folder.  Reassign style and language links

2006-10-03 Tuesday 09:19  moodler

	* discuss.php: 
	
	Patched login for discussions

2006-10-03 Tuesday 09:17  moodler

	* discuss.php: 
	
	Patched login action on news forum

2006-09-29 Friday 15:28  vyshane

	* discuss.php: 
	
	Fixed missing separator (MDL-3975).

2006-09-28 Thursday 16:29  vyshane

	* lib.php: 
	
	Merged fix for MDL-6681

2006-09-28 Thursday 16:26  vyshane

	* lib.php: 
	
	Fixed unneeded notify output for bug MDL-6681.

2006-09-28 Thursday 15:29  vyshane

	* discuss.php, post.php: 
	
	Fixes for MDL-3975
	
	Changes to discuss.php and post.php so that the single discussion
	type forums are handled more consistently.

2006-09-27 Wednesday 18:44  skodak

	* lib.php: 
	
	fixed incorrectly quoted $LIKE in forum recent activity sql

2006-09-26 Tuesday 16:37  vyshane

	* discuss.php, lib.php, rsslib.php, view.php: 
	
	Fix for MDL-3975. Also added function in rsslib.php to delete
	cached RSS feeds for the source and destination forums when moving
	a discussion between 2 forums.

2006-09-26 Tuesday 13:08  martinlanghoff

	* lib.php: 
	
	data, forum, glossary: use sql_ilike() for a portable LIKE operator

2006-09-26 Tuesday 10:02  vyshane

	* lib.php: 
	
	Fixed bug in forum_make_mail_post()

2006-09-25 Monday 22:15  skodak

	* discuss.php: 
	
	fixed quoting error

2006-09-25 Monday 21:14  vyshane

	* discuss.php: 
	
	Changed to require_capability where possible

2006-09-25 Monday 21:05  vyshane

	* discuss.php: 
	
	Bug fixes

2006-09-25 Monday 16:50  vyshane

	* lib.php: 
	
	Abstracted query in a new function
	forum_discussions_user_has_posted_in()

2006-09-25 Monday 16:41  vyshane

	* lib.php: 
	
	Added $forums[$i]->type == 'qanda' check to make things more
	explicit

2006-09-25 Monday 16:25  vyshane

	* lib.php: 
	
	Fix for MDL-6212. Forum searches now respect the qanda forums. In
	these forums, the user should not be able to see posts from
	discussions where the user has not yet posted, unless a post is the
	first post in the discussion (the question), or unless the user has
	the capabilitiy mod/forum:viewqandawithoutposting.

2006-09-25 Monday 13:12  vyshane

	* post.php: 
	
	Discussions from a forum of type 'single' should not be splittable.
	Merge from 1.6 branch.

2006-09-25 Monday 13:08  vyshane

	* post.php: 
	
	Forums of type 'single' should not be splittable. Added check for
	this.

2006-09-25 Monday 13:00  vyshane

	* lib.php: 
	
	Merged fix for MDL-6521

2006-09-25 Monday 12:55  vyshane

	* lib.php: 
	
	Fix for MDL-6521

2006-09-25 Monday 12:11  vyshane

	* lib.php: 
	
	Fixed - wrong constant name

2006-09-25 Monday 12:01  vyshane

	* restorelib.php, restorelib.php: 
	
	Merged fix for MDL-6363

2006-09-25 Monday 11:59  vyshane

	* restorelib.php: 
	
	Fix for MDL-6363. Patch by Si Carter.

2006-09-25 Monday 10:34  vyshane

	* lib.php: 
	
	Fix in forum_make_mail_post()

2006-09-25 Monday 09:35  vyshane

	* lib.php: 
	
	Typo in capability name.

2006-09-24 Sunday 23:28  vyshane

	* search.php: 
	
	Merged fix for MDL-6615.

2006-09-24 Sunday 23:19  vyshane

	* search.php: 
	
	Fix for MDL-6615. Patch by Luis Peralta.

2006-09-24 Sunday 22:01  vyshane

	* index.php, lib.php: 
	
	Changed <module>_print_recent_activity() functions so that they
	don't use $isteacher. However, I've left the $isteacher parameter
	in the functions, for backward compatibility so as not to break
	thrid party modules. Should we remove the parameter now?

2006-09-22 Friday 14:29  vyshane

	* index.php: 
	
	Replaced isteacher & co. Fixed some issues.

2006-09-22 Friday 14:19  moodler

	* lib.php: 
	
	Upgrading table to rename the context->aggregatelevel field which
	was really bugging me.	 Code should be a little bit more readable
	now.
	
	Apologies to those with non-core code already using this field.

2006-09-22 Friday 11:36  moodler

	* view.php: 
	
	Fix for MDL-6319, to fix opposite-state links for unread tracking
	settings

2006-09-21 Thursday 22:05  moodler

	* index.php, view.php: 
	
	Fixed typos in capability names

2006-09-21 Thursday 16:32  vyshane

	* index.php, lib.php, view.php, db/access.php: 
	
	Removed capability mod/forum:viewforum. We will use
	moodle/course:viewhiddenactivities and hide/unhide forums instead.

2006-09-21 Thursday 15:40  vyshane

	* lib.php, restorelib.php: 
	
	Added some notes for future reference

2006-09-21 Thursday 13:42  vyshane

	* discuss.php, view.php: 
	
	Cleanups in view.php. Also moved logging of a forum view so that
	the event is not logged if the user does not have permission to
	view discussions in a forum (user never sees the discussions, so
	not counted as a view).
	
	Tidy up of error display in discuss.php for when a user does not
	have permission to view the discussion.

2006-09-21 Thursday 05:25  skodak

	* version.php, db/access.php: 
	
	forum throttling capability meaning reversed

2006-09-21 Thursday 05:00  skodak

	* db/access.php: 
	
	major whitespace cleanup - fixed trailng whitespace in new files
	and admin area

2006-09-21 Thursday 03:46  skodak

	* db/oci8po.sql: 
	
	major whitespace cleanup - fixed \r\n line-ending

2006-09-21 Thursday 00:54  vyshane

	* lib.php, restorelib.php: 
	
	Added course module groupmodes in convertion to roles logic

2006-09-20 Wednesday 10:59  vyshane

	* lib.php, restorelib.php, view.php, db/mysql.php,
	db/postgres7.php: 
	
	Added more overrides during restore process for forums from 1.6.
	Plus some bug fixes.

2006-09-20 Wednesday 10:47  vyshane

	* restorelib.php: 
	
	Fixed notice

2006-09-19 Tuesday 05:32  skodak

	* version.php, db/access.php: 
	
	added capabilty risks into access.php and GUI for define role and
	override; minor fixes for capability types in forum

2006-09-18 Monday 20:48  vyshane

	* post.php: 
	
	Fixed notice

2006-09-18 Monday 17:13  moodler

	* rate.php, restorelib.php, rsslib.php: 
	
	FIxed to use the new debugging function

2006-09-17 Sunday 10:32  martinlanghoff

	* discuss.php: 
	
	Fix bug 6342 - cannot move forum post to other forum when the
	subject includes an apostrophe
	
	This is actually a merge of a similar fix from HEAD

2006-09-17 Sunday 10:27  martinlanghoff

	* discuss.php: 
	
	re-merge of "Merged fix from 1.6 for Bug #5131 - RSS Feeds and
	Moving Discussions."
	
	Originally by vyshane - got dropped accidentally in one of the
	biiiiig roles commits.

2006-09-15 Friday 14:15  moodler

	* lib.php: 
	
	Fixed some subscription typos

2006-09-15 Friday 14:04  vyshane

	* lib.php, user.php: 
	
	Fixed bug in forum_search_posts(). More testing needed still.

2006-09-14 Thursday 16:57  vyshane

	* lib.php: 
	
	Minor formatting tidyup

2006-09-14 Thursday 16:44  vyshane

	* lib.php, search.php, user.php, db/postgres7.php: 
	
	Converted forum searches so that they take into account the new
	Roles system. Search results will only include what the searcher
	should be able to see based on his/her capabilities.

2006-09-14 Thursday 15:13  moodler

	* post.php: 
	
	Better handling of forum id/object

2006-09-14 Thursday 11:18  vyshane

	* post.php: 
	
	Fix for MDL-6517. Patch by David Mudrak.

2006-09-14 Thursday 11:11  vyshane

	* post.php: 
	
	Fix for bug MDL-6517. Patch by David Mudrak (thanks!).

2006-09-13 Wednesday 21:19  thompson697

	* restorelib.php: 
	
	Complete work on Roll Forwards - Restore from previous semester
	(MDL-5532) * Add fields to restore form to enable changes to Short
	Name, Full Name and Start Date * Start Date offset added to Restore
	process * Created Restorelog file in Course files area * Activity
	Modules use offset to change dates * Activity Modules write changes
	to Restorelog

2006-09-13 Wednesday 16:11  moodler

	* lib.php: 
	
	Added forum_role_assign and forum_role_unassign

2006-09-13 Wednesday 14:40  moodler

	* lib.php: 
	
	Expanded forum_add_user_default_subscriptions() for more contexts
	
	Added	 forum_remove_user_subscriptions()

2006-09-12 Tuesday 16:22  moodler

	* version.php: 
	
	Small bump for guest role fix

2006-09-12 Tuesday 15:10  moodler

	* version.php: 
	
	Reload the guest role using new defaults

2006-09-12 Tuesday 13:58  moodler

	* db/access.php: 
	
	Changed some default permissions for the guest role

2006-09-11 Monday 11:13  vyshane

	* post.php: 
	
	Fix for MDL-6405

2006-09-06 Wednesday 23:30  stronk7

	* search.php: 
	
	Disable regexp searches for MSSQL and Oracle

2006-09-06 Wednesday 23:29  stronk7

	* lib.php: 
	
	Now forum searches are working both under MSSQL and Oracle (in a
	case-sensitive behaviour for Oracle, see code comments and
	http://docs.moodle.org/en/XMLDB_Problems#Case-insensitive_searches)

2006-09-06 Wednesday 06:37  stronk7

	* lib.php: 
	
	Now forum_get_discussions() is using $limitfrom and $limitnum

2006-09-06 Wednesday 06:31  stronk7

	* lib.php: 
	
	Adding support for MSSQL and Oracle in this select. Not really sure
	why we need one OUTER join there, if every discussion has one
	usermodified but.....not time now.

2006-09-05 Tuesday 06:00  gustav_delius

	* discuss.php: 
	
	Had to comment out the line that updates the timemodified field
	when a discussion is moved from one forum to another one because
	the timemodified field is used to sort the list of discussions and
	also to provide the "Last post" date. It should really be renamed
	to something like "timeoflastpost".

2006-09-05 Tuesday 03:33  stronk7

	* db/: mysql.php, postgres7.php: 
	
	Included course/lib.php to be able to rebuild_course_cache() It was
	working until some time ago, but now it's required.

2006-09-04 Monday 06:32  stronk7

	* lib.php: 
	
	notice() should be allowed at install/upgrade. It stops the whole
	process without need to do it. Changed to notify().
	
	Thanks to one "orphan" forum in moodle.org (234) we detected this.

2006-09-04 Monday 06:30  stronk7

	* db/: mysql.php, postgres7.php: 
	
	notice() should be allowed at install/upgrade. It stops the whole
	process without need to do it. Changed to notify()

2006-09-03 Sunday 16:01  moodler

	* lib.php: 
	
	Replaced forum_get_user() with
	forum_add_user_default_subscriptions()

2006-09-01 Friday 14:56  moodler

	* lib.php: 
	
	forum subscriptions use capabilities

2006-08-29 Tuesday 10:09  vyshane

	* db/: mysql.php, postgres7.php: 
	
	Fix for bug MDL-6385

2006-08-29 Tuesday 00:20  stronk7

	* db/install.xml: 
	
	Dropping forum.open and forum.assesspublic (mimic from .sql files)

2006-08-28 Monday 11:51  vyshane

	* db/: mysql.sql, postgres7.php, postgres7.sql: 
	
	Dropping forum.open and forum.assesspublic from .sql files. Added
	forum upgrade to roles code to postgres7.php.

2006-08-28 Monday 04:45  skodak

	* lib.php, post.html, post.php, search.php, version.php,
	db/mysql.php, db/postgres7.php: 
	
	trusttext implementation in Forum module, fixed incorrect merging,
	added missing postresql upgrade code, some other minor fixes

2006-08-25 Friday 10:41  vyshane

	* backuplib.php, lib.php, restorelib.php, db/mysql.php: 
	
	Changes to take care of forum upgrade to new roles system. Backed
	up forums will also be converted to the new roles system if the
	backup was made pre-roles.

2006-08-22 Tuesday 15:42  vyshane

	* restorelib.php: 
	
	Removed deprecated teacher forum type

2006-08-22 Tuesday 15:38  vyshane

	* discuss.php, view.php: 
	
	Removed deprecated forum type teacher.

2006-08-22 Tuesday 13:56  vyshane

	* db/mysql.php: 
	
	Added prevent for mod/prevent:createattachment for default students
	and guests in teacher forums

2006-08-22 Tuesday 13:45  vyshane

	* index.php, lib.php, db/mysql.php: 
	
	Upgrade now works. Needs more testing.

2006-08-22 Tuesday 10:43  vyshane

	* mod.html: 
	
	Removed forum->open config since roles will take over this

2006-08-22 Tuesday 10:24  vyshane

	* db/mysql.php: 
	
	Need to pass the module id and not the object to add_course_module

2006-08-21 Monday 16:45  vyshane

	* db/mysql.php: 
	
	Fixed bug - empty teacher forums (deleted) should not have a course
	module created for them.

2006-08-21 Monday 14:56  vyshane

	* backuplib.php, index.php, lib.php, mod.html, restorelib.php,
	version.php, view.php, db/mysql.php: 
	
	Removed $forum->open, $forum->assesspublic from code. Fixed bug in
	upgrade code, changed module config form to accomdate removal of
	forum.assesspublic and forum.open.

2006-08-19 Saturday 19:15  skodak

	* post.html: 
	
	fixed short php tag and end tag in comment

2006-08-18 Friday 15:08  vyshane

	* db/mysql.php: 
	
	Updated upgrade to roles system

2006-08-18 Friday 12:17  vyshane

	* db/mysql.php: 
	
	Forum upgrade to roles in progress (commented out).

2006-08-17 Thursday 11:52  vyshane

	* mod.html: 
	
	Fixed warning

2006-08-16 Wednesday 17:11  toyomoyo

	* user.php: 
	
	some more UI change

2006-08-16 Wednesday 11:24  vyshane

	* post.html, post.php: 
	
	Fixing notices

2006-08-16 Wednesday 10:33  vyshane

	* lib.php: 
	
	Fixed forum_print_post. Thanks Yu :)

2006-08-14 Monday 15:37  vyshane

	* lib.php, post.php, user.php: 
	
	Added has_capability calls. Reverted forum_search to pre-roles
	until the function is totally converted to work with roles.

2006-08-14 Monday 13:55  moodler

	* discuss.php, index.php, lib.php, post.html, post.php, rate.php,
	report.php, search.php, subscribe.php, subscribers.php, user.php,
	view.php: 
	
	SWEEPING CLEANUP
	
	The API was changed slightly so that has_capability now takes the
	whole $context object (we almost always have it anyway)
	
	The $kill thing was removed.   If you want to assert a capability
	then use:
	
	    require_capability('capname', $context);
	
	with optional variables to modify the error message
	
	Misc bugs here and there also removed and code tidied

2006-08-12 Saturday 02:36  stronk7

	* db/install.xml: 
	
	Added one comment about recursive FK for the future.

2006-08-12 Saturday 00:45  stronk7

	* db/install.xml: 
	
	Give some more chars to enum fields.

2006-08-12 Saturday 00:35  stronk7

	* db/install.xml: 
	
	XMLDB schema initial commit for forum module

2006-08-10 Thursday 23:51  skodak

	* view.php, version.php: 
	
	new function get_coursemodule_from_id() is now used for obtaining
	of valid $cm from coursemodule id SC#283; backported from HEAD

2006-08-10 Thursday 23:30  skodak

	* version.php, view.php: 
	
	new function get_coursemodule_from_id() is now used for obtaining
	of valid $cm from coursemodule id SC#283; backported from HEAD

2006-08-10 Thursday 13:57  vyshane

	* db/: mysql.php, mysql.sql, postgres7.php, postgres7.sql: 
	
	Adding back lines that mysteriously disapeared.

2006-08-09 Wednesday 21:55  moodler

	* lib.php: 
	
	Fixed a typo, thanks Tim

2006-08-09 Wednesday 17:18  vyshane

	* lib.php: 
	
	More updates in lib.php

2006-08-09 Wednesday 17:17  vyshane

	* db/access.php: 
	
	Added mod/forum:viewhiddentimedposts

2006-08-09 Wednesday 14:59  vyshane

	* discuss.php, lib.php, post.php, rate.php, db/access.php: 
	
	Bug fixes + updated capabilities.

2006-08-09 Wednesday 06:09  skodak

	* version.php, view.php: 
	
	new function get_coursemodule_from_id() is now used for obtaining
	of valid $cm from coursemodule id SC#283

2006-08-08 Tuesday 14:56  vyshane

	* discuss.php, index.php, lib.php, subscribe.php, view.php,
	db/access.php: 
	
	Replaced capability mod/forum:viewdiscussionsfromallgroups by
	moodle/site:accessallgroups in code. Removed former from
	mod/forum/db/access.php.

2006-08-08 Tuesday 13:13  moodler

	* backuplib.php, discuss.php, index.php, lib.php, markposts.php,
	mod.html, post.html, post.php, prune.html, rate.php, report.php,
	restorelib.php, rsslib.php, search.php, settracking.php,
	subscribe.php, subscribers.php, user.php, version.php, view.php,
	db/access.php, db/migrate2utf8.php, db/mysql.php, db/mysql.sql,
	db/postgres7.php, db/postgres7.sql: 
	
	ROLES AND PERMISSIONS  - FIRST CHECK-IN
	=======================================
	
	WARNING:  DEV IS CURRENTLY VERY UNSTABLE.
	
	This is a mega-checkin of the new Roles system.   A lot of changes
	have been made in core and modules.
	
	Currently there are a lot of rough edges and known problems.  We
	are working hard on these .. .the reason for getting this into HEAD
	at this stage is enable us to move faster (our branch was diverging
	from HEAD too much).
	
	Please keep an eye on http://docs.moodle.org/en/Roles for current
	status and information for developers on how to use the new Roles
	system.

2006-08-08 Tuesday 11:32  vyshane

	* db/access.php: 
	
	Added capabilities back

2006-08-04 Friday 13:55  vyshane

	* db/access.php: 
	
	Renamed legacyroles to legacy

2006-08-01 Tuesday 15:33  vyshane

	* db/access.php: 
	
	Updated capability definitions

2006-07-31 Monday 18:05  skodak

	* post.php: 
	
	fixed warning when no referer available; merged from
	MOODLE_16_STABLE

2006-07-31 Monday 18:04  skodak

	* post.php: 
	
	fixed warning when no referer available

2006-07-31 Monday 13:56  martinlanghoff

	* discuss.php: 
	
	Backing out fix for bug #4874

2006-07-31 Monday 12:54  martinlanghoff

	* discuss.php, discuss.php: 
	
	forum: notification of a moved dicussion (bug#4874)
	
	Moving a discussion now leaves a notification message in the
	original location with a link to the new location.
	
	Author: Luke Hudson <luke@catalyst.net.nz>

2006-07-20 Thursday 14:54  skodak

	* lib.php: 
	
	fixed minor PHP5 compatibility problem with clone(); merged from
	MOODLE_16_STABLE

2006-07-20 Thursday 14:53  skodak

	* lib.php: 
	
	fixed minor PHP5 compatibility problem with clone()

2006-07-13 Thursday 16:53  vyshane

	* db/access.php: 
	
	Format tweak

2006-07-13 Thursday 10:50  vyshane

	* db/access.php: 
	
	Updated comments

2006-07-12 Wednesday 16:12  vyshane

	* view.php: 
	
	Updated capabilities.

2006-07-12 Wednesday 13:28  vyshane

	* db/access.php: 
	
	Added context level to definition

2006-07-12 Wednesday 01:34  vyshane

	* lib.php: 
	
	Might need to keep forum_user_can_*

2006-07-11 Tuesday 11:32  vyshane

	* lib.php: 
	
	Removed funciton forum_user_can_view_post(). This is redundant
	since we will be checking through
	has_capability('mod/forum:viewpost')

2006-07-04 Tuesday 16:32  skodak

	* lib.php, search.php, user.php: 
	
	Bug #5909 - Fix use of user_group() because it returns arrays now -
	part 2 forum search fixed too; merged from MOODLE_16_STABLE

2006-07-04 Tuesday 16:30  skodak

	* lib.php, search.php, user.php: 
	
	Bug #5909 - Fix use of user_group() because it returns arrays now -
	part 2 forum search fixed too

2006-06-29 Thursday 16:01  skodak

	* rsslib.php: 
	
	Bug #5944 - error message when moving thread; merged from
	MOODLE_16_STABLE

2006-06-29 Thursday 16:00  skodak

	* rsslib.php: 
	
	Bug #5944 - error message when moving thread

2006-06-27 Tuesday 16:48  vyshane

	* db/access.php: 
	
	Fix for update bug.

2006-06-27 Tuesday 16:07  vyshane

	* db/access.php: 
	
	New format for the capability names.

2006-06-26 Monday 12:44  vyshane

	* discuss.php: 
	
	Merged from 1.6 stable. Error message now displays using notify()
	instead of error() when purging of old RSS feeds fail during a
	discussion move.

2006-06-26 Monday 11:59  vyshane

	* discuss.php: 
	
	Using notify instead of error to display error message when purging
	of RSS files fail during a discussion move between forums.

2006-06-23 Friday 16:25  vyshane

	* db/access.php: 
	
	Reworked structure of the capabilities array.

2006-06-20 Tuesday 16:50  vyshane

	* db/access.php: 
	
	file access.php was initially added on branch MOODLE_17_ROLES.

2006-06-20 Tuesday 16:50  vyshane

	* db/access.php: 
	
	Capabilities definition for the forum module.

2006-06-20 Tuesday 00:21  moodler

	* discuss.php: 
	
	Merged error fix for RSS deletion

2006-06-20 Tuesday 00:20  moodler

	* discuss.php: 
	
	No need for error when deleting RSS feed

2006-06-18 Sunday 16:21  moodler

	* lib.php: 
	
	Merged XHTML fix from stable

2006-06-18 Sunday 16:20  moodler

	* lib.php: 
	
	The forum search form was always wrapping no matter what I tried.
	
	I swapped the textbox and helpbutton around (and got rid of one
	more table)

2006-06-14 Wednesday 16:47  vyshane

	* discuss.php: 
	
	Merged fix from 1.6 for bug:
	
	Notice: Undefined property: id in
	/home/moodle/public_html/certificate/mod/forum/discuss.php on line
	38
	
	This happens when the user is not logged in and wants to view a
	forum of type news.

2006-06-14 Wednesday 16:44  moodler

	* discuss.php: 
	
	Fix for bug:
	
	Notice: Undefined property: id in
	/home/moodle/public_html/certificate/mod/forum/discuss.php on line
	38
	
	when user is not logged in and want to view a forum of type news.

2006-06-07 Wednesday 16:19  vyshane

	* discuss.php, rsslib.php: 
	
	Merged fix from 1.6 for Bug #5131 - RSS Feeds and Moving
	Discussions.

2006-06-07 Wednesday 16:16  vyshane

	* discuss.php, rsslib.php: 
	
	Fix for Bug #5131 - RSS Feeds and Moving Discussions.

2006-06-07 Wednesday 01:25  tjhunt

	* restorelib.php: 
	
	Fix notices when you restore a course with an empty forum. Merged
	from MOODLE_16_STABLE.

2006-06-07 Wednesday 01:23  tjhunt

	* restorelib.php: 
	
	Fix notices when you restore a course with an empty forum.

2006-06-04 Sunday 01:51  stronk7

	* restorelib.php: 
	
	Adding support to the forum user report action in restore. Bug
	3854.  (http://moodle.org/bugs/bug.php?op=show&bugid=3854)
	
	Merged from MOODLE_16_STABLE

2006-06-04 Sunday 01:44  stronk7

	* restorelib.php: 
	
	Adding support to the forum user report action in restore. Bug
	3854.  (http://moodle.org/bugs/bug.php?op=show&bugid=3854)

2006-06-02 Friday 14:49  skodak

	* rsslib.php: 
	
	fixed warning and removed ugly hack in attachment path; merged from
	MOODLE_16_STABLE

2006-06-02 Friday 14:47  skodak

	* rsslib.php: 
	
	fixed warning and removed ugly hack in attachment path

2006-06-02 Friday 07:16  stronk7

	* user.php, version.php, db/mysql.php, db/mysql.sql,
	db/postgres7.php, db/postgres7.sql: 
	
	Adding propper support for the forum->user report log action. It
	was a bit wrong. Code credits go to Petr!
	
	Merged from MOODLE_16_STABLE

2006-06-02 Friday 07:11  stronk7

	* user.php, version.php, db/mysql.php, db/mysql.sql,
	db/postgres7.php, db/postgres7.sql: 
	
	Adding propper support for the forum->user report log action. It
	was a bit wrong. Code credits go to Petr!

2006-05-26 Friday 19:31  skodak

	* lib.php, lib.php: 
	
	sanitize submitted numerical values

2006-05-23 Tuesday 18:25  skodak

	* lib.php: 
	
	fixed RSS feeds warning bug #5591; merged from MOODLE_16_STABLE

2006-05-23 Tuesday 18:24  skodak

	* lib.php: 
	
	fixed RSS feeds warning bug #5591

2006-05-23 Tuesday 00:54  skodak

	* report.php: 
	
	fixed register globals issues for $sort SC #256; merged from
	MOODLE_16_STABLE

2006-05-23 Tuesday 00:51  skodak

	* report.php: 
	
	fixed register globals issues for $sort SC #256

2006-05-22 Monday 10:39  toyomoyo

	* lib.php, post.php: 
	
	merged fix for 5551

2006-05-22 Monday 10:38  toyomoyo

	* lib.php, post.php: 
	
	fix for 5551, can not edit post when set to 1 discussion

2006-05-20 Saturday 04:18  skodak

	* post.html, post.php, prune.html: 
	
	submission in post.php cleanup, fixes for bugs #5530, #5484 and
	SC#252; merged from MOODLE_16_STABLE

2006-05-20 Saturday 04:15  skodak

	* post.html, post.php, prune.html: 
	
	submission in post.php cleanup, fixes for bugs #5530, #5484 and
	SC#252

2006-05-17 Wednesday 14:42  martinlanghoff

	* version.php, db/postgres7.php: 
	
	moodle16cleanup: mod/forum correctly dropping the constraint, so it
	does not report an error during upgrade

2006-05-17 Wednesday 14:29  martinlanghoff

	* db/postgres7.php: 
	
	moodle16cleanup: mod/forum added notification message

2006-05-17 Wednesday 14:25  martinlanghoff

	* version.php, db/postgres7.php: 
	
	moodle16cleanup: mod/forum correctly dropping the constraint, so it
	does not report an error during upgrade

2006-05-17 Wednesday 14:15  martinlanghoff

	* db/postgres7.php: 
	
	moodle16cleanup: mod/forum added notification message

2006-05-16 Tuesday 05:36  skodak

	* markposts.php, post.php, settracking.php, subscribe.php: 
	
	fixed problem when set both loginhttps and https in wwwroot, closes
	bug #5507 and #3848; merged from MOODLE_16_STABLE

2006-05-16 Tuesday 05:32  skodak

	* post.php, settracking.php, subscribe.php, markposts.php: 
	
	fixed problem when set both loginhttps and https in wwwroot, closes
	bug #5507 and #3848

2006-05-15 Monday 23:12  skodak

	* post.html: 
	
	fixed short php tags; merged from MOODLE_16_STABLE

2006-05-15 Monday 23:10  skodak

	* post.html: 
	
	fixed short php tags

2006-05-15 Monday 22:49  skodak

	* post.php: 
	
	better cleaning of post title SC#251 revisited; backported from
	MOODLE_16_STABLE

2006-05-15 Monday 22:48  skodak

	* post.php: 
	
	better cleaning of post title SC#251 revisited; merged from
	MOODLE_16_STABLE

2006-05-15 Monday 22:47  skodak

	* post.php: 
	
	better cleaning of post title SC#251 revisited

2006-05-15 Monday 22:35  skodak

	* post.php: 
	
	better cleaning of post title SC#251; backported from
	MOODLE_16_STABLE

2006-05-15 Monday 22:32  skodak

	* post.php: 
	
	better cleaning of post title SC#251; merged from MOODLE_16_STABLE

2006-05-15 Monday 22:31  skodak

	* post.php: 
	
	better cleaning of post title SC#251

2006-05-07 Sunday 00:58  stronk7

	* restorelib.php: 
	
	Now, when a single forum is restored and no user data was created,
	the initial discussion/post is automatically generated. Bug 5418. 
	(http://moodle.org/bugs/bug.php?op=show&bugid=5418)
	
	Merged from MOODLE_16_STABLE

2006-05-07 Sunday 00:55  stronk7

	* restorelib.php: 
	
	Now, when a single forum is restored and no user data was created,
	the initial discussion/post is automatically generated. Bug 5418. 
	(http://moodle.org/bugs/bug.php?op=show&bugid=5418)
	
	Merged from MOODLE_15_STABLE

2006-05-07 Sunday 00:53  stronk7

	* restorelib.php: 
	
	Now, when a single forum is restored and no user data was created,
	the initial discussion/post is automatically generated. Bug 5418. 
	(http://moodle.org/bugs/bug.php?op=show&bugid=5418)

2006-04-24 Monday 17:05  vyshane

	* db/: mysql.php, postgres7.php: 
	
	Fixed inserts for log_display.

2006-04-24 Monday 16:14  vyshane

	* db/: mysql.sql, oci8po.sql, postgres7.sql: 
	
	Fixed inserts for log_display table

2006-04-23 Sunday 01:29  skodak

	* lib.php: 
	
	typo - fixed undefined $courseid

2006-04-19 Wednesday 20:49  moodler

	* lib.php: 
	
	Merged formatting improvement from HEAD

2006-04-19 Wednesday 20:47  moodler

	* lib.php: 
	
	Fix group picture in HTML mail when no CSS is used

2006-04-14 Friday 12:53  moodler

	* rsslib.php: 
	
	RSS feed based on modified date, not created date

2006-04-14 Friday 12:51  mjollnir_

	* lib.php, post.html: 
	
	Disable gui for forum timed posts since we are not quite ready for
	it. All code is still there but hidden & controlled by a config var
	forum_enabletimedposts.

2006-04-14 Friday 12:47  moodler

	* lib.php: 
	
	After discussion with Penny I think it's best to not include the
	forum timed posts in 1.6 for now.   It still needs some work and we
	are running out of time.

2006-04-13 Thursday 20:05  moodler

	* lib.php: 
	
	Merged fixes from stable

2006-04-13 Thursday 20:05  moodler

	* lib.php: 
	
	1) Removed timeout when processing digests (can be long)   bug 4532
	
	2) Cleaned up logic for tracking cleaning (use set_config function)

2006-04-12 Wednesday 16:58  moodler

	* rsslib.php: 
	
	Strip tags from final RSS feed name

2006-04-12 Wednesday 00:13  stronk7

	* restorelib.php: 
	
	htmlentities() to s()

2006-04-11 Tuesday 13:19  mjollnir_

	* lib.php: 
	
	Moving attachments attached to forum posts when moving threads
	between forums was broken when dataroot is over an nfs mount
	(important for clustering!)... this fixes it but please can
	somebody test this on windows

2006-04-07 Friday 22:54  moodler

	* discuss.php, lib.php: 
	
	Merged fixes for forum_user_can_view_post from stable

2006-04-07 Friday 22:50  moodler

	* discuss.php, lib.php: 
	
	Clean up of forum_user_can_view_post()

2006-04-05 Wednesday 14:41  moodler

	* db/postgres7.php: 
	
	FIxing some blank lines as per bug 5095

2006-04-05 Wednesday 14:14  moodler

	* db/postgres7.php: 
	
	FIxed blank trailing lines  (bug 5095)

2006-04-05 Wednesday 10:15  moodler

	* lib.php, post.php: 
	
	Changed how the "edited by" message appears in the posts edited by
	admin

2006-03-29 Wednesday 07:31  stronk7

	* restorelib.php: 
	
	Typo.

2006-03-21 Tuesday 17:08  moodler

	* post.php: 
	
	Change of function name, no actual change

2006-03-21 Tuesday 15:34  moodler

	* lib.php: 
	
	New feature:  you can now reset a course simply and easily using
	the new "Reset" item on the course admin menu.
	
	This allows you to delete user data from the course without
	touching the course itself.

2006-03-17 Friday 15:44  danstowell

	* rsslib.php: 
	
	Fixes to rsslib to ensure the output is valid RSS 2.0

2006-03-16 Thursday 18:36  danstowell

	* lib.php: 
	
	Re bug 4640 - enabled filtering for attachment link HTML - enables
	MP3 uploads to use mediafilter, for example

2006-03-15 Wednesday 17:56  moodler

	* lib.php: 
	
	Added some more efficiencies to the code, but something seems to be
	wrong with this function as the SQL is not finding any new posts at
	all for me.
	
	Needs checking!

2006-03-15 Wednesday 17:50  moodler

	* lib.php: 
	
	Fixed classes for styles in forum overview in My Moodle

2006-03-13 Monday 20:52  moodler

	* index.php, lib.php, markposts.php, rate.php, report.php,
	settracking.php, subscribe.php, subscribers.php: 
	
	A series of old fixes never committed

2006-03-13 Monday 20:43  moodler

	* lib.php: 
	
	Fix for bug 4875 which was only happening on MySQL 5

2006-03-13 Monday 08:42  mjollnir_

	* lib.php: 
	
	Fixing my moodle bug in forum track posts display

2006-03-10 Friday 11:43  patrickslee

	* db/migrate2utf8.php: 
	
	UTF8 migration - now supporting PostgreSQL

2006-03-08 Wednesday 08:08  skodak

	* subscribe.php: 
	
	lots of incorrect required_param()'s - there MUST be only two
	parameters not three!!

2006-03-08 Wednesday 05:35  skodak

	* db/migrate2utf8.php: 
	
	short php tags

2006-02-24 Friday 16:13  toyomoyo

	* db/migrate2utf8.php: 
	
	see changes for admin/utfdbmigrate.php

2006-02-17 Friday 10:47  toyomoyo

	* lib.php: 
	
	forgot timelimit

2006-02-17 Friday 09:30  toyomoyo

	* lib.php, lib.php: 
	
	better fix for 4360

2006-02-15 Wednesday 10:15  toyomoyo

	* lib.php: 
	
	fix for 4360

2006-02-12 Sunday 19:27  skodak

	* view.php: 
	
	removed isset_param()

2006-02-12 Sunday 19:24  skodak

	* subscribers.php: 
	
	removed isset_param() and fixed warning

2006-02-09 Thursday 10:18  toyomoyo

	* lib.php: 
	
	bug fix for 4670

2006-02-08 Wednesday 11:30  toyomoyo

	* db/migrate2utf8.xml: 
	
	fixing a problem with enum

2006-01-31 Tuesday 10:06  moodler

	* db/migrate2utf8.php: 
	
	changed to use utfconvert function

2006-01-27 Friday 12:21  moodler

	* db/: migrate2utf8.xml, mysql.sql: 
	
	fixing typo

2006-01-20 Friday 07:52  mjollnir_

	* backuplib.php, lib.php, post.html, post.php, restorelib.php,
	version.php, db/mysql.php, db/mysql.sql, db/postgres7.php,
	db/postgres7.sql: 
	
	Merged Patrick's mailnow patch.  This allows admin users the
	ability to override maxediting time and have forum posts mailed out
	immediately.

2006-01-20 Friday 06:45  patrickslee

	* lib.php, post.php: 
	
	Removed some mailnow related patches -- mailnow feature is not
	merged yet

2006-01-18 Wednesday 12:14  patrickslee

	* post.php: 
	
	Fixed embargoed time settings is not kept in the form when
	re-editing by error

2006-01-18 Wednesday 06:03  mjollnir_

	* lib.php: 
	
	Cache strings for my moodle, don't call get_string over and over
	again

2006-01-18 Wednesday 04:59  mjollnir_

	* lib.php: 
	
	My moodle forum overview small bugfix, counting new posts should
	not count adding discussions

2006-01-18 Wednesday 04:49  mjollnir_

	* lib.php: 
	
	Reworked the My Moodle course overview API to be MUCH more
	efficient.  Previously we were literally doing hundreds of database
	queries, now it's very much faster.  This makes the API slightly
	more complicated, but it's definitely worth it! Each module should
	implement modname_print_overview, which takes an array of courses
	and an array to fill up indexed by [$courseid]['modname'] for the
	controller to loop through and print.  Each module should LIMIT the
	number of queries to use, all module instances can be fetched with
	the new function get_all_instances_in_courses which is the same as
	get_all_instances_in_course but takes an array of courses to fetch
	the instances for.  This means there is no need to loop over the
	courses array and fetch the instances for each course (dramatically
	cutting down the number of queries!)

2006-01-17 Tuesday 08:21  mjollnir_

	* lib.php: 
	
	Fixing an sql sytax error in forum cron that prevented mailouts! It
	seems to have been introduced at 1.405

2006-01-17 Tuesday 06:55  mjollnir_

	* restorelib.php: 
	
	Added missing fields in restore for embargoed announcements

2006-01-16 Monday 16:59  mjollnir_

	* restorelib.php: 
	
	Managed forum posts: missing restore fields.  Beating Eloy to fix
	the bug before he reports it ;)

2006-01-16 Monday 16:42  mjollnir_

	* backuplib.php, discuss.php, lib.php, mod.html, post.php,
	version.php, view.php, db/mysql.php, db/mysql.sql,
	db/postgres7.php, db/postgres7.sql: 
	
	Introducing: managed posted forums. Optional ability to 'throttle'
	forums by adding three new settings: warnafter, blockafter and
	blockperiod.  Useful for tutors with big courses with some dominant
	students.

2006-01-16 Monday 13:36  mjollnir_

	* db/mysql.php: 
	
	Fixing missing prefix (copy & paste error) in forum type upgrade
	from very recent commit

2006-01-16 Monday 12:57  mjollnir_

	* discuss.php, index.php, lib.php, mod.html, post.html, post.php,
	search.php, subscribe.php, version.php, view.php, db/mysql.php,
	db/mysql.sql, db/postgres7.php, db/postgres7.sql: 
	
	New forum type: question and answer: requires students to post
	their answer before being able to view other posts. After initial
	post, students can view & respond normally

2006-01-16 Monday 12:11  moodler

	* view.php, view.php: 
	
	added missing semicolon in &nbsp (bug#4592)

2006-01-16 Monday 12:08  moodler

	* mod.html, mod.html: 
	
	added missing semicolon in &nbsp (bug#4592)

2006-01-16 Monday 05:09  mjollnir_

	* restorelib.php: 
	
	Abstracted a bit of the restore procedure to allow for silent
	restoring.  Added new function, import_backup_file_silently Changed
	everything that prints stuff to check for a constant first. 
	Backup_flush checks a different constant, this is so that output
	can still get flushed to the browser when necessary but not print
	<li>s everywhere.  Please test this!

2006-01-13 Friday 11:45  mjollnir_

	* backuplib.php, restorelib.php: 
	
	Granular backup & restore: This patch allows the much requested
	selection of individual instances of modules within a course to
	backup and restore.  It needs A LOT of testing and probably some
	prettyifying too.

2006-01-12 Thursday 10:35  toyomoyo

	* db/migrate2utf8.xml: 
	
	some bug fixes

2006-01-11 Wednesday 09:46  toyomoyo

	* db/migrate2utf8.xml: 
	
	added 2 fields in xml, addindex and dropindex, and bug fixes

2006-01-09 Monday 14:06  toyomoyo

	* db/: migrate2utf8.php, migrate2utf8.xml: 
	
	utf8 migration support scripts

2006-01-04 Wednesday 11:08  toyomoyo

	* lib.php: 
	
	merged, bug fix for #4431

2006-01-04 Wednesday 11:04  toyomoyo

	* lib.php: 
	
	fix for bug #4431 (site level forums)

2005-12-22 Thursday 18:09  moodler

	* discuss.php, lib.php: 
	
	Merged bugfix for bug 4431 from stable

2005-12-22 Thursday 18:04  moodler

	* discuss.php, lib.php: 
	
	Further fixes to the fix for bug 4431, to allow guests to see posts

2005-12-22 Thursday 09:47  toyomoyo

	* lib.php: 
	
	merge merge merge

2005-12-21 Wednesday 07:27  patrickslee

	* lib.php: 
	
	Fixed a problem creating single discussion forum related to mailnow

2005-12-20 Tuesday 16:47  moodler

	* lib.php: 
	
	Someone included two copies of forum_get_separate_modules()

2005-12-20 Tuesday 13:22  toyomoyo

	* discuss.php, lib.php: 
	
	merged fix for bug #4431

2005-12-20 Tuesday 13:11  toyomoyo

	* discuss.php, lib.php: 
	
	bug fix for #4431, added function forum_user_can_view_post in
	lib.php

2005-12-14 Wednesday 12:15  patrickslee

	* backuplib.php, discuss.php, index.php, lib.php, post.html,
	post.php, rate.php, restorelib.php, rsslib.php, search.php,
	subscribe.php, user.php, version.php, view.php, db/mysql.php,
	db/mysql.sql, db/postgres7.php, db/postgres7.sql: 
	
	Merged with MOODLE_16_MULTIENROL_MP1

2005-12-12 Monday 04:19  patrickslee

	* lib.php: 
	
	Fixed missing closing parentheses in forum_search_posts() for
	embargoed announcements

2005-12-08 Thursday 14:48  moodler

	* discuss.php: 
	
	Rolled back, bug Bug #4431 hasnt been fixed

2005-12-08 Thursday 14:46  moodler

	* discuss.php: 
	
	Rolled back, wrong solution for bug Bug #4431

2005-12-08 Thursday 13:00  moodler

	* discuss.php, discuss.php: 
	
	Adding if statement to verify whether user can see postings or not
	(Bug #4431)

2005-12-05 Monday 12:36  moodler

	* discuss.php: 
	
	Merged parameter fixes from STABLE

2005-12-05 Monday 12:35  moodler

	* discuss.php: 
	
	New-style parameter checking

2005-12-02 Friday 15:07  moodler

	* rsslib.php: 
	
	Merged Hannes Gassert's code for podcasting support more or less
	without changes.
	
	   http://opensource.mediagonal.ch/moodle/patches/podcasting/

2005-12-02 Friday 04:50  patrickslee

	* post.php: 
	
	Fixed a problem that unable to post a new discussion related to
	mailnow

2005-11-30 Wednesday 06:23  patrickslee

	* backuplib.php: 
	
	Added backup procedures for embargoed announcements

2005-11-28 Monday 11:11  patrickslee

	* index.php: 
	
	Users can now subscribe/unsubscribe to all forums in a course from
	the forum list

2005-11-25 Friday 15:09  moodler

	* post.php, post.php: 
	
	fix for bug #4314

2005-11-23 Wednesday 17:46  stronk7

	* restorelib.php: 
	
	Log actions must be strored to DB without &amp; print_log() takes
	care of it! Bug 3853. 
	(http://moodle.org/bugs/bug.php?op=show&bugid=3853)
	
	Merged from MOODLE_15_STABLE

2005-11-23 Wednesday 17:39  stronk7

	* restorelib.php: 
	
	Log actions must be strored to DB without &amp; print_log() takes
	care of it! Bug 3853. 
	(http://moodle.org/bugs/bug.php?op=show&bugid=3853)

2005-11-22 Tuesday 12:08  patrickslee

	* lib.php: 
	
	Some mailing related Embargoed Announcements fixes.
	
	* The forum cron only mails posts those are created within the past
	two days, in which case posts those are scheduled to shown after
	more than two days will be ignored and not been mailed out.
	
	* When cron is marking old posts as mailed, it supposes everything
	is mailed so just marks everything older than now as mailed. We DO
	NOT want our delayed posts been marked as mailed.

2005-11-21 Monday 23:42  stronk7

	* index.php: 
	
	shorten_text() AFTER format properly. See bug 4355. 
	(http://moodle.org/bugs/bug.php?op=show&bugid=4355)
	
	Merged from MOODLE_15_STABLE

2005-11-21 Monday 23:40  stronk7

	* index.php: 
	
	shorten_text() AFTER format properly. See bug 4355. 
	(http://moodle.org/bugs/bug.php?op=show&bugid=4355)

2005-11-18 Friday 13:34  patrickslee

	* lib.php: 
	
	Reverted changes in ver 1.401, as this is ultimately fixed by
	bumping the version number

2005-11-18 Friday 13:23  patrickslee

	* post.html: 
	
	Put some initial values in new forum posting form

2005-11-18 Friday 13:02  moodler

	* version.php: 
	
	Bump version to upgrade db for Patrick's new feature

2005-11-18 Friday 12:43  patrickslee

	* lib.php: 
	
	Wrong logical operators used in SQL statements

2005-11-18 Friday 12:35  patrickslee

	* lib.php, search.php: 
	
	Moved Embargoed Announcements related search into SQL. So that
	paging/counting for the search results will be accurate.

2005-11-18 Friday 11:19  moodler

	* lib.php: 
	
	fix for bug #4336

2005-11-17 Thursday 06:20  mjollnir_

	* lib.php: 
	
	My moodle - forums shouldn't print the forum header and all their
	nothing new stuff. Only talk when you've got something to say ;)

2005-11-16 Wednesday 05:49  skodak

	* rate.php: 
	
	cleaning of parameter name before use SC#188; merged from
	MOODLE_15_STABLE

2005-11-16 Wednesday 05:47  skodak

	* rate.php: 
	
	cleaning of parameter name before use SC#188

2005-11-14 Monday 06:52  patrickslee

	* search.php: 
	
	Made forum search page aware of Embargoed Announcements

2005-11-11 Friday 10:04  patrickslee

	* db/: mysql.php, mysql.sql, postgres7.php, postgres7.sql: 
	
	Database changes for Embargoed Announcements

2005-11-11 Friday 06:50  patrickslee

	* discuss.php, lib.php, post.html, post.php: 
	
	New feature: Embargoed Announcements

2005-11-08 Tuesday 15:19  moodler

	* discuss.php, lib.php, post.php, user.php, view.php: 
	
	BIG FEATURE  - MULTIPLE GROUPS
	
	Users can now be assigned to multiple groups.  Thanks Yu! Break out
	the Bob Marley!!
	
	Otherwise groups work more or less like they did before.
	
	This has been pretty well tested by Yu and myself, but since Yu
	started uncovering lots of existing groups bugs it's possible there
	may be still a few corner cases still lurking here and there.
	
	Please help test this thoroughly for 1.6!!

2005-11-07 Monday 17:18  moodler

	* lib.php, user.php: 
	
	fix for bug 4278

2005-10-31 Monday 22:21  gustav_delius

	* subscribe.php: 
	
	subscribing always requires the user to be logged in, even for
	forums on the home page.

2005-10-31 Monday 15:33  moodler

	* search.php: 
	
	Fixed typo so dateto uri parameter works.

2005-09-22 Thursday 05:29  stronk7

	* post.php: 
	
	<span> tags are now allowed inside post->subject. Bug 4099. 
	(http://moodle.org/bugs/bug.php?op=show&bugid=4099)
	
	Merged from MOODLE_15_STABLE

2005-09-22 Thursday 05:27  stronk7

	* post.php: 
	
	<span> tags are now allowed inside post->subject. Bug 4099. 
	(http://moodle.org/bugs/bug.php?op=show&bugid=4099)

2005-09-14 Wednesday 20:55  thepurpleblob

	* subscribers.php: 
	
	merged from STABLE.

2005-09-14 Wednesday 15:25  moodler

	* subscribers.php: 
	
	Incorrect value being passed to header function.  Merged from
	stable. (SE)

2005-09-14 Wednesday 15:20  ikawhero

	* subscribers.php: 
	
	Incorrect value being passed to header function.

2005-09-07 Wednesday 13:43  mjollnir_

	* lib.php: 
	
	Fixed a warning for empty array in forum print_overview for my
	moodle

2005-09-06 Tuesday 09:34  mjollnir_

	* lib.php: 
	
	Friendlier forum information in overview in my moodle

2005-09-05 Monday 13:32  moodler

	* mod.html: 
	
	Merged include file fix from stable

2005-09-05 Monday 13:31  moodler

	* mod.html: 
	
	Including lib.php to make default for forumtracking work

2005-09-05 Monday 09:31  mjollnir_

	* lib.php: 
	
	Reworked my moodle overview api to be more efficient. Note that
	this changes how mod_print_overview is called

2005-09-02 Friday 14:38  martinlanghoff

	* lib.php: 
	
	forum/trackreads - small optimization to overview

2005-09-02 Friday 14:37  martinlanghoff

	* lib.php: 
	
	Merged from MOODLE_15_STABLE - forums/trackreads: Small
	optimizations to forum_tp_can_track_forums()

2005-09-02 Friday 14:36  martinlanghoff

	* lib.php: 
	
	forums/trackreads: Small optimizations to
	forum_tp_can_track_forums()

2005-09-02 Friday 14:32  martinlanghoff

	* lib.php: 
	
	Merged from MOODLE_15_STABLE - forums/trackreads:
	Postgres-optimized query - from many minutes to a few milliseconds

2005-09-02 Friday 14:30  martinlanghoff

	* lib.php: 
	
	forums/trackreads: Postgres-optimized query - from many minutes to
	a few milliseconds

2005-09-01 Thursday 12:14  mjollnir_

	* lib.php: 
	
	Initial checkin of stats (from processing the log table).  I will
	write up some information about it for the developers wiki.

2005-08-26 Friday 12:41  mjollnir_

	* lib.php: 
	
	Merged from MOODLE_15_STABLE: Backticks are not postgres friendly!
	:(

2005-08-26 Friday 12:41  mjollnir_

	* lib.php: 
	
	Backticks are not postgres friendly! :(

2005-08-23 Tuesday 11:57  mjollnir_

	* lib.php: 
	
	Fixing warning in my moodle course overview in forums

2005-08-16 Tuesday 08:25  mjollnir_

	* lib.php: 
	
	MyMoodle: new /my/ page, contains course overview (module based,
	forum done). User defined blocks on /my/ page, admin defined
	stickyblocks. Needs lots of testing. Held off bumping version.php
	for blocks because of the postgres upgrade fixes Patrick is putting
	in.

2005-08-16 Tuesday 07:17  patrickslee

	* db/postgres7.php: 
	
	Mass cleanup of bad postgres upgrade scripts(merged from 15_stable)

2005-08-16 Tuesday 06:30  patrickslee

	* db/postgres7.php: 
	
	Mass cleanup of bad postgres upgrade scripts

2005-08-04 Thursday 03:50  stronk7

	* restorelib.php: 
	
	Now forum-start tracking,     forum-mark read and     forum-prune
	post log actions are restored properly.  Part of bug 3582. 
	(http://moodle.org/bugs/bug.php?op=show&bugid=3852)
	
	Merged from MOODLE_15_STABLE

2005-08-04 Thursday 03:49  stronk7

	* restorelib.php: 
	
	Now forum-start tracking,     forum-mark read and     forum-prune
	post log actions are restored properly.  Part of bug 3582. 
	(http://moodle.org/bugs/bug.php?op=show&bugid=3852)

2005-08-03 Wednesday 06:48  mjollnir_

	* subscribe.php, view.php: 
	
	Merged from MOODLE_15_STABLE: Postgres doesn't happily convert NULL
	to 0 for int fields, so we set it manually. Credit: Patrick Li

2005-08-03 Wednesday 06:47  mjollnir_

	* subscribe.php, view.php: 
	
	Postgres doesn't happily convert NULL to 0 for int fields, so we
	set it manually. Credit: Patrick Li

2005-07-25 Monday 07:08  stronk7

	* rsslib.php: 
	
	Now message forum RSS Feeds are using the category. Useful under
	some RSS agregators able to group messages.  Credits go to Dmitry
	Pupinin.  Bug 3654
	(http://moodle.org/bugs/bug.php?op=show&bugid=3654)
	
	Merged from MOODLE_15_STABLE

2005-07-25 Monday 07:07  stronk7

	* rsslib.php: 
	
	Now message forum RSS Feeds are using the category. Useful under
	some RSS agregators able to group messages.  Credits go to Dmitry
	Pupinin.  Bug 3654
	(http://moodle.org/bugs/bug.php?op=show&bugid=3654)

2005-07-20 Wednesday 14:42  moodler

	* search.php: 
	
	Merged fix from stable

2005-07-20 Wednesday 14:42  moodler

	* search.php: 
	
	Fixed paging on forum search

2005-07-13 Wednesday 22:21  moodler

	* user.php: 
	
	Merged no-id fix from stable

2005-07-13 Wednesday 22:20  moodler

	* user.php: 
	
	Allow userid to be left out when calling this page

2005-07-13 Wednesday 02:59  skodak

	* lib.php: 
	
	removed file pop-ups; merged from MOODLE_15_STABLE

2005-07-13 Wednesday 02:58  skodak

	* lib.php: 
	
	removed file pop-ups

2005-07-12 Tuesday 16:00  moodler

	* restorelib.php: 
	
	Merged SC139 from stable

2005-07-12 Tuesday 15:52  moodler

	* restorelib.php: 
	
	Escaped text output during relinking, as per SC 139

2005-07-05 Tuesday 02:55  stronk7

	* restorelib.php: 
	
	Improved automatic relinking in backup and restore. Credits go to
	skodak.  Complete refactoring of the system that was really awful
	(my fault!).  Now everything is in its place and working like a
	charm, making things really easier to be implemented and amplied.
	Bug 3678 (http://moodle.org/bugs/bug.php?op=show&bugid=3678)
	(http://moodle.org/mod/forum/discuss.php?d=26530)
	
	Note: Everything is merged from stable but the quiz module because
	it has other changes not merged for now. I've skyped a message to
	Gustav about it.
	
	Merged from MOODLE_15_STABLE

2005-07-05 Tuesday 01:34  stronk7

	* restorelib.php: 
	
	Improved automatic relinking in backup and restore. Credits go to
	skodak.  Complete refactoring of the system that was really awful
	(my fault!).  Now everything is in its place and working like a
	charm, making things really easier to be implemented and amplied.
	Bug 3678 (http://moodle.org/bugs/bug.php?op=show&bugid=3678)
	(http://moodle.org/mod/forum/discuss.php?d=26530)

2005-06-30 Thursday 08:03  defacer

	* lib.php: 
	
	
	Merging from STABLE:
	
	Moving <i> to CSS and small CSS improvement.

2005-06-30 Thursday 07:59  defacer

	* lib.php: 
	
	
	Getting the hardwired <i> out of the "post edited by" HTML and
	putting it in CSS. I have been meaning to do this for something
	like 3 eons now...

2005-06-23 Thursday 23:29  fiedorow

	* lib.php: 
	
	Bug fix for bug #3614

2005-06-23 Thursday 23:22  fiedorow

	* lib.php: 
	
	Sorry, committed wrong version

2005-06-23 Thursday 23:18  fiedorow

	* lib.php: 
	
	Bug fix for bug #3614

2005-06-20 Monday 12:32  mjollnir_

	* lib.php: 
	
	Merged from MOODLE_15_STABLE: fixing bug 3569: current workaround=
	one query for postgres, one for mysql. probably a better way to do
	it when someone has more time

2005-06-20 Monday 12:32  mjollnir_

	* lib.php: 
	
	fixing bug 3569: current workaround= one query for postgres, one
	for mysql. probably a better way to do it when someone has more
	time

2005-06-20 Monday 01:14  stronk7

	* report.php: 
	
	Order by rating now works. See bug 3566. 
	(http://moodle.org/bugs/bug.php?op=show&bugid=3566)
	
	Merged from MOODLE_15_STABLE

2005-06-20 Monday 01:12  stronk7

	* report.php: 
	
	Order by rating now works. See bug 3566. 
	(http://moodle.org/bugs/bug.php?op=show&bugid=3566)

2005-06-16 Thursday 11:12  mjollnir_

	* lib.php: 
	
	Merged from MOODLE_15_STABLE: Another postgres fix -- this time
	forums were not being displayed

2005-06-16 Thursday 11:11  mjollnir_

	* lib.php: 
	
	Another postgres fix -- this time forums were not being displayed

2005-06-14 Tuesday 23:52  defacer

	* lib.php, mod.html: 
	
	
	Merging from STABLE:
	
	Fix for bug 3467: Adding "single discussion forum" was broken. Now
	works.

2005-06-14 Tuesday 23:50  defacer

	* lib.php, mod.html: 
	
	
	Fix for bug 3467: Adding "single discussion forum" was broken. Now
	works.

2005-06-11 Saturday 03:54  thepurpleblob

	* discuss.php, index.php, markposts.php, post.php, rate.php,
	report.php, settracking.php, subscribe.php, subscribers.php,
	view.php: 
	
	Changed all optional_variable() and require_variable() to
	equivalent optional_param() and required_param() for greater
	security.

2005-06-10 Friday 17:04  stronk7

	* index.php: 
	
	Generate properly RSS column. It was breaking styled (colored)
	rows.
	
	Merged from MOODLE_15_STABLE

2005-06-10 Friday 17:03  stronk7

	* index.php: 
	
	Generate properly RSS column. It was breaking styled (colored)
	rows.

2005-06-04 Saturday 01:37  stronk7

	* backuplib.php, restorelib.php: 
	
	Added support for forum->trackingtype
	
	Merged from MOODLE_15_STABLE

2005-06-04 Saturday 01:35  stronk7

	* backuplib.php, restorelib.php: 
	
	Added support for forum->trackingtype

2005-05-29 Sunday 12:05  moodler

	* search.php: 
	
	Merged search results fix from stable

2005-05-29 Sunday 12:04  moodler

	* search.php: 
	
	FIxed a problem when stripping terms from search string for
	highlighting

2005-05-19 Thursday 23:34  moodler

	* lib.php: 
	
	Fixed some notices.

2005-05-14 Saturday 11:59  moodler

	* lib.php: 
	
	JUst realigned code while debugging

2005-05-14 Saturday 11:22  moodler

	* lib.php: 
	
	Some little style fixes    bug 3222

2005-05-13 Friday 10:06  moodler

	* discuss.php: 
	
	Don't save Guest forum mode to database (just session)

2005-05-10 Tuesday 11:36  moodler

	* lib.php: 
	
	Fixed typo

2005-05-10 Tuesday 11:34  moodler

	* lib.php: 
	
	Modification to forum post headers to make filtering a bit easier,
	and also to support more of RFC2919 and RFC2369

2005-05-08 Sunday 01:46  defacer

	* lib.php: 
	
	
	Random change while searching for something: Removing border
	attribute from <img>, these are handled through CSS (a img {border:
	none;})

2005-05-06 Friday 20:50  moodler

	* search.php: 
	
	10 per page by default

2005-05-05 Thursday 17:34  urs_hunkler

	* user.php: 
	
	On the admin user page you select "forum posts" which becomes the
	active selection in the second row. This should be visualized in
	the tabs. Therefore I added the parameter "$activetwo" to the tabs
	functions to be able to set the class "activetwo" for the active
	tab in the second row.
	
	added the parameter "$activetwo"

2005-05-04 Wednesday 21:39  moodler

	* lib.php: 
	
	Fixed some excess SQL load and duplicate returns

2005-05-04 Wednesday 16:57  moodler

	* lib.php: 
	
	Removing commented line from previous commit. (SE)

2005-05-04 Wednesday 16:54  moodler

	* lib.php: 
	
	Fix for bug where forum search would return posts by users in other
	groups when the course was in separate group mode. Bug 3073. (SE)

2005-05-04 Wednesday 00:32  moodler

	* lib.php, markposts.php: 
	
	Added link to mark all posts in forum as read, and also removed
	error notices from markposts.php because we don't really care

2005-05-02 Monday 11:53  moodler

	* lib.php: 
	
	Fixed a typo

2005-05-02 Monday 11:18  mchurch

	* lib.php: 
	
	Added 'trackforums' to the fields retrieved for
	'forum_subscribed_users' so that emailed posts are marked as 'read'
	correctly.

2005-04-29 Friday 03:48  mchurch

	* index.php, lib.php, markposts.php: 
	
	Re: Bug 3033 - fixed incorrect arguments in markposts for the forum
	index screen.

2005-04-28 Thursday 15:42  moodler

	* lib.php, post.php: 
	
	New function to update the last post in a given discussion.  Called
	whenever deleting posts or splitting discussions - bug 3050 (SE).

2005-04-28 Thursday 05:23  fiedorow

	* markposts.php: 
	
	Fix for Bug 3033

2005-04-27 Wednesday 22:45  moodler

	* lib.php: 
	
	Removed extra JOIN  :-D

2005-04-27 Wednesday 21:14  paca70

	* db/postgres7.php: 
	
	Use integer instead of tinyint with postgres

2005-04-27 Wednesday 14:13  moodler

	* mod.html, version.php, db/mysql.php, db/mysql.sql,
	db/postgres7.php, db/postgres7.sql: 
	
	Fixes for trackingtype upgrade and defaults

2005-04-27 Wednesday 14:02  moodler

	* lib.php: 
	
	Fixed a notice

2005-04-27 Wednesday 13:55  moodler

	* lib.php, search.php, user.php: 
	
	Dealing with forumid and forum_print_post in a more coherent way 
	... bug 3047

2005-04-27 Wednesday 06:02  defacer

	* index.php: 
	
	
	Fixing read tracking link when tracking is forced.

2005-04-27 Wednesday 05:50  defacer

	* post.php: 
	
	
	Initializing $parent to new stdClass was a major oops. However,
	seems it doesn't need to be initialized at all. So I won't hold
	this against the practice in general.

2005-04-27 Wednesday 05:45  defacer

	* lib.php: 
	
	
	Fixing the two other functions that feed stuff into
	forum_print_post_full as well.

2005-04-27 Wednesday 05:29  defacer

	* lib.php: 
	
	
	Fix for bug 3047, which I leave open because I don't know if this
	is the desired way of fixing the problem. Hopefully it is.

2005-04-27 Wednesday 05:26  defacer

	* post.php: 
	
	
	Initialize object as new stdClass instead of NULL.

2005-04-27 Wednesday 04:39  defacer

	* post.php: 
	
	
	Some double quotes to single, use optional_param for $reply.
	
	I 'm debugging some PHP5 notices which aren't just notices, they
	imply there's a bug somewhere here? Or maybe an inconsistency in
	parameter types of the variables being passed around...

2005-04-27 Wednesday 00:27  mchurch

	* discuss.php, index.php, lib.php, mod.html, post.php, version.php,
	view.php, db/mysql.php: 
	
	Added tracking settings per forum.

2005-04-26 Tuesday 16:34  moodler

	* lib.php: 
	
	Don't put paragraphs around forum texts

2005-04-26 Tuesday 02:36  moodler

	* index.php: 
	
	Now it behaves properly when tracking is turned off

2005-04-26 Tuesday 02:25  moodler

	* lib.php: 
	
	Fixed up some functions calls with funny parameters

2005-04-26 Tuesday 02:07  moodler

	* db/: mysql.php, postgres7.php: 
	
	MOved updating of user forum into the right place

2005-04-26 Tuesday 02:00  moodler

	* lib.php: 
	
	Making display of "mark read" function much more efficient
	
	removed tables, added XHTML, using CSS, caching string ...

2005-04-26 Tuesday 01:45  moodler

	* index.php: 
	
	Fixed forum index, removed "mark read" links ....

2005-04-25 Monday 23:00  mchurch

	* index.php, lib.php, markposts.php: 
	
	Added the ability to mark discussions read.

2005-04-25 Monday 22:01  mchurch

	* index.php, lib.php, markposts.php, settracking.php, view.php: 
	
	More robust personal forum tracking logic. Added personal forum
	tracking option setting to forum view page.

2005-04-25 Monday 18:56  moodler

	* lib.php, markposts.php: 
	
	Tweaking

2005-04-25 Monday 18:48  moodler

	* lib.php: 
	
	Tidying up mail and stuff

2005-04-25 Monday 17:08  moodler

	* lib.php: 
	
	Fixed display of unread column in news forums

2005-04-25 Monday 11:56  mchurch

	* index.php, lib.php, markposts.php: 
	
	Added the ability to mark all posts in a forum as read.

2005-04-25 Monday 11:42  moodler

	* lib.php: 
	
	FIxed relative link in mailouts

2005-04-25 Monday 09:51  moodler

	* lib.php: 
	
	Fixed up styles and strings in posted mail

2005-04-25 Monday 03:49  mchurch

	* db/postgres7.php: 
	
	Added postgres support for user specific forum tracking.

2005-04-25 Monday 03:46  mchurch

	* index.php, lib.php, version.php, db/mysql.php, db/postgres7.php,
	db/postgres7.sql: 
	
	Added enable/disable forum tracking in a user profile.

2005-04-24 Sunday 23:13  moodler

	* search.php: 
	
	Add link for advanced searching

2005-04-24 Sunday 22:54  mchurch

	* lib.php: 
	
	Fixed Bug 3021. Forum ID was getting changed in read tables.

2005-04-24 Sunday 22:31  mchurch

	* lib.php: 
	
	Added user read tracking logic to forum_print_post.

2005-04-24 Sunday 22:06  mchurch

	* lib.php: 
	
	Added user forum tracking logic to discussion display.

2005-04-24 Sunday 21:27  mchurch

	* index.php, lib.php, settracking.php, version.php, db/mysql.php,
	db/mysql.sql: 
	
	Added the user forum tracking settings.

2005-04-24 Sunday 10:02  mchurch

	* lib.php: 
	
	Corrected an SQL statement that used 'user' instead of
	$CFG->prefix.'user'.  Note - this is a left join of a table that is
	already inner joined in the same statement. There may be other
	problems here.

2005-04-23 Saturday 21:36  moodler

	* lib.php, db/mysql.php, db/postgres7.php: 
	
	Added new script to upgrade the forum records (it has a pretty
	progress bar and it means the main upgrade isn't held up.

2005-04-23 Saturday 13:06  moodler

	* lib.php: 
	
	Delete forum_read records more efficiently

2005-04-23 Saturday 02:53  moodler

	* lib.php: 
	
	Improved handling of userlastmodified

2005-04-23 Saturday 00:45  moodler

	* lib.php: 
	
	Hack to speed up forum_get_discussions in blocks etc

2005-04-23 Saturday 00:38  moodler

	* lib.php: 
	
	Optimisations for read posts

2005-04-22 Friday 23:48  moodler

	* db/: mysql.php, postgres7.php: 
	
	Much more efficient updating of forum_read table!   I think it
	works ...!

2005-04-22 Friday 21:37  moodler

	* lib.php: 
	
	Two weeks is enough (wish I'd set this small on moodle.org
	upgrade!)

2005-04-21 Thursday 16:11  moodler

	* post.php: 
	
	Fixed a minor PHP warning. Bug 2979. (SE)

2005-04-20 Wednesday 21:26  moodler

	* discuss.php: 
	
	DOn't allow discussions to be moved out of the teacher's forum.

2005-04-20 Wednesday 13:27  moodler

	* index.php: 
	
	MOre cleanups to links etc

2005-04-20 Wednesday 13:19  moodler

	* index.php: 
	
	Cleaned up the display of forum introductions and added link to
	discussion count

2005-04-20 Wednesday 00:05  moodler

	* post.php, prune.html: 
	
	Just tidying

2005-04-19 Tuesday 19:25  moodler

	* lib.php, post.php: 
	
	Fix for bug 1938.   Now a teacher can delete any post, and all the
	children are deleted as well (after a warning and a preview of the
	affected posts).

2005-04-13 Wednesday 17:19  moodler

	* post.php: 
	
	Merge fix from stable

2005-04-13 Wednesday 17:18  moodler

	* post.php: 
	
	Left out a line somehow!

2005-04-13 Wednesday 17:16  moodler

	* post.php: 
	
	Continuing last fix, allow students not in a group to post into a
	discussion which is also not in a group, even if the course is
	using groups.

2005-04-13 Wednesday 16:27  moodler

	* discuss.php: 
	
	Merged logic fix for replying from STABLE

2005-04-13 Wednesday 16:23  moodler

	* discuss.php: 
	
	FIxed some logic for a wierd situation when you have a grouped
	forum but upgrouped discussions and ungrouped students

2005-04-13 Wednesday 15:34  thepurpleblob

	* db/: mysql.php, postgres7.php: 
	
	Fixed small sql error.

2005-04-13 Wednesday 15:00  moodler

	* index.php: 
	
	Correct calls to require_course_login

2005-04-13 Wednesday 07:42  stronk7

	* restorelib.php: 
	
	Now all the wiki formated texts are converted to markdown by the
	restore process. Such conversion is performed for every backup file
	prior to 2005041100.  Wiki internal links are dinamically changed
	and then, converted to Markdown. Bye, Wiki! ;-)

2005-04-13 Wednesday 03:57  thepurpleblob

	* db/: mysql.php, postgres7.php: 
	
	Whoops! Forgot prefix on the DB where clauses

2005-04-11 Monday 21:05  thepurpleblob

	* version.php: 
	
	Now 20050411: Convert wiki-like format in forum posts to Markdown
	format.

2005-04-11 Monday 21:04  thepurpleblob

	* db/: mysql.php, postgres7.php: 
	
	Wiki-Like format in forum posts is converted to Markdown format.

2005-04-11 Monday 16:43  moodler

	* lib.php, user.php: 
	
	At site level, admin can see user posts from ALL courses

2005-04-03 Sunday 07:18  stronk7

	* lib.php: 
	
	Now xxx_print_recent_mod_activity() supports filterall. 
	(assignment, forum, quiz and workshop)

2005-04-02 Saturday 22:06  moodler

	* lib.php: 
	
	Removed some cellspacing to help IE

2005-04-02 Saturday 19:32  stronk7

	* lib.php: 
	
	Now course/recent.php works under PHP5.  See bug 2828
	(http://moodle.org/bugs/bug.php?op=show&bugid=2828)
	
	Merged from MOODLE_14_STABLE

2005-04-02 Saturday 19:24  stronk7

	* lib.php: 
	
	Now course/recent.php works under PHP5.  See bug 2828
	(http://moodle.org/bugs/bug.php?op=show&bugid=2828)

2005-03-29 Tuesday 12:32  mjollnir_

	* version.php, db/mysql.php, db/mysql.sql, db/postgres7.php,
	db/postgres7.sql: 
	
	New indexes for forum_posts - created & mailed. Useful for
	performance for the cron  mailout

2005-03-27 Sunday 02:12  stronk7

	* rsslib.php: 
	
	Missing parenthesis added.

2005-03-27 Sunday 01:31  stronk7

	* index.php, rsslib.php: 
	
	Forum->intro is processed correctly by format_text() everywhere.

2005-03-27 Sunday 01:11  stronk7

	* discuss.php, lib.php, post.php, search.php, user.php: 
	
	Now discussion->name works under filterall.

2005-03-26 Saturday 19:43  stronk7

	* discuss.php, lib.php, post.php, report.php, search.php, user.php:
	
	
	Now post->subject works under filterall too.

2005-03-26 Saturday 09:57  stronk7

	* discuss.php, index.php, lib.php, post.php, restorelib.php,
	rsslib.php, search.php, subscribe.php, subscribers.php, user.php,
	view.php: 
	
	Now the FIRST string working under CFG->filterall is done:    
	forum->name (everything tested but email)
	
	(I'm going to maintain a list of strings in Developers Wiki)

2005-03-24 Thursday 10:37  moodler

	* lib.php: 
	
	More generic indent tag

2005-03-21 Monday 07:13  martinlanghoff

	* lib.php: 
	
	Merged from MOODLE_14_STABLE - More efficient SQL UPDATE in
	forum_mark_old_posts_as_mailed() -- improves performance under
	PostgreSQL.

2005-03-21 Monday 07:10  martinlanghoff

	* lib.php: 
	
	More efficient SQL UPDATE in forum_mark_old_posts_as_mailed() --
	improves performance under PostgreSQL.

2005-03-20 Sunday 20:05  moodler

	* lib.php: 
	
	SOme necessary fixes to searching to allow arbitrary SQL to be
	added to the search, and also removed some old stuff

2005-03-20 Sunday 20:02  moodler

	* user.php: 
	
	New user tabs from Shane and myself ... these bring together the
	profile interface a little better.
	
	There is also a new feature for showing all posts from a user, as
	well as all discussions from a user.

2005-03-17 Thursday 23:12  gustav_delius

	* discuss.php, post.php, subscribe.php, subscribers.php: 
	
	Print course in footer

2005-03-14 Monday 00:25  moodler

	* discuss.php, subscribers.php: 
	
	Removed some redundant wrappers

2005-03-14 Monday 00:17  moodler

	* view.php: 
	
	Standardise the intro box using an ID

2005-03-13 Sunday 21:50  moodler

	* lib.php: 
	
	This change will break themes for sideblock, but now all the main
	TH cells that use the standard kind of look (eg gradient) have a
	consistent class "th.header"

2005-03-13 Sunday 17:54  gustav_delius

	* post.php, post.php: 
	
	fixed typo leading to bug 2723

2005-03-11 Friday 04:26  stronk7

	* lib.php: 
	
	Old bug introduced in lib.php 1.280. It was causing a lot of mails
	being sent instead of the 2 days limit. Bug 2716
	(http://moodle.org/bugs/bug.php?op=show&bugid=2716)

2005-03-10 Thursday 21:30  moodler

	* lib.php, version.php: 
	
	Variety of small fixes, but mostly related to how the recent
	activity block is constructed.	A new function exists to pump these
	notes out in a standard way :  print_recent_activity_note.
	
	Module dependencies also updated because of this.

2005-03-10 Thursday 04:50  defacer

	* discuss.php, index.php, lib.php, search.php, view.php: 
	
	
	
	Simplified by removing two optional parameters from
	forum_print_search_form, because everyone was using the same values
	for them!
	
	Also renamed the function to simply forum_search_form, because in
	the end noone was using it to PRINT html, it was just put into a
	variable.

2005-03-09 Wednesday 01:59  moodler

	* lib.php: 
	
	Prevent guests from making ratings in forums

2005-03-09 Wednesday 01:32  moodler

	* lib.php, view.php: 
	
	Speed and beauty improvements when displaying discussion listings

2005-03-08 Tuesday 20:58  moodler

	* lib.php: 
	
	Major gain in efficiency for the latest news block and better
	styles
	
	Still working on more improvements here

2005-03-08 Tuesday 17:53  moodler

	* discuss.php: 
	
	FIxed a problem with teacher forums (couldn't read any
	discussions!)

2005-03-07 Monday 20:29  moodler

	* lib.php: 
	
	Fixed a notice when sending mail

2005-03-07 Monday 19:31  moodler

	* lib.php: 
	
	Removed files/mimetype.php and put it into lib/filelib.php instead
	where it always should have been.

2005-03-07 Monday 13:03  moodler

	* view.php: 
	
	Fixed a boo boo

2005-03-07 Monday 13:00  moodler

	* view.php: 
	
	FIxed up some styles for the help links

2005-03-07 Monday 12:47  moodler

	* subscribe.php: 
	
	Removed another dead-end for guests   bug 1975

2005-03-06 Sunday 14:48  moodler

	* post.php: 
	
	Much more user-friendly for guests

2005-03-06 Sunday 14:20  moodler

	* post.php: 
	
	Got rid of the dead end when guests are trying to post

2005-03-04 Friday 13:59  moodler

	* lib.php: 
	
	Default old posts from 60 > 30 ...

2005-03-04 Friday 13:36  mchurch

	* lib.php: 
	
	Corrected a typo that was throwing errors.

2005-03-04 Friday 07:19  mjollnir_

	* lib.php: 
	
	Reworking join to make it compatible with postgres

2005-03-03 Thursday 20:25  moodler

	* search.php: 
	
	Show last search in the mini search bar

2005-03-03 Thursday 20:22  moodler

	* lib.php, search.php: 
	
	Finishing off search capability with the ability to search by
	instance, and in this case, by forum.

2005-03-03 Thursday 13:03  moodler

	* mod.html: 
	
	Use a require_once just in case

2005-03-02 Wednesday 07:38  mjollnir_

	* db/postgres7.php: 
	
	Changing a require to a require_once in forum postgres upgrade (was
	getting included twice)

2005-03-02 Wednesday 01:16  moodler

	* lib.php: 
	
	Cellspacing 0 for forum posts to help poor little IE

2005-03-01 Tuesday 16:12  moodler

	* search.php: 
	
	Use s function to print search string properly

2005-03-01 Tuesday 14:54  moodler

	* search.php: 
	
	Disable dates if not being used.  Fixed bug that wasn't
	highlighting search words

2005-03-01 Tuesday 05:37  mchurch

	* index.php, view.php: 
	
	Removed debug lines inadvertently left in last commit.

2005-03-01 Tuesday 05:31  mchurch

	* index.php, lib.php, view.php: 
	
	Improved speed of database calls for read tracking.

2005-02-28 Monday 20:40  moodler

	* lib.php, search.php: 
	
	Forum searching now allows searching by date, and no longer has
	confusing help.

2005-02-28 Monday 08:30  defacer

	* lib.php: 
	
	
	Fix for bug 2648: call-time pass by reference has been deprecated,
	the constructor of search_lexer now accepts the parser argument by
	reference all... one time it's called :)

2005-02-28 Monday 04:32  defacer

	* lib.php: 
	
	
	Bugfix for bug 2653 (visual glitch).
	
	Better and less HTML for the "block" version of
	forum_print_search_form().

2005-02-27 Sunday 18:12  moodler

	* lib.php: 
	
	Show link even when no discussions

2005-02-27 Sunday 18:08  moodler

	* lib.php: 
	
	Added a link from the user page to a search for all posts.
	
	It works but it's not very pretty ... feedback welcome!

2005-02-27 Sunday 17:57  moodler

	* lib.php, search.php: 
	
	Much better "full" search page.  Still needs some polishing.
	
	Also, you can now search for all posts by one user.  Which brings
	me to my next check-in....

2005-02-26 Saturday 16:52  moodler

	* discuss.php, index.php, lib.php, search.php, view.php: 
	
	Added search help to the small search forms (big search form coming
	next)

2005-02-25 Friday 21:20  moodler

	* discuss.php, lib.php: 
	
	A few minor changes for XHTML compatibility and general tidy up.
	(SE)

2005-02-25 Friday 06:24  gustav_delius

	* lib.php: 
	
	fixed single quote bug that led to $post->subject being displayed.

2005-02-21 Monday 23:39  moodler

	* lib.php: 
	
	Merged fix for 2613

2005-02-21 Monday 23:38  moodler

	* lib.php: 
	
	FIxed sorting bug on forums, bug 2613

2005-02-19 Saturday 03:04  stronk7

	* backuplib.php, restorelib.php: 
	
	Now forum_read is included in backup & restore

2005-02-18 Friday 16:00  moodler

	* lib.php: 
	
	Efficiency for forum_count_discussion_replies() from stable

2005-02-18 Friday 15:54  moodler

	* lib.php: 
	
	forum_count_discussion_replies() is now a LOT more efficient!!	:-/

2005-02-18 Friday 14:41  gustav_delius

	* lib.php, view.php: 
	
	The teacher forum has no coursemodule and this led to errors in
	particular in forum_print_latest_discussions().

2005-02-16 Wednesday 18:40  gustav_delius

	* discuss.php, index.php, lib.php, post.php, search.php,
	subscribe.php, subscribers.php, version.php, view.php: 
	
	In order to ensure that when a teacher hides a resource or an
	activity that students really can't get at it, even if they know
	the direct links to its pages, I have given an optional third
	argument $cm to the functions  require_login() and
	require_course_login(). Pages showing information about a
	particular course module now pass the course module object in this
	third argument. The login functions will then test if either the
	course module is visible or the user is a teacher. If neither is
	the case then the user is redirected to the course homepage after
	being shown a message "Sorry, this activity is currently hidden".
	
	(While I was at it I also turned the autologinguests off for most
	module pages, except on the index.php pages and the view.php pages
	for those modules that allow guests)

2005-02-16 Wednesday 15:41  moodler

	* lib.php: 
	
	Remove html around paging bar

2005-02-16 Wednesday 15:35  moodler

	* lib.php: 
	
	Some fixes to styles etc

2005-02-16 Wednesday 14:17  moodler

	* lib.php, view.php: 
	
	FIxed up styles and lots of quotes

2005-02-16 Wednesday 01:44  moodler

	* view.php: 
	
	Fixed a notice

2005-02-16 Wednesday 01:27  moodler

	* lib.php: 
	
	Checking in what I've got so far here ... lots to do.

2005-02-14 Monday 08:04  gustav_delius

	* post.php: 
	
	Fix bug 1937

2005-02-14 Monday 04:49  gustav_delius

	* lib.php, search.php: 
	
	Forum search now no longer shows posts from other groups from
	forums that are in separate groups mode, see bug 2308

2005-02-14 Monday 01:26  moodler

	* lib.php: 
	
	Added a little class to the "edited by" line

2005-02-14 Monday 01:20  moodler

	* lib.php: 
	
	Add an "edited by" message to posts when they have been edited by a
	different person from the original poster.   See bug 2392

2005-02-14 Monday 00:41  gustav_delius

	* lib.php: 
	
	Fixed bug 2392

2005-02-13 Sunday 08:42  stronk7

	* lib.php: 
	
	Now retrieving only needed fields!

2005-02-13 Sunday 05:41  gustav_delius

	* mod.html: 
	
	Activities can now be hidden/shown from the activity editing page.
	Also for modules that know about groups the groupmode can be set
	from there. See bug 2533. This required adding to the mod.html
	files calls to new functions print_visible_setting() and
	print_groupmode_setting() which are combined in
	print_standard_coursemodule_settings().
	
	The visibility of coursemodules is now always set through the
	function set_coursemodule_visible() in order to make sure that the
	associated events get updated in the calendar appropriately.
	
	If moving a coursemodule to a hidden section then the module is set
	to hidden as well and its events are hidden in the calendar.
	
	If deleting a coursemodule its events are deleted from the
	calendar.
	
	The function choose_from_menu() has an extra optional argument
	$disabled which, when set to true, will disable the menu.
	
	For the sake of consistency the function set_groupmode_for_module
	has been renamed to set_coursemodule_groupmode and the functions
	show_course_module() and hide_course_module() have been combined to
	set_coursemodule_visible().

2005-02-12 Saturday 23:56  moodler

	* lib.php: 
	
	Err, fixed a typo

2005-02-12 Saturday 23:01  moodler

	* lib.php: 
	
	A new discussion is now marked read by the current user right away

2005-02-12 Saturday 22:53  moodler

	* lib.php: 
	
	Show group icon or group name on the discussion listing

2005-02-12 Saturday 12:41  moodler

	* search.php: 
	
	Cleaned up some bodgy search code and formatted according to
	guidelines ..

2005-02-10 Thursday 18:41  moodler

	* subscribers.php: 
	
	Removing the THEME variable and adding in classes where appropriate

2005-02-09 Wednesday 11:44  moodler

	* delete.php: 
	
	Removed old file

2005-02-09 Wednesday 02:06  fiedorow

	* search.php: 
	
	Highlight search terms found only in HTML markup

2005-02-08 Tuesday 17:23  moodler

	* config.html: 
	
	Fixed up some layout issues in the configuration files

2005-02-08 Tuesday 09:38  defacer

	* lib.php: 
	
	
	This definitely fixes the bug described at
	
	http://moodle.org/mod/forum/discuss.php?d=18323
	
	but is it the same bug as bug 2513? Time will tell...
	
	All credits to Penny!

2005-02-08 Tuesday 09:34  defacer

	* lib.php: 
	
	
	Renaming some $course to $courseid to make it clear to anyone
	reading the code...

2005-02-08 Tuesday 07:33  stronk7

	* restorelib.php: 
	
	Some minor changes to each module to XHTMLise the restore process

2005-02-07 Monday 19:58  moodler

	* lib.php: 
	
	Disable $CFG->forum_trackreadposts completely when the user is a
	guest or not logged in.

2005-02-05 Saturday 05:15  defacer

	* lib.php: 
	
	
	Bugfix: don't send HTML digests to people who want plain text
	email.

2005-02-05 Saturday 05:13  defacer

	* lib.php: 
	
	
	Bugfix: don't send HTML digests to users who want simple text mail.

2005-02-02 Wednesday 07:57  stronk7

	* lib.php: 
	
	One notice is out showing recent recent activity of deleted posts.

2005-02-01 Tuesday 19:30  moodler

	* lib.php: 
	
	Added all styles to forum posts

2005-02-01 Tuesday 10:58  moodler

	* search.php: 
	
	FIxes from tony for highlighting

2005-02-01 Tuesday 03:26  mchurch

	* db/postgres7.php: 
	
	 Added read post
	marking for posts over a day old to the upgrade procedure.

2005-02-01 Tuesday 03:24  mchurch

	* lib.php, db/mysql.php: 
	
	Fixed insert_record call in forum_tp_add_read_record. Added read
	post marking for posts over a day old to the upgrade procedure.

2005-01-31 Monday 23:04  mchurch

	* lib.php: 
	
	Fixed a special case issue with the news forum on the front page
	and non-logged in users.

2005-01-31 Monday 15:41  moodler

	* lib.php: 
	
	Forum searching is now implemented using a lex-based method, which
	allows extra capabilities such as:
	
	  - "phrase searching"
	  - user matching:    user:tony
	  - subject matching: subject:thing
	
	This code is all from Tony Hursh.   THANKS TONY!!

2005-01-31 Monday 15:17  moodler

	* search.php: 
	
	Fixed xml again (bug 2413)

2005-01-30 Sunday 13:14  moodler

	* index.php: 
	
	Center-align some columns again

2005-01-30 Sunday 12:47  moodler

	* index.php: 
	
	Added links to unread notices on course-view and forum-index

2005-01-29 Saturday 17:49  moodler

	* config.html, discuss.php, index.php, lib.php, post.php,
	search.php, version.php, db/mysql.php, db/mysql.sql,
	db/postgres7.php, db/postgres7.sql: 
	
	MAJOR NEW FEATURE:  Tracking of read/unread posts
	
	Many thanks to Mike Churchward for his work on this and persevering
	with sending updated versions to me.  :-)
	
	Shane and I have polished it up, rewritten a few parts
	(display-related) and here it is, finally in CVS!
	
	I think there will still need to be some optimisation for the SQL,
	since it's still pretty intensive. Perhaps some sort of caching in
	the session that gets modified along with the database whenever
	something gets read.
	
	However if there are problems the whole thing can be switched off
	in the forum module config so this is not crucially urgent.

2005-01-25 Tuesday 22:32  moodler

	* lib.php: 
	
	Removed some inline styles

2005-01-25 Tuesday 22:28  moodler

	* lib.php, post.php, report.php, subscribers.php: 
	
	Removed some THEME stuff

2005-01-25 Tuesday 17:39  moodler

	* mod.html, post.html, prune.html: 
	
	Changes for XHTML and accessibility compatibility.  Tidied up
	layout and other minor changes.

2005-01-25 Tuesday 14:09  moodler

	* index.php, view.php: 
	
	Moved rsslib.php from the rss directory to the lib directory with
	the other libraries

2005-01-23 Sunday 13:55  moodler

	* search.php: 
	
	Searching was still calling $usexml   Bug #2413

2005-01-23 Sunday 02:53  stronk7

	* mod.html: 
	
	Modify sesskey behaviour. SC#73

2005-01-22 Saturday 16:45  moodler

	* lib.php: 
	
	Using divs to do the indenting, rather than <UL>
	
	This probably needs to be named class

2005-01-21 Friday 12:58  moodler

	* mod.html: 
	
	Fix help link

2005-01-21 Friday 12:23  moodler

	* mod.html, post.html: 
	
	Changes for XHTML and accessibility compatibility.  General code
	cleanup.

2005-01-19 Wednesday 21:16  urs_hunkler

	* discuss.php, index.php, post.php, subscribers.php, view.php: 
	
	_ added the DIV framework for new CSS

2005-01-19 Wednesday 21:00  urs_hunkler

	* search.php: 
	
	_ added the DIV framework for new CSS

2004-12-14 Tuesday 19:08  moodler

	* view.php: 
	
	Merged fix from stable for wrong function

2004-12-14 Tuesday 19:07  moodler

	* view.php: 
	
	Wow, ow, stupid old man!!!
	
	Wrong function name - I changed one site and accidentally tested
	another!

2004-12-14 Tuesday 16:52  moodler

	* view.php: 
	
	Merged parameter checking from stable

2004-12-14 Tuesday 16:51  moodler

	* view.php: 
	
	Updated parameter checking to help with bug 2286

2004-12-14 Tuesday 14:26  moodler

	* post.php: 
	
	When posting a new topic, display the forum description to help
	orient the posting.  Also changed some headings slightly to make
	more sense.

2004-12-14 Tuesday 13:59  moodler

	* lib.php: 
	
	Changed new discussion link to a form button

2004-11-30 Tuesday 10:53  moodler

	* rate.php: 
	
	Merged lastpostid from stable

2004-11-30 Tuesday 10:51  moodler

	* rate.php: 
	
	More robust finding of last postid that doesn't depend on order of
	POST variables

2004-11-30 Tuesday 09:42  moodler

	* rate.php: 
	
	Merged fix from stable

2004-11-30 Tuesday 09:41  moodler

	* rate.php: 
	
	FIxed strange bug when returning from a rating to a discussion

2004-11-29 Monday 16:18  moodler

	* lib.php: 
	
	Added name of the last poster to the discussion listing
	
	 - thanks to Dmitry for his patch!   (dlnsk % mail.ru)

2004-11-24 Wednesday 07:34  mjollnir_

	* lib.php: 
	
	Merged from MOODLE_14_STABLE: Forum: Do not trust userid from
	hidden form field, use $USER->id instead for db inserts

2004-11-24 Wednesday 07:34  mjollnir_

	* lib.php: 
	
	Forum: Do not trust userid from hidden form field, use $USER->id
	instead for db inserts

2004-11-24 Wednesday 07:13  mjollnir_

	* rate.php: 
	
	Merged from MOODLE_14_STABLE: Bug fix for forum rating redirects -
	manifested itself in invalid sql in postgres

2004-11-24 Wednesday 07:12  mjollnir_

	* rate.php: 
	
	Bug fix for forum rating redirects - manifested itself in invalid
	sql in postgres

2004-11-23 Tuesday 11:43  moodler

	* post.php: 
	
	Merged changes from stable

2004-11-23 Tuesday 11:40  moodler

	* post.html, post.php: 
	
	Fixed HTML code in post.html (ported from HEAD) and some slightly
	better checking of 'course' parameter to post.php.
	
	None of this should really make a difference but it MAY help bug
	2212

2004-11-23 Tuesday 10:49  mjollnir_

	* lib.php: 
	
	Merged from MOODLE_14_STABLE: Fixing weird forum bug to do with
	forum ratings (manifested itself in invalid postgres sql)

2004-11-23 Tuesday 10:49  mjollnir_

	* lib.php: 
	
	Fixing weird forum bug to do with forum ratings (manifested itself
	in invalid postgres sql)

2004-11-19 Friday 03:14  moodler

	* version.php, db/mysql.php, db/postgres7.php: 
	
	Downgrading versions to fix recent mistake in upgrading

2004-11-18 Thursday 14:41  moodler

	* lib.php: 
	
	Use the defined defines that we defined (eg FORUM_FORCESUBSCRIBE)

2004-11-18 Thursday 12:10  mjollnir_

	* version.php, db/mysql.php, db/mysql.sql, db/postgres7.php,
	db/postgres7.sql: 
	
	Merged from MOODLE_14_STABLE: Indexes on forum and version bump

2004-11-18 Thursday 12:10  mjollnir_

	* version.php, db/mysql.php, db/mysql.sql, db/postgres7.php,
	db/postgres7.sql: 
	
	Indexes on forum and version bump

2004-11-01 Monday 20:49  moodler

	* post.php: 
	
	Merged $parent initialisation from stable

2004-11-01 Monday 20:47  moodler

	* post.php: 
	
	Initialise $parent variable to avoid Norton bug

2004-10-29 Friday 14:50  moodler

	* mod.html, post.html, post.php: 
	
	XHTML changes and general tidy up

2004-10-08 Friday 21:34  moodler

	* lib.php: 
	
	Changes for XHTML compatibility

2004-10-08 Friday 08:18  ikawhero

	* lib.php: 
	
	Fixed string error

2004-10-07 Thursday 19:23  moodler

	* lib.php: 
	
	Style changes for XHTML compatibility

2004-10-07 Thursday 00:52  stronk7

	* lib.php: 
	
	Changed some conditions against the $USER variable to work fine
	under PHP5.
	
	Bug 2053 (http://moodle.org/bugs/bug.php?op=show&bugid=2053)
	
	Merged from MOODLE_14_STABLE

2004-10-07 Thursday 00:47  stronk7

	* lib.php: 
	
	Changed some conditions against the $USER variable to work fine
	under PHP5.
	
	Bug 2053 (http://moodle.org/bugs/bug.php?op=show&bugid=2053)

2004-10-06 Wednesday 07:21  stronk7

	* index.php, view.php: 
	
	Now RSS links ae showed properly in SITE course when user isn't
	logged.
	
	Solve a problem with if($USER) under PHP5.

2004-10-06 Wednesday 07:12  stronk7

	* view.php: 
	
	Small typo closing tr...

2004-10-06 Wednesday 06:51  stronk7

	* index.php, view.php: 
	
	Now RSS links ae showed properly in SITE course when user isn't
	logged.
	
	Solve a problem with if($USER) under PHP5.

2004-10-05 Tuesday 06:21  stronk7

	* index.php: 
	
	Now RSS links are displayed ok in SITEID course.
	
	Bug 2048.  (http://moodle.org/bugs/bug.php?op=show&bugid=2048)
	
	Merged from MOODLE_14_STABLE

2004-10-05 Tuesday 06:04  stronk7

	* index.php: 
	
	Now RSS links are displayed ok in SITEID course.
	
	Bug 2048.  (http://moodle.org/bugs/bug.php?op=show&bugid=2048)

2004-10-03 Sunday 17:48  stronk7

	* config.html: 
	
	admin/module.php is now using sesskey.
	
	Merged from MOODLE_14_STABLE

2004-10-03 Sunday 17:44  stronk7

	* config.html: 
	
	admin/module.php is now using sesskey.

2004-09-29 Wednesday 15:56  moodler

	* rsslib.php: 
	
	Merged SQL fixes from stable

2004-09-29 Wednesday 15:54  moodler

	* rsslib.php: 
	
	Fixed SQL for PostgreSQL (always use AS).  Thanks to Miles Metcalfe
	from the UK!

2004-09-28 Tuesday 17:46  moodler

	* discuss.php, lib.php: 
	
	Some changes for XHTML and accessibility compliance

2004-09-25 Saturday 21:11  moodler

	* lib.php, post.php: 
	
	Merged from stable - Only break up subject lines for recent
	activity   bug 1995

2004-09-25 Saturday 21:10  moodler

	* lib.php, post.php: 
	
	Only break up subject lines for recent activity   bug 1995

2004-09-23 Thursday 19:51  moodler

	* view.php: 
	
	Turning off "usexml" for forum/mod/view.php

2004-09-23 Thursday 15:50  moodler

	* rate.php: 
	
	Merge ratings fix for PHP5 from stable

2004-09-23 Thursday 15:36  moodler

	* rate.php: 
	
	Fixed bug in forum ratings with PHP 5

2004-09-21 Tuesday 19:41  gustav_delius

	* discuss.php, index.php, lib.php, post.php, restorelib.php,
	rsslib.php, search.php, subscribers.php, view.php: 
	
	Resolved problems with previous replacement of & to &amp; and fixed
	redirect() to entity encode the inut where needed.  Julian Sedding

2004-09-21 Tuesday 01:48  paca70

	* db/postgres7.php: 
	
	Postgres updates

2004-09-20 Monday 08:04  mjollnir_

	* lib.php, post.php: 
	
	Fix for forums to behave slightly in a more friendly manner for
	reporting stuff about file uploads.  Also told upload class to not
	complain if there isn't a file selected.
	
	These patches are maintained in an publicly accessible Arch
	repository, see:
	http://lists.eduforge.org/cgi-bin/archzoom.cgi/arch-eduforge@cataly
	st.net.nz--2004-MIRROR/moodle--eduforge--1.3.3
	
	Index of arch patches in this commit:
	
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	81     2004-09-19 23:48:54 GMT	   Penny Leach
	<penny@catalyst.net.nz>     fix for forum to print out messages
	including virus stuff and increase in time before redirect as there
	is more to read
	
	Full logs:
	
	Revision: moodle--eduforge--1.3.3--patch-81 Archive:
	arch-eduforge@catalyst.net.nz--2004 Creator: Penny Leach
	<penny@catalyst.net.nz> Date: Mon Sep 20 11:48:54 NZST 2004
	Standard-date: 2004-09-19 23:48:54 GMT Modified-files:
	mod/forum/lib.php mod/forum/post.php New-patches:
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	81 Summary: fix for forum to print out messages including virus
	stuff and increase in time before redirect as there is more to read
	Keywords:

2004-09-18 Saturday 16:18  moodler

	* lib.php: 
	
	Merged forum post headers feature from HEAD into 1.4.x so that we
	can use this on moodle.org posts (among other sites ;-)).

2004-09-17 Friday 18:28  gustav_delius

	* lib.php: 
	
	resolved a conflict ith previous commit

2004-09-17 Friday 13:46  mjollnir_

	* version.php: 
	
	bumps for version and requires for modules that use new upload
	class

2004-09-17 Friday 11:00  moodler

	* index.php: 
	
	Merged PHP5 fix from stable

2004-09-17 Friday 10:58  moodler

	* index.php: 
	
	Fix for PHP5 new object referencing ...  :-/
	
	 http://moodle.org/mod/forum/discuss.php?d=12541

2004-09-17 Friday 01:13  gustav_delius

	* discuss.php, index.php, lib.php, mod.html, post.html, post.php,
	report.php, restorelib.php, rsslib.php, search.php, view.php: 
	
	XHTML compliance - fixed (hopefully) all <img> tags - global
	replace on <br> to <br /> - &amp; in URLs - got the forum module
	XHTML compliant Julian Sedding

2004-09-15 Wednesday 06:58  mjollnir_

	* lib.php, post.html: 
	
	Centralised file upload code, integration with clam AV, integration
	with some modules: assignment, exercise, forum, glossaryt,
	resource, scorm (more to come soon).
	
	These patches are maintained in an publicly accessible Arch
	repository, see:
	http://lists.eduforge.org/cgi-bin/archzoom.cgi/arch-eduforge@cataly
	st.net.nz--2004-MIRROR/moodle--eduforge--1.3.3
	
	Index of arch patches in this commit:
	
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	15     final touches to sears stuff until testing can begin,
	beginning of magical uploadey wrappery function goodness
	
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	18     Virus scanning on upload
	
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	19     made emacs use spaces instead of tabs and fixed
	lib/moodlelib.php where it was bad in the new functions; few
	wording changes, added in support for clamdscan
	
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	20     handlevirus.php = new script to handle output of clamscan
	(designed for cron clamscan), changes to strings for emailing out
	virus notifications, changes to moodlelib - slightly different
	notice reporting in handle_infected_file and new function for
	replacing file with message
	
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	21     refactor to filter out invalid lines in input to handlevirus
	
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	22     modified assignment to use hande_file_upload
	
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	25     bug fix for handle_file_upload
	
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	26     Small fix for non thinking brain doing something silly
	
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	35     small fix to switch order of items in drop down to allow
	sensible defaults
	
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	36     small changes to strings file
	
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	38     taken stuff out of moodlelib to put in upload class
	
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	39     new upload class -in a changeset by itself just in case -
	not quite finished
	
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	40     tweaks to upload class - clam_scan_file can now take a path
	as an argument, not just an entry from _FILES, there is better
	handling of failure and notification, more allowance for module
	writers to keep control in general. Also slightly nicer strings
	entries for a few things
	
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	41     upload class integration with assignment module, bug fix,
	slight tweak
	
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	42     small changes to uploadlib, integration with assessment and
	assignment
	
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	44     tweaks for assessment and assignment for uploading
	
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	48     integration with exercise module
	
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	49     integration of virus stuff with forum module
	
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	50     integration of upload class and glossary module
	
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	51     just in case glossary_move_attachments is ever used, we
	change the log entries before we move the files. also  moved
	clam_log_upload out of the class
	
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	52     virus scanning for imports for glossary
	
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	53     relog entries when moving files attached to forum posts
	
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	54     resource module integration with virus scanning
	
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	55     scorm integration with upload/virus class
	
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	56     fix for handlevirus.php since upload class changes
	
	Full logs:
	
	Revision: moodle--eduforge--1.3.3--patch-15 Archive:
	arch-eduforge@catalyst.net.nz--2004 Creator: Penny Leach
	<penny@catalyst.net.nz> Date: Wed Sep  1 17:28:13 NZST 2004
	Standard-date: 2004-09-01 05:28:13 GMT Modified-files:
	lang/en/moodle.php lib/moodlelib.php	 mod/assessment/sears.php
	mod/assessment/upload.php New-patches:
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	15 Summary: final touches to sears stuff until testing can begin,
	beginning of magical uploadey wrappery function goodness Keywords:
	
	Revision: moodle--eduforge--1.3.3--patch-18 Archive:
	arch-eduforge@catalyst.net.nz--2004 Creator: Penny Leach
	<penny@catalyst.net.nz> Date: Thu Sep  2 15:49:54 NZST 2004
	Standard-date: 2004-09-02 03:49:54 GMT Modified-files:
	admin/config.html lang/en/moodle.php	 lib/moodlelib.php
	mod/assessment/upload.php New-patches:
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	18 Summary: Virus scanning on upload Keywords:
	
	Revision: moodle--eduforge--1.3.3--patch-19 Archive:
	arch-eduforge@catalyst.net.nz--2004 Creator: Penny Leach
	<penny@catalyst.net.nz> Date: Thu Sep  2 17:06:14 NZST 2004
	Standard-date: 2004-09-02 05:06:14 GMT Modified-files:
	lang/en/moodle.php lib/moodlelib.php	 mod/assessment/upload.php
	New-patches:
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	19 Summary: made emacs use spaces instead of tabs and fixed
	lib/moodlelib.php where it was bad in the new functions; few
	wording changes, added in support for clamdscan Keywords:
	
	Revision: moodle--eduforge--1.3.3--patch-20 Archive:
	arch-eduforge@catalyst.net.nz--2004 Creator: Penny Leach
	<penny@catalyst.net.nz> Date: Fri Sep  3 16:06:05 NZST 2004
	Standard-date: 2004-09-03 04:06:05 GMT New-files:
	admin/.arch-ids/handlevirus.php.id     admin/handlevirus.php
	Modified-files: lang/en/moodle.php lib/moodlelib.php New-patches:
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	20 Summary: handlevirus.php = new script to handle output of
	clamscan (designed for cron clamscan), changes to strings for
	emailing out virus notifications, changes to moodlelib - slightly
	different notice reporting in handle_infected_file and new function
	for replacing file with message Keywords:
	
	Revision: moodle--eduforge--1.3.3--patch-21 Archive:
	arch-eduforge@catalyst.net.nz--2004 Creator: Penny Leach
	<penny@catalyst.net.nz> Date: Mon Sep  6 11:37:31 NZST 2004
	Standard-date: 2004-09-05 23:37:31 GMT Modified-files:
	admin/handlevirus.php New-patches:
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	21 Summary: refactor to filter out invalid lines in input to
	handlevirus Keywords:
	
	Revision: moodle--eduforge--1.3.3--patch-22 Archive:
	arch-eduforge@catalyst.net.nz--2004 Creator: Penny Leach
	<penny@catalyst.net.nz> Date: Mon Sep  6 13:07:48 NZST 2004
	Standard-date: 2004-09-06 01:07:48 GMT Modified-files:
	mod/assignment/upload.php New-patches:
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	22 Summary: modified assignment to use hande_file_upload Keywords:
	
	Revision: moodle--eduforge--1.3.3--patch-25 Archive:
	arch-eduforge@catalyst.net.nz--2004 Creator: Penny Leach
	<penny@catalyst.net.nz> Date: Mon Sep  6 16:32:11 NZST 2004
	Standard-date: 2004-09-06 04:32:11 GMT Modified-files:
	lib/moodlelib.php New-patches:
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	25 Summary: bug fix for handle_file_upload Keywords:
	
	Revision: moodle--eduforge--1.3.3--patch-26 Archive:
	arch-eduforge@catalyst.net.nz--2004 Creator: Penny Leach
	<penny@catalyst.net.nz> Date: Mon Sep  6 16:51:50 NZST 2004
	Standard-date: 2004-09-06 04:51:50 GMT Modified-files:
	lib/moodlelib.php New-patches:
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	26 Summary: Small fix for non thinking brain doing something silly
	Keywords:
	
	Revision: moodle--eduforge--1.3.3--patch-35 Archive:
	arch-eduforge@catalyst.net.nz--2004 Creator: Penny Leach
	<penny@catalyst.net.nz> Date: Fri Sep 10 10:09:53 NZST 2004
	Standard-date: 2004-09-09 22:09:53 GMT Modified-files:
	admin/config.html New-patches:
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	35 Summary: small fix to switch order of items in drop down to
	allow sensible defaults Keywords:
	
	Revision: moodle--eduforge--1.3.3--patch-36 Archive:
	arch-eduforge@catalyst.net.nz--2004 Creator: Penny Leach
	<penny@catalyst.net.nz> Date: Fri Sep 10 10:11:29 NZST 2004
	Standard-date: 2004-09-09 22:11:29 GMT Modified-files:
	lang/en/moodle.php New-patches:
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	36 Summary: small changes to strings file Keywords:
	
	Revision: moodle--eduforge--1.3.3--patch-38 Archive:
	arch-eduforge@catalyst.net.nz--2004 Creator: Penny Leach
	<penny@catalyst.net.nz> Date: Fri Sep 10 10:17:24 NZST 2004
	Standard-date: 2004-09-09 22:17:24 GMT Modified-files:
	lib/moodlelib.php New-patches:
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	38 Summary: taken stuff out of moodlelib to put in upload class
	Keywords:
	
	Revision: moodle--eduforge--1.3.3--patch-39 Archive:
	arch-eduforge@catalyst.net.nz--2004 Creator: Penny Leach
	<penny@catalyst.net.nz> Date: Fri Sep 10 10:21:21 NZST 2004
	Standard-date: 2004-09-09 22:21:21 GMT New-files:
	lib/.arch-ids/uploadlib.php.id lib/uploadlib.php New-patches:
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	39 Summary: new upload class -in a changeset by itself just in case
	- not quite finished Keywords:
	
	Revision: moodle--eduforge--1.3.3--patch-40 Archive:
	arch-eduforge@catalyst.net.nz--2004 Creator: Penny Leach
	<penny@catalyst.net.nz> Date: Fri Sep 10 11:58:24 NZST 2004
	Standard-date: 2004-09-09 23:58:24 GMT Modified-files:
	lang/en/moodle.php lib/uploadlib.php New-patches:
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	40 Summary: tweaks to upload class - clam_scan_file can now take a
	path as an argument, not just an entry from _FILES, there is better
	handling of failure and notification, more allowance for module
	writers to keep control in general. Also slightly nicer strings
	entries for a few things Keywords:
	
	Revision: moodle--eduforge--1.3.3--patch-41 Archive:
	arch-eduforge@catalyst.net.nz--2004 Creator: Penny Leach
	<penny@catalyst.net.nz> Date: Fri Sep 10 12:38:02 NZST 2004
	Standard-date: 2004-09-10 00:38:02 GMT Modified-files:
	lib/uploadlib.php mod/assignment/upload.php New-patches:
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	41 Summary: upload class integration with assignment module, bug
	fix, slight tweak Keywords:
	
	Revision: moodle--eduforge--1.3.3--patch-42 Archive:
	arch-eduforge@catalyst.net.nz--2004 Creator: Penny Leach
	<penny@catalyst.net.nz> Date: Fri Sep 10 15:30:20 NZST 2004
	Standard-date: 2004-09-10 03:30:20 GMT Modified-files:
	lib/uploadlib.php mod/assessment/upload.php    
	mod/assessment/view.php mod/assignment/upload.php New-patches:
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	42 Summary: small changes to uploadlib, integration with assessment
	and assignment Keywords:
	
	Revision: moodle--eduforge--1.3.3--patch-44 Archive:
	arch-eduforge@catalyst.net.nz--2004 Creator: Penny Leach
	<penny@catalyst.net.nz> Date: Fri Sep 10 16:54:40 NZST 2004
	Standard-date: 2004-09-10 04:54:40 GMT Modified-files:
	mod/assessment/lib.php	   mod/assignment/lib.php New-patches:
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	44 Summary: tweaks for assessment and assignment for uploading
	Keywords:
	
	Revision: moodle--eduforge--1.3.3--patch-48 Archive:
	arch-eduforge@catalyst.net.nz--2004 Creator: Penny Leach
	<penny@catalyst.net.nz> Date: Mon Sep 13 09:57:03 NZST 2004
	Standard-date: 2004-09-12 21:57:03 GMT Modified-files:
	lang/en/moodle.php     mod/exercise/locallib.php
	mod/exercise/upload.php New-patches:
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	48 Summary: integration with exercise module Keywords:
	
	Revision: moodle--eduforge--1.3.3--patch-49 Archive:
	arch-eduforge@catalyst.net.nz--2004 Creator: Penny Leach
	<penny@catalyst.net.nz> Date: Mon Sep 13 11:35:46 NZST 2004
	Standard-date: 2004-09-12 23:35:46 GMT Modified-files:
	mod/forum/lib.php mod/forum/post.html New-patches:
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	49 Summary: integration of virus stuff with forum module Keywords:
	
	Revision: moodle--eduforge--1.3.3--patch-50 Archive:
	arch-eduforge@catalyst.net.nz--2004 Creator: Penny Leach
	<penny@catalyst.net.nz> Date: Mon Sep 13 14:00:29 NZST 2004
	Standard-date: 2004-09-13 02:00:29 GMT Modified-files:
	lang/en/glossary.php mod/glossary/edit.html    
	mod/glossary/edit.php mod/glossary/lib.php New-patches:
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	50 Summary: integration of upload class and glossary module
	Keywords:
	
	Revision: moodle--eduforge--1.3.3--patch-51 Archive:
	arch-eduforge@catalyst.net.nz--2004 Creator: Penny Leach
	<penny@catalyst.net.nz> Date: Mon Sep 13 15:13:02 NZST 2004
	Standard-date: 2004-09-13 03:13:02 GMT Modified-files:
	lib/uploadlib.php mod/glossary/lib.php New-patches:
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	51 Summary: just in case glossary_move_attachments is ever used, we
	change the log entries before we move the files. also  moved
	clam_log_upload out of the class Keywords:
	
	Revision: moodle--eduforge--1.3.3--patch-52 Archive:
	arch-eduforge@catalyst.net.nz--2004 Creator: Penny Leach
	<penny@catalyst.net.nz> Date: Mon Sep 13 15:26:56 NZST 2004
	Standard-date: 2004-09-13 03:26:56 GMT Modified-files:
	mod/glossary/import.html     mod/glossary/import.php New-patches:
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	52 Summary: virus scanning for imports for glossary Keywords:
	
	Revision: moodle--eduforge--1.3.3--patch-53 Archive:
	arch-eduforge@catalyst.net.nz--2004 Creator: Penny Leach
	<penny@catalyst.net.nz> Date: Mon Sep 13 16:02:22 NZST 2004
	Standard-date: 2004-09-13 04:02:22 GMT Modified-files:
	mod/forum/lib.php New-patches:
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	53 Summary: relog entries when moving files attached to forum posts
	Keywords:
	
	Revision: moodle--eduforge--1.3.3--patch-54 Archive:
	arch-eduforge@catalyst.net.nz--2004 Creator: Penny Leach
	<penny@catalyst.net.nz> Date: Mon Sep 13 16:58:37 NZST 2004
	Standard-date: 2004-09-13 04:58:37 GMT Modified-files:
	mod/resource/coursefiles.php New-patches:
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	54 Summary: resource module integration with virus scanning
	Keywords:
	
	Revision: moodle--eduforge--1.3.3--patch-55 Archive:
	arch-eduforge@catalyst.net.nz--2004 Creator: Penny Leach
	<penny@catalyst.net.nz> Date: Tue Sep 14 16:15:47 NZST 2004
	Standard-date: 2004-09-14 04:15:47 GMT Modified-files:
	mod/scorm/coursefiles.php New-patches:
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	55 Summary: scorm integration with upload/virus class Keywords:
	
	Revision: moodle--eduforge--1.3.3--patch-56 Archive:
	arch-eduforge@catalyst.net.nz--2004 Creator: Penny Leach
	<penny@catalyst.net.nz> Date: Wed Sep 15 10:33:23 NZST 2004
	Standard-date: 2004-09-14 22:33:23 GMT Modified-files:
	admin/handlevirus.php New-patches:
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	56 Summary: fix for handlevirus.php since upload class changes
	Keywords:

2004-09-13 Monday 06:23  gustav_delius

	* config.html, lib.php, mod.html, post.html, prune.html: 
	
	closed some input tags

2004-09-12 Sunday 23:42  gustav_delius

	* backuplib.php, config.html, delete.php, discuss.php, index.php,
	lib.php, mod.html, post.html, post.php, prune.html, rate.php,
	report.php, restorelib.php, rsslib.php, search.php, subscribe.php,
	subscribers.php, version.php, view.php, db/mysql.php,
	db/oci8po.php, db/postgres7.php: 
	
	fixed capitalization and quoting of attribute values

2004-09-12 Sunday 22:41  gustav_delius

	* lib.php, restorelib.php, subscriber.html: 
	
	closed <input /> <br /> <hr />

2004-09-07 Tuesday 22:04  moodler

	* lib.php: 
	
	Added better headers to forum posts to allow threading, better
	filtering etc.
	
	   Based on:
	http://opensource.mediagonal.ch/moodle/patches/mailheaders/

2004-09-03 Friday 15:24  moodler

	* lib.php: 
	
	Merged from stable

2004-09-03 Friday 15:23  moodler

	* lib.php: 
	
	FIxed a notice	bug 1875

2004-08-30 Monday 03:17  gustav_delius

	* lib.php: 
	
	Can now force subscribe INITIALLY, implementing suggestion by
	Howard in bug 1084

2004-08-30 Monday 02:20  gustav_delius

	* lib.php, mod.html, post.html, subscribe.php: 
	
	Can now force subscribe INITIALLY, implementing suggestion by
	Howard in bug 1084

2004-08-26 Thursday 23:08  moodler

	* lib.php: 
	
	Merged from stable

2004-08-26 Thursday 23:08  moodler

	* lib.php: 
	
	OK, I've been having bad luck with this one.  NOW it's fixed
	properly!

2004-08-26 Thursday 22:47  moodler

	* lib.php: 
	
	Merged from stable

2004-08-26 Thursday 22:46  moodler

	* lib.php: 
	
	Dammit, I accidentally deleted a line.

2004-08-26 Thursday 22:21  moodler

	* lib.php: 
	
	Merged changes from stable

2004-08-26 Thursday 22:19  moodler

	* lib.php: 
	
	1.  Delete is no longer shown on posts after maxeditingtime has
	expired 2.  Prune strings are cached (my that's an odd sentence) 3.
	 Last post links from discussion listing now work when there are no
	replies

2004-08-26 Thursday 19:18  stronk7

	* view.php: 
	
	Notice out.
	
	Merged from 14_STABLE

2004-08-26 Thursday 08:10  stronk7

	* view.php: 
	
	Notice out

2004-08-24 Tuesday 18:13  gustav_delius

	* version.php: 
	
	All the modules in which I made changes require the latest version
	of datalib.php.

2004-08-23 Monday 10:11  moodler

	* lib.php: 
	
	Removed some comments

2004-08-23 Monday 10:05  moodler

	* lib.php: 
	
	Using the "parent" style of linking to the last post for browser
	speed, and also addressed some of PJs documentation concerns  ;-)

2004-08-23 Monday 01:10  defacer

	* lib.php: 
	
	Fix for bug 1755:
	
	As discussed in the forums, the "last post on" date for each
	discussion in a forum view has been shortened and also made into a
	link.

2004-08-22 Sunday 22:38  gustav_delius

	* post.php, search.php: 
	
	All modules are now suitable for the site page. They now all follow
	the same rules, namely that any students enrolled in at least one
	course is considered to be a student on the site.
	
	All the page headers work correctly also on the site course.
	
	On the site page the modules don't require login unless necessary
	or required by $CFG->forcelogin.

2004-08-22 Sunday 04:20  gustav_delius

	* subscribers.php, view.php: 
	
	Removed notices by introducing new function print_header_simple()
	which works on site as well as in courses without extra logic.

2004-08-21 Saturday 21:28  defacer

	* mod.html: 
	
	julmis' last commit contained garbage from a CVS merge conflict he
	obviously had, so I 'm removing them. Good thing they weren't mixed
	with deliberate changes!

2004-08-21 Saturday 20:43  gustav_delius

	* subscriber.html, subscribers.php: 
	
	Moved the raw SQL out of here and into the new search_user function
	in datalib.php.

2004-08-21 Saturday 18:12  julmis

	* mod.html: 
	
	Add editor settings feature and Ludo's (Marc Alier) spellchecking
	functionality.	- Needs testing and should consider unstable.

2004-08-21 Saturday 04:12  gustav_delius

	* lib.php, report.php: 
	
	introduced the fullname() function in a lot of places. Still not
	complete though, especially in sorting.

2004-08-18 Wednesday 21:35  moodler

	* version.php: 
	
	Bump

2004-08-16 Monday 05:01  gustav_delius

	* lib.php, subscribers.php: 
	
	Improved subscription editing interface according to discussion at
	http://moodle.org/mod/forum/discuss.php?d=11089#53612

2004-08-15 Sunday 20:38  gustav_delius

	* lib.php, subscriber.html, subscribers.php: 
	
	Editing teacher can now subscribe users to a forum, see
	http://moodle.org/mod/forum/discuss.php?d=11089

2004-08-14 Saturday 20:33  moodler

	* lib.php: 
	
	Better messages

2004-08-11 Wednesday 15:55  moodler

	* lib.php: 
	
	Finally?  Fixed the digest mail sending time (it was a timezone
	issue).

2004-08-11 Wednesday 12:36  moodler

	* post.php: 
	
	Removed a typo

2004-08-10 Tuesday 17:37  stronk7

	* lib.php, view.php: 
	
	Paging discussions is in CVS just now :-)

2004-08-09 Monday 22:56  moodler

	* lib.php, post.php: 
	
	Don't clean posted text on input (will be cleaned on output).

2004-08-09 Monday 02:00  stronk7

	* index.php: 
	
	Now the RSS link is showed in the list of forums.  Now going to the
	glossary...
	
	Bug 1706 (http://moodle.org/bugs/bug.php?op=show&bugid=1706)

2004-08-08 Sunday 01:21  stronk7

	* config.html: 
	
	Avoid some notices...

2004-08-07 Saturday 12:09  moodler

	* lib.php: 
	
	Whoops, fixed a typo

2004-08-07 Saturday 10:44  moodler

	* post.php: 
	
	Merged recent fix from stable

2004-08-07 Saturday 10:43  moodler

	* post.php: 
	
	Fixed possible XSS entry point

2004-08-06 Friday 02:08  moodler

	* lib.php: 
	
	Fix for stupid bug causing old mails not to be marked as mailed
	
	Also, forum email is now posted from old to new.

2004-08-06 Friday 02:06  moodler

	* rsslib.php: 
	
	RSS for forums now checks the new posts against the file
	modification date, and doesn't regenerate the RSS file if it
	doesn't need to.
	
	Much faster now.   :-)

2004-08-04 Wednesday 20:50  moodler

	* mod.html: 
	
	FIxed some defaults and notices

2004-08-04 Wednesday 20:48  moodler

	* mod.html: 
	
	Fixed some notices.

2004-08-04 Wednesday 10:20  moodler

	* lib.php: 
	
	Forum mail older than two days is never sent out.
	
	This will prevent the "flood of mail" problem that newbie admins
	sometimes experience when cron isn't set up.

2004-08-03 Tuesday 13:11  moodler

	* lib.php: 
	
	== was not working I think, but === definitely does

2004-08-03 Tuesday 12:02  moodler

	* lib.php: 
	
	Forum mail now logs differently if mail was just blocked (rather
	than flagging it as an error)

2004-08-02 Monday 17:49  moodler

	* lib.php: 
	
	Some tidy ups in mail formatting

2004-08-02 Monday 11:00  moodler

	* lib.php: 
	
	Simpler method of working out when to send digests

2004-07-29 Thursday 21:10  moodler

	* lib.php: 
	
	Set a default value for $CFG->forum_replytouser

2004-07-28 Wednesday 16:51  paca70

	* db/postgres7.php: 
	
	Wery quickly tested and untested  versions for Postgresql.

2004-07-22 Thursday 22:08  moodler

	* lib.php: 
	
	Add body color to email .... ?
	
	Reversed PJ's changes .. should to be working OK without them

2004-07-21 Wednesday 20:01  defacer

	* lib.php: 
	
	
	An improvement(?) in forum digest language handling.

2004-07-21 Wednesday 17:42  moodler

	* lib.php: 
	
	Untested small hack to maybe fix the digest language

2004-07-20 Tuesday 20:39  defacer

	* lib.php: 
	
	This should make individual forum posts in digests be sorted in
	ascending postid (and thus, chronological) order. Strange thing is,
	it looks like being sorted as it is!

2004-07-13 Tuesday 22:11  moodler

	* post.php: 
	
	FIxes some course language problems

2004-07-08 Thursday 22:39  moodler

	* post.php: 
	
	Fixed a wrinkly prune (cou;dn;t update posts containing quotes)

2004-07-08 Thursday 01:42  moodler

	* discuss.php, index.php, lib.php, post.php, version.php, view.php,
	db/mysql.php, db/mysql.sql: 
	
	Merging changes from Moodle 13 Stable

2004-07-05 Monday 13:45  moodler

	* lib.php: 
	
	Made forum search form slightly smaller

2004-07-04 Sunday 15:38  moodler

	* lib.php: 
	
	FIxes for showing user discussions from groups

2004-07-03 Saturday 20:56  moodler

	* lib.php: 
	
	Fixes for recent activity

2004-07-03 Saturday 20:09  moodler

	* discuss.php, index.php, lib.php, post.php, version.php, view.php,
	db/mysql.php, db/mysql.sql: 
	
	This fixes some rather serious bugs with how groups are used in
	group-oriented forums.
	
	The zero group was used to define both the
	
	   - ungrouped people
	   - the posts that all groups should see
	
	The groupid field in the forums is now a signed field and a new
	value -1 has been introduced.
	
	   0  --> ungrouped people
	   -1 --> the posts that all groups should see
	
	Things are now a lot more intuitive.  Teachers can post to
	individual groups or to ALL groups at once.   Recent news display
	now makes sense etc.

2004-07-02 Friday 06:29  gustav_delius

	* post.php: 
	
	made sure that the guest autologin does not happen when user
	replies to post

2004-06-29 Tuesday 11:49  moodler

	* post.php: 
	
	Fixed a typo I just made

2004-06-29 Tuesday 11:46  moodler

	* post.php: 
	
	Slight changes to prunng code (first post now assumes discussion
	name)

2004-06-25 Friday 15:38  defacer

	* lib.php: 
	
	Minor fix in forum digests: The digest sender's name was that of
	the last poster in it. Now set to the site shortname.

2004-06-23 Wednesday 23:31  moodler

	* lib.php: 
	
	Show links on group icons in forum posts

2004-06-15 Tuesday 04:06  gustav_delius

	* search.php: 
	
	Site option forcelogin is now respected by /mod/forum/search.php,
	fixing bug 1566

2004-06-15 Tuesday 04:02  gustav_delius

	* search.php: 
	
	Site option forcelogin is now respected by /mod/forum/search.php,
	fixing bug 1566

2004-06-07 Monday 21:24  moodler

	* lib.php: 
	
	Don't cache $strforums because the value could change from user to
	user

2004-06-07 Monday 14:18  moodler

	* lib.php: 
	
	Merged bugfix from 1.3.x

2004-06-07 Monday 14:12  moodler

	* lib.php: 
	
	Fixed a bug reported here:
	http://moodle.org/mod/forum/discuss.php?d=8737
	
	Students now will not see a forum rating menu if "teachers only"
	has been selected.

2004-06-06 Sunday 20:49  gustav_delius

	* config.html, lib.php: 
	
	Fixed bug 1535. Unless $CFG->forum_replytouser is set to 1 AND the
	user has set maildisplay nonzero, the address $CFG->noreplyaddress
	is sent instead of the user's address.

2004-06-04 Friday 15:28  moodler

	* version.php: 
	
	MOdules are dependent on this version of course/mod.php

2004-06-04 Friday 14:17  moodler

	* mod.html, post.php: 
	
	BRANCH MERGE
	
	These are the changes from MOODLE_13_STABLE, merged into trunk
	
	The tag MOODLE_13_MERGED on the MOODLE_13_STABLE branch now refers
	to this point
	
	The biggest changes here are the fixes for HTML editor in all
	standard modules

2004-06-03 Thursday 21:07  moodler

	* mod.html, post.php, version.php: 
	
	OK, for bug fixes this is a pretty big checkin!!   :-/
	
	I finally was able to see the HTML Editor bug in IE/XP that
	everyone was talking about, and it's a very serious bug as it makes
	Moodle 1.3 almost unusable for these people.  :-(  :-(
	
	So, I eventually found out that the problem is that the Javascript
	that attaches the editor has troubles when it is embedded within
	the table						    that
	course/mod.php puts around the mod.html forms in each module. 
	(Only in IE and only sometimes, mind you).
	
	While testing I also had a good look at a long standing issue which
	is the inconsistency of the mod.html forms when using the editor.
	
	So, to fix both I decided to put the HTML editor calls OUTSIDE the
	mod.html in the mod.php file.  This means that all modules get the
	HTML editor by default on all text areas during activity module
	setup by default.
	
	I've been running through this for the past few hours and it seems
	pretty stable now and a lot more consistent, so I'm checking it in
	as big fix towards the Moodle 1.3.1 we have to have.
	
	Unfortunately it also means the API has changed a bit  ... I had to
	update all the module dependencies to this exact version (or
	later).
	
	Please test this "stable" version hard using the standard modules
	only and I'll merge these changes over to the trunk in a day or so
	and update all known third-party modules.

2004-06-01 Tuesday 21:02  defacer

	* db/mysql.sql: 
	
	Corrected another silly mistake: extra comma before closing
	parenthesis.

2004-06-01 Tuesday 18:10  defacer

	* lib.php: 
	
	Tiny fix for forum_cron() to suppress a warning.

2004-06-01 Tuesday 18:09  defacer

	* lib.php: 
	
	Email digest feature: Last and most important, the changes to
	forum_cron()

2004-06-01 Tuesday 16:36  gustav_delius

	* post.html: 
	
	Use 'savechanges' on button when editing post.

2004-06-01 Tuesday 15:45  defacer

	* db/mysql.php: 
	
	Fix for dumb error (extra comma)

2004-06-01 Tuesday 15:39  defacer

	* version.php, db/mysql.php, db/mysql.sql, db/postgres7.php,
	db/postgres7.sql: 
	
	Moving some stuff to forum/db where they belong... (sorry!)

2004-06-01 Tuesday 02:58  gustav_delius

	* post.html: 
	
	changed language string 'savechanges' to 'posttoforum' on post.html

2004-05-31 Monday 10:42  moodler

	* lib.php: 
	
	Undoing Gustav's checkin from yesterday ...
	
	Sorry, Gustav, but all those record_exists calls were too much
	overhead.
	
	It's better done by a check in the delete page...  this will also
	account for the case where a reply has been made since the post was
	displayed on screen.

2004-05-31 Monday 01:25  gustav_delius

	* lib.php, post.php, prune.html: 
	
	Can now break off posts into a new discussion, see bug 673

2004-05-30 Sunday 22:42  gustav_delius

	* lib.php: 
	
	Delete links on forum post now only show if post has no children

2004-05-26 Wednesday 04:03  gustav_delius

	* lib.php: 
	
	fixed bug 904

2004-05-24 Monday 18:04  defacer

	* post.php: 
	
	Fix for bug 1453: Automatic "Re:" prefixes in forum replies now
	don't get chained in languages where the "re:" string has length !=
	3.

2004-05-24 Monday 04:46  gustav_delius

	* subscribers.php: 
	
	Fixed bug 1443: In the case of a "Teacher Forum" the "Subscribe
	everyone to this forum" button now only subscribes teachers.

2004-05-19 Wednesday 14:43  moodler

	* discuss.php, view.php: 
	
	Teacher forum never has groups

2004-05-18 Tuesday 22:14  moodler

	* lib.php: 
	
	Suppress warnings on set_time_limit

2004-05-18 Tuesday 11:15  moodler

	* lib.php: 
	
	Don't show the replies column when no replies are allowed - it
	seems to upset some people.

2004-05-18 Tuesday 11:14  moodler

	* subscribe.php, subscribers.php: 
	
	Minor tweaks I forgot to check in from a long time ago

2004-05-17 Monday 17:31  defacer

	* lib.php: 
	
	Fix for bug 1194:
	
	Now forum_print_user_discussions does not show discussions in
	hidden forums, unless you are an an editing teacher.
	
	** NOISY DIFF WARNING ** I don't know why this happens, but the
	only changes are in function forum_print_user_discussions (10 lines
	or so).

2004-05-16 Sunday 08:35  stronk7

	* lib.php: 
	
	Step 2 of Bug 1223 done. 
	(http://moodle.org/bugs/bug.php?op=show&bugid=1223)

2004-05-16 Sunday 07:18  stronk7

	* lib.php: 
	
	Step 1 of Bug 1223 done. 
	(http://moodle.org/bugs/bug.php?op=show&bugid=1223)

2004-05-11 Tuesday 02:26  moodler

	* lib.php: 
	
	Borders on mailed posts

2004-05-11 Tuesday 02:14  moodler

	* lib.php: 
	
	Wasting time with tweaks

2004-05-11 Tuesday 02:12  moodler

	* lib.php: 
	
	Tweaking the formatting of the footers a bit

2004-05-10 Monday 07:10  stronk7

	* mod.html: 
	
	Included some missing colons...I forgot.

2004-05-10 Monday 06:20  stronk7

	* config.html, mod.html: 
	
	Now glossaries can produce RSS feeds too !! Some strings (RSS
	related) has been moved from forum.php to moodle.php to avoid
	suplicating them once per module.  It seems to work fine, please
	test...:-)

2004-05-10 Monday 02:34  stronk7

	* rsslib.php: 
	
	Some improvements in RSS: - Article's author is showed if present. 
	- In forum posts feeds, show post->subject instead of
	discussion->name - Description contents in every article are passed
	to format_text() to   show contents like the rest of Moodle.

2004-05-09 Sunday 02:27  stronk7

	* restorelib.php: 
	
	Now every link to forums (from resources and forums) and every link
	to resources (from resources and forums) are re-encoded in
	backup/restore.
	
	I could reduce the code size but for now I prefer to have it this
	looong form to clarify what it's doing.
	
	Please, test, test and test...

2004-05-08 Saturday 07:40  stronk7

	* restorelib.php: 
	
	Changed the system to recode links to forums. Now it it detect that
	the link doesn't belong to the course being restored, then the
	original link is mantained.  With this, the backup/restore should
	be finished. Now some tests to check everything !!

2004-05-08 Saturday 01:48  gustav_delius

	* lib.php: 
	
	fixed bug 1093 by applying clean_text to $forum->intro

2004-05-07 Friday 11:31  moodler

	* lib.php: 
	
	Email from forums is marked as "bulk" to reduce vacation bounces
	etc

2004-05-07 Friday 06:53  stronk7

	* backuplib.php: 
	
	Now links to forums are encoded properly

2004-05-04 Tuesday 02:18  stronk7

	* backuplib.php, restorelib.php: 
	
	Added support for rsstype and rssarticles in forum's backup &
	restore.

2004-05-03 Monday 07:14  stronk7

	* restorelib.php, version.php: 
	
	I suppose that now forum needs current version of Moodle to work
	(modified cron system...), isn't it?

2004-05-03 Monday 07:08  stronk7

	* rsslib.php: 
	
	First version of RSS System.  Discussion and post forum feeds
	supported.  Integrated in cron system.	Some strings missing. 
	Test, test, test...

2004-05-03 Monday 06:56  stronk7

	* config.html, mod.html, version.php, view.php, db/mysql.php,
	db/mysql.sql, db/oci8po.sql, db/postgres7.php, db/postgres7.sql: 
	
	First version of RSS System.  Discussion and post forum feeds
	supported.  Integrated in cron system.	Some strings missing. 
	Test, test, test...

2004-04-30 Friday 09:54  moodler

	* post.php: 
	
	Some fixes to ensure students can't post to hidden forums

2004-04-26 Monday 16:54  moodler

	* lib.php, subscribers.php: 
	
	Subscriber editing is group-aware.
	
	Groups can be subscribed or unsubscribed with one click

2004-04-26 Monday 11:01  moodler

	* subscribers.php: 
	
	Fixed a hard-coded string.   bug 1269

2004-04-25 Sunday 10:15  moodler

	* post.php: 
	
	Check attachment variable to prevent warnings

2004-04-25 Sunday 09:43  moodler

	* discuss.php: 
	
	Fix for bug 1268

2004-04-24 Saturday 08:40  stronk7

	* backuplib.php, restorelib.php: 
	
	First version of inter-activities mantained in backup/restore.	All
	the conversion to some pseudo-codes are done at backup time.  In
	the restore process, every link is decoded to new ids.	For now,
	this is supported: - In backup:   -all links to forums are encoded.
	 - In restore:	 - all links to forums are decoded.	   - from
	forums (post->message).        - from resources
	(resource->alltext).  The process requires a backup made with the
	same version (because it has to be properly encoded at backup
	time). Old backups will work without conversions at all.  Only
	tested with some little courses.  It would be perfect to have some
	"big" course to test it.  Please, test and feedback, ciao :-)

2004-04-12 Monday 18:12  moodler

	* lib.php: 
	
	Bug fixed when determining who can post into a forum when groups
	are used

2004-04-12 Monday 14:34  moodler

	* lib.php: 
	
	Use the fullname function to display name on minmal forum listings

2004-04-01 Thursday 11:45  moodler

	* index.php: 
	
	Fix for the display of hidden forums to students  - bug 1209

2004-03-27 Saturday 22:32  moodler

	* mod.html, post.html: 
	
	Attachments can now be completely disabled in forums

2004-03-25 Thursday 13:29  moodler

	* rate.php: 
	
	Better handling of single forums when secureforms is on.  bug 1189

2004-03-22 Monday 13:59  moodler

	* rate.php: 
	
	Most of the time, don't rely on HTTP_REFERER

2004-03-15 Monday 13:23  moodler

	* lib.php: 
	
	Don't allow links within forum post subjects when filtering them

2004-03-13 Saturday 21:56  moodler

	* discuss.php: 
	
	The menu when moving discussions now has section markers

2004-03-13 Saturday 20:01  moodler

	* index.php: 
	
	OK that should fix the access problem, as well as a bug with
	organising the data

2004-03-13 Saturday 19:26  moodler

	* index.php: 
	
	Some fixes to counting, still need to fix some access issues

2004-03-13 Saturday 18:56  moodler

	* index.php: 
	
	Some fixes.   :-}

2004-03-13 Saturday 18:41  moodler

	* index.php: 
	
	OK, so the forums listing is revamped with different logic and it
	should now correctly show the number of discussions for separate
	forums.
	
	I'm checking this in so I can do testing on various servers.

2004-03-12 Friday 09:54  moodler

	* discuss.php, index.php, view.php: 
	
	Make sure forcelogin is applied to forums at site level

2004-03-10 Wednesday 10:21  moodler

	* version.php: 
	
	New dependency

2004-03-10 Wednesday 10:19  moodler

	* post.php: 
	
	Use break_up_long_words

2004-03-07 Sunday 14:32  moodler

	* lib.php: 
	
	Use emailstop  ;-)

2004-03-03 Wednesday 06:11  gustav_delius

	* view.php: 
	
	fixed a typo in the URL produced by the group menu on
	forum/view.php

2004-02-22 Sunday 20:34  stronk7

	* restorelib.php: 
	
	Now forum logs are restored.

2004-02-22 Sunday 19:50  stronk7

	* post.php: 
	
	In the delete discussion action, as the discussion no longer
	exists, point the url to view the forum instead of the discussion.

2004-02-22 Sunday 19:40  stronk7

	* post.php, restorelib.php: 
	
	Solved small bug in delete discussion action, where the info field
	was storing the post->id rather of the discussion->id field

2004-02-22 Sunday 19:25  stronk7

	* subscribers.php: 
	
	Added the forum->id into the info field for the "view subscribers"
	action. To make this action easily recovereable and to show forum
	name when displaying logs.

2004-02-21 Saturday 05:52  selliott

	* lib.php: 
	
	Added logic in function forum_get_recent_mod_activity for groups

2004-02-20 Friday 10:29  moodler

	* view.php: 
	
	FIxed bug with forced languages by moving string definitions

2004-02-20 Friday 01:57  moodler

	* discuss.php, view.php: 
	
	Cleaned up group menus

2004-02-18 Wednesday 11:30  moodler

	* lib.php, post.php: 
	
	Variable $CFG->admineditalways will enable admin editing all the
	time

2004-02-16 Monday 17:24  moodler

	* lib.php: 
	
	Fixed some old pix paths

2004-02-15 Sunday 22:32  moodler

	* lib.php: 
	
	Don't create empty $CFG->courselang  to be sure

2004-02-15 Sunday 18:23  moodler

	* lib.php: 
	
	Filter subject lines in discussion listings too.

2004-02-15 Sunday 18:16  moodler

	* lib.php, post.php: 
	
	Allow <lang> tags in forum subjects.
	
	And filter them is $CFG->filterall is on

2004-02-15 Sunday 14:19  selliott

	* lib.php: 
	
	deleted forum_print_recent_instance_activity and
	forum_get_recent_posts (only used in course/recent.php) added 
	forum_get_recent_mod_activity and forum_print_recent_mod_activity
	for course/recent.php

2004-02-13 Friday 23:20  moodler

	* view.php: 
	
	WHAT!??
	
	Why doesn't this work?
	
	   if (!empty(trim($forum->intro))) {
	   }
	
	It gave blank screens on moodle.org!   Wierd.

2004-02-13 Friday 11:39  moodler

	* view.php: 
	
	Use format_text on forum intros

2004-02-11 Wednesday 10:26  moodler

	* lib.php: 
	
	Cache format_text calls in make_mail_post for even more speed
	during a forum_cron

2004-02-10 Tuesday 22:28  moodler

	* lib.php: 
	
	Fix for recent courselang stuff

2004-02-09 Monday 03:34  stronk7

	* backuplib.php, restorelib.php: 
	
	discussion->usermodified is in backup & restore now.

2004-02-06 Friday 21:15  moodler

	* lib.php, version.php, db/mysql.php, db/mysql.sql,
	db/postgres7.php, db/postgres7.sql: 
	
	Discussions now store the last user to change them, as well as the
	last time they were modified.	This isn't actually used yet but it
	will be.

2004-02-06 Friday 04:38  selliott

	* lib.php: 
	
	Added user parameter to print_recent_instance_activity and
	get_recent_posts (all for course/recent.php)

2004-02-04 Wednesday 23:07  selliott

	* lib.php: 
	
	In function forum_get_recent_posts, removed u.id from select
	because of conflict with p.id field (p.userid is available) also
	changed sort from discussion id to modified.

2004-02-01 Sunday 12:42  moodler

	* version.php: 
	
	Updating version numbers of all Modules to make things a bit
	clearer

2004-01-31 Saturday 22:47  moodler

	* discuss.php, lib.php, post.php, subscribe.php, subscribers.php,
	version.php, view.php: 
	
	OK, some big improvements to the logs.
	
	Logs now include a field called modid which contains the
	coursemodule id.
	
	This makes it now possible to
	
	   - see complete logs per-activity
	
	   - do backup/restore of logs
	
	The upgrade process will currently try to scan all the old logs and
	rebuild this field based on available data (especially forums).
	
	STILL TO DO:  alter all the non-forum modules to send the
	coursemodule id

2004-01-31 Saturday 07:15  stronk7

	* db/oci8po.sql: 
	
	Some strange line feeds in the latest version. Solved.

2004-01-31 Saturday 05:44  gustav_delius

	* db/oci8po.sql: 
	
	increase mailed to number(2)

2004-01-31 Saturday 05:40  gustav_delius

	* version.php, db/mysql.php, db/mysql.sql: 
	
	moved the database update code to where it belongs

2004-01-31 Saturday 02:21  gustav_delius

	* lib.php: 
	
	better logging of forum mail errors, see
	http://moodle.org/mod/forum/discuss.php?d=4865. Required the
	addition of an extra optional argument $user="" to add_to_log()

2004-01-30 Friday 16:45  moodler

	* view.php: 
	
	Fix the mode handling for "single" forums

2004-01-29 Thursday 13:59  moodler

	* index.php: 
	
	Dont print learning forums table if there aren't any

2004-01-29 Thursday 12:58  moodler

	* index.php: 
	
	Reduce intro text for general forums

2004-01-28 Wednesday 22:49  moodler

	* lib.php, version.php: 
	
	Removed function, and updated versions

2004-01-28 Wednesday 22:48  moodler

	* discuss.php: 
	
	Yes, finally forum display preferences are preserved.  :-)

2004-01-28 Wednesday 12:27  moodler

	* version.php: 
	
	Define minimum required versions of Moodle

2004-01-26 Monday 17:48  moodler

	* index.php: 
	
	MOds to use dividers between sections

2004-01-26 Monday 16:57  moodler

	* index.php: 
	
	Remove the forum links as well (for group forums when user not in
	group)

2004-01-26 Monday 16:05  moodler

	* index.php: 
	
	Subscribe links accurately reflect what is possible according to
	the user's group status.
	
	Section numbers now printed once per section

2004-01-26 Monday 05:00  stronk7

	* restorelib.php: 
	
	Now userid and groupid fields are recoded correctly in the restore
	process. This should make the backup utility group-compliant !!
	(when talking about forums, of course) :-)

2004-01-26 Monday 04:34  gustav_delius

	* lib.php, post.html: 
	
	replaced incorrectly closed html tags, see bug 365

2004-01-26 Monday 01:04  gustav_delius

	* lib.php: 
	
	reset timelimit so that script does not get timed out when posting
	to many users

2004-01-23 Friday 21:21  moodler

	* subscribe.php: 
	
	Prevent people from subscribing to group forums is they aren't in a
	group

2004-01-23 Friday 21:01  moodler

	* discuss.php: 
	
	Always show correct current group in popup menu

2004-01-23 Friday 20:48  moodler

	* lib.php: 
	
	Fixes for recent_activity and cron to use the new groupid stuff

2004-01-23 Friday 20:06  moodler

	* backuplib.php, discuss.php, lib.php, post.html, post.php,
	restorelib.php, version.php, db/mysql.php, db/mysql.sql,
	db/postgres7.php, db/postgres7.sql: 
	
	Improvements to forum groups.
	
	New forum_discussions->groupid now stores the group ID for the
	discussion.

2004-01-20 Tuesday 21:51  moodler

	* discuss.php, lib.php: 
	
	- Prevent users from replying in groups other then own.
	
	- groups menu at discussion level

2004-01-17 Saturday 14:49  moodler

	* view.php: 
	
	Editing teachers can always get into forums

2004-01-16 Friday 20:16  moodler

	* lib.php: 
	
	Links color = black

2004-01-16 Friday 19:32  moodler

	* lib.php: 
	
	Add some styles in the posts so the autolinks look OK.

2004-01-16 Friday 18:51  moodler

	* lib.php: 
	
	Pass courseid to format_text explicitly

2004-01-16 Friday 14:42  moodler

	* post.html: 
	
	When using the HTML editor, don't provide format options

2004-01-15 Thursday 15:26  moodler

	* view.php: 
	
	Save forum log url in a more standard way

2004-01-14 Wednesday 21:01  moodler

	* lib.php: 
	
	Fixed two typos - seems to be working properly now

2004-01-14 Wednesday 19:50  moodler

	* backuplib.php, lib.php, restorelib.php, version.php,
	db/mysql.php, db/mysql.sql, db/postgres7.php, db/postgres7.sql: 
	
	Some improvements in efficiency of Recent Activity.
	
	There is now a new field in forum_discussions which has the userid
	of the author in it.  This saves a lookup every time to
	forum_posts.
	
	There is also some caching and rearrangement of the logic.
	
	It seems to work OK, I'm about to do some speed tests on moodle.org

2004-01-14 Wednesday 17:12  moodler

	* lib.php: 
	
	Even in visible-groups mode, only show recent activity of one's own
	group
	
	Not sure if this is right though

2004-01-13 Tuesday 01:20  moodler

	* lib.php: 
	
	This is a ridiculously complicated solution to showing only those
	posts in recent activity that one should see.
	
	It's temporary.
	
	I have a more efficient solution in mind but it will take at least
	one new database field - I'll tackle it later.

2004-01-12 Monday 01:46  moodler

	* discuss.php, lib.php, version.php, view.php: 
	
	First version of support in groups in the forums.
	
	Still needs plenty of testing.	 There is no GUI yet for turning on
	the groupmode just for the forum (this will be on the course page)
	but you can put a 1 (visible) or 2 (separate) in the course_modules
	table.

2004-01-01 Thursday 12:48  moodler

	* backuplib.php, lib.php, mod.html, restorelib.php, version.php,
	db/mysql.php, db/mysql.sql, db/postgres7.php, db/postgres7.sql: 
	
	New option to allow students to see aggregate ratings on other
	posts (anonymous)

2003-12-31 Wednesday 21:40  moodler

	* lib.php: 
	
	Display group icon in forum is a group is defined

2003-12-31 Wednesday 14:44  moodler

	* index.php: 
	
	Don't try to display forums if there aren't any

2003-12-28 Sunday 13:49  moodler

	* lib.php: 
	
	Added new styles for latest news listings  smallinfo and
	smallinfohead

2003-12-12 Friday 16:46  moodler

	* post.php: 
	
	Don't show replies when re-editing a post.

2003-12-12 Friday 16:20  moodler

	* post.php: 
	
	This has been annoying me for ages, and the fix is so simple.
	
	When replying to a post that already has replies - the replies are
	listed in threaded form.

2003-11-20 Thursday 00:45  moodler

	* lib.php: 
	
	Changes to use the new fullname function

2003-11-17 Monday 06:49  stronk7

	* restorelib.php: 
	
	When restoring "teacher" forums, if it exists in destinatio course,
	discussions are merged mantaining a unique forum (previously, a
	second "teacher" forum was created). See bug 880
	(http://moodle.org/bugs/bug.php?op=show&bugid=880).

2003-11-15 Saturday 03:28  selliott

	* lib.php: 
	
	modified print_recent_instance_activity to fix missing course value
	modified get_recent_posts to select course id from
	forum_discussions table

2003-11-05 Wednesday 21:48  moodler

	* search.php: 
	
	Whoops typo

2003-11-05 Wednesday 21:47  moodler

	* search.php: 
	
	Improved fix to $search variable

2003-11-05 Wednesday 21:43  moodler

	* search.php: 
	
	Fixing up some handling when searching for strings with quotes in
	them

2003-11-04 Tuesday 23:59  moodler

	* post.html: 
	
	Fixed attachments ...
	
	typo:	type -> enctype   !!

2003-11-04 Tuesday 20:42  moodler

	* post.php: 
	
	Don't focus on the post message (upsets html editor)

2003-11-04 Tuesday 00:49  moodler

	* post.html, post.php: 
	
	Update to use new editor stuff

2003-11-03 Monday 10:59  moodler

	* db/mysql.php: 
	
	Removed blank lines at the end (!)

2003-10-31 Friday 16:31  moodler

	* search.php: 
	
	Add navmenu to header of forum search pages

2003-10-31 Friday 14:57  moodler

	* lib.php: 
	
	No longer need parent link in the footer

2003-10-29 Wednesday 17:16  moodler

	* lib.php: 
	
	Oops, typo

2003-10-29 Wednesday 17:12  moodler

	* lib.php: 
	
	Fixed bug when moving discussions with attachments

2003-10-29 Wednesday 14:24  moodler

	* lib.php: 
	
	new style forumheaderlist (instead of re-using forumpost as before)

2003-10-10 Friday 00:36  moodler

	* lib.php: 
	
	Only print the ratings button if there are ratings to be made.

2003-10-09 Thursday 12:58  moodler

	* lib.php: 
	
	Some changes so that forum_cron is not fooled in case there is
	already a real $USER variable present (eg if cron.php was run
	manually) and so the timezones are not calculated incorrectly.

2003-10-07 Tuesday 20:02  stronk7

	* backuplib.php, restorelib.php: 
	
	Now forum->maxbytes is supported in backup/restore.

2003-10-07 Tuesday 02:02  moodler

	* config.html, lib.php, mod.html, post.html, version.php,
	db/mysql.php, db/mysql.sql, db/oci8po.sql, db/postgres7.php,
	db/postgres7.sql: 
	
	These changes implement some better controls for controlling
	uploads.
	
	1) There is a new site-wide configuration variable called maxbytes,
	   which provides an upper filesize limit for all (student)
	uploads.
	
	2) There is a new course-level variable called maxbytes, which
	further    limits uploads within a course.
	
	3) There is a new maxbytes field for forums, which further
	restricts    the size allowed in a particular forum.  There is also
	a new config	variable in the module configuration to specify a
	default size	to use when defining a new forum.
	
	4) Assignments already had a limit, but this is now aware of the
	other	 limits, and like forums there is now a settable default
	value.
	
	5) Finally, the sizes of files (Gb, Mb, Kb, bytes) is now
	translatable	in the language packs.

2003-09-29 Monday 23:27  stronk7

	* lib.php: 
	
	Simply, move the XXXX_get_participants() function from bottom to
	the common function area.  See bug 807

2003-09-27 Saturday 21:56  moodler

	* lib.php: 
	
	Add slahses to raw strings before insertion into database

2003-09-27 Saturday 14:25  moodler

	* lib.php: 
	
	More tiny modifications to forum post headers (they now can wrap)

2003-09-27 Saturday 14:18  moodler

	* lib.php: 
	
	Slightly smaller font on by line for forum posts

2003-09-25 Thursday 09:15  les_kopari

	* db/oci8po.php: 
	
	Initial add for Oracle.

2003-09-17 Wednesday 14:20  moodler

	* index.php: 
	
	Forums in section 0 (top section) now get combined in the "General
	Forums" listing on the Forums list

2003-09-16 Tuesday 14:35  moodler

	* lib.php: 
	
	Err ... whose idea was it to cache the strings in
	forum_make_mail_post?  :-)

2003-09-16 Tuesday 10:42  moodler

	* lib.php: 
	
	New feature: "Show Parent" on all posts will take you to to the
	parent of any given post.  Detects threaded mode and behaves a bit
	differently though intuitively.

2003-09-14 Sunday 17:36  moodler

	* mod.html: 
	
	Put rating setup last because it's optional

2003-09-13 Saturday 16:01  les_kopari

	* db/oci8po.sql: 
	
	Oracle tables, etc converted from mysql, plus test transactions.

2003-09-09 Tuesday 20:32  moodler

	* mod.html: 
	
	Fixed some PHP short_tags

2003-09-08 Monday 05:40  stronk7

	* lib.php: 
	
	Modified a bit the xx_get_participants() function to avoid non
	existing activities warnings.

2003-09-08 Monday 05:28  stronk7

	* lib.php: 
	
	Included forum_get_participants() function.

2003-08-31 Sunday 14:39  moodler

	* search.php: 
	
	Search results link use the anchor tag rather than parent for
	better context

2003-08-27 Wednesday 19:27  moodler

	* lib.php: 
	
	FIx for the display of the help window for the current scale

2003-08-26 Tuesday 20:18  moodler

	* lib.php: 
	
	For students, don't search invisible forums!

2003-08-26 Tuesday 01:24  stronk7

	* restorelib.php: 
	
	Changed comment, sorry

2003-08-26 Tuesday 01:23  stronk7

	* restorelib.php: 
	
	Changed to support "negative" values in scale field.

2003-08-26 Tuesday 00:31  moodler

	* mod.html: 
	
	Removed a wrong help link

2003-08-25 Monday 23:59  moodler

	* report.php: 
	
	Fixed reports using the new scales (numerical etc)

2003-08-25 Monday 20:47  moodler

	* lib.php, mod.html, version.php, db/mysql.php, db/mysql.sql,
	db/postgres7.php: 
	
	Forum grades can now be numerical as well (like the other modules).
	
	If so, grades in the gradebook are printed as proper numbers and
	contribute to the total of the course.

2003-08-25 Monday 16:04  moodler

	* lib.php, mod.html: 
	
	Some improvements to the forum editing interface to make the
	buttons hide/show appropriately

2003-08-25 Monday 15:39  moodler

	* backuplib.php, lib.php, mod.html, restorelib.php, version.php,
	db/mysql.php, db/mysql.sql, db/postgres7.php, db/postgres7.sql: 
	
	New mini-feature.  When choosing ratings in a forum, one can now
	specify a range of dates.  Only posts within this range can be
	rated.	If the range isn't specified then all posts can be rated.

2003-08-25 Monday 10:48  moodler

	* restorelib.php: 
	
	Fixed some array indices

2003-08-25 Monday 10:41  moodler

	* lib.php: 
	
	FIxed display of ratings when they are literally "0"
	
	Also fixed default discussion display mode

2003-08-25 Monday 10:22  moodler

	* lib.php: 
	
	Final ratings are now calculated using rounded mean rather than
	median.
	
	0.5 scores go UP.

2003-08-19 Tuesday 12:45  moodler

	* search.php: 
	
	Even nicer interface with help

2003-08-19 Tuesday 12:40  moodler

	* search.php: 
	
	tweak

2003-08-19 Tuesday 12:39  moodler

	* search.php: 
	
	Slightly neater help

2003-08-19 Tuesday 11:35  moodler

	* lib.php, search.php: 
	
	Searching forums now has proper paging.

2003-08-19 Tuesday 01:33  moodler

	* config.html, lib.php, view.php: 
	
	Switch to using global variables instead of defined values,
	controlled using the button on the "Modules" configuration page.

2003-08-18 Monday 13:28  moodler

	* lib.php, mod.html: 
	
	More cleanups and separation of printing the grades menu into a new
	function

2003-08-18 Monday 08:03  stronk7

	* backuplib.php, restorelib.php: 
	
	Scales are now supported in forums backup and restore

2003-08-17 Sunday 22:46  moodler

	* discuss.php, lib.php: 
	
	Fixes bug #619	-- moving discussions wasn't moving attachments

2003-08-16 Saturday 14:20  moodler

	* discuss.php: 
	
	Show default mode again

2003-08-16 Saturday 10:30  moodler

	* db/: mysql.php, postgres7.php: 
	
	Fixed database upgrade so that forum->scale is created before the
	get_scale_menu tries to use it.

2003-08-15 Friday 21:59  moodler

	* discuss.php, lib.php, mod.html, rate.php, report.php,
	version.php, db/mysql.php, db/mysql.sql, db/postgres7.php,
	db/postgres7.sql: 
	
	
	WARNING: BIG CHANGES!
	
	OK, this is a big check-in with some big changes, and needs work
	still.
	
	It seems relatively stable, but I need help identifying the rough
	patches.
	
	1) First grading scales support.  There is a now a new table called
	"scale"    that contains grading scales.  There can be site scales
	(course=0) and	  custom course scales.  These can be used in
	modules - I've only done    forums for now but that was the hard
	one.  Scales can be edited via	  the new item in the course admin
	menu.
	
	   There is one default scale - the connected/separate knowing one
	that used
	   to be in forum.  To build this I pull data from the language
	packs
	   to create one during the upgrade, or anytime a scales menu is
	called
	   and no scales are found.
	
	2) New roles for course creator and teachers.  I've fixed up the
	course	  menus and some other things but there's a lot left to do
	on this to    make it all smooth.  The idea is that teachers no
	longer can edit courses    unless they are also course creators. 
	The interface for this needs to    be smoothed out a fair bit and I
	need help with this.
	
	   The upgrade will upgrade all teachers to be creators, but will
	default
	   the new site config "creatornewcourses" to "no", so that
	effectively
	   these new teachers have the same privileges.
	
	3) Simplified teacher management.  There is no longer an "assign
	teachers"    and a "teacher roles" page - it's all on one page in
	course/teacher.html.
	
	Phew ... time for a shower and then back into it.

2003-08-15 Friday 16:16  moodler

	* lib.php: 
	
	Better compatibility for POstgreSQL (old regexps were case
	sensitive)

2003-08-15 Friday 16:04  moodler

	* lib.php: 
	
	Improved search.
	
	Default is now back to subwords, but words can be used with +word
	and -word

2003-08-14 Thursday 14:34  moodler

	* lib.php: 
	
	Added (default) option to search for whole words with forums.
	
	(SQL regular expressions from David Delgado - thanks!)

2003-08-13 Wednesday 00:37  moodler

	* view.php: 
	
	Some refinements to the display of forums
	
	  - don't show intro box for teacher forum (because it can't be
	edited)
	  - don't show intro box when the text is empty anyway

2003-08-12 Tuesday 00:56  moodler

	* lib.php: 
	
	Missing picture data in forum_get_recent_posts

2003-08-09 Saturday 15:59  moodler

	* search.php: 
	
	Looks better when nothing is found

2003-08-09 Saturday 14:02  moodler

	* search.php: 
	
	Better button behaviour

2003-08-09 Saturday 13:35  moodler

	* lib.php, search.php: 
	
	Much improved forum searching, with independent words and paging

2003-08-09 Saturday 11:57  moodler

	* lib.php, search.php: 
	
	New highlighting function that is able to cope with HTML.
	
	It's a bit slower, but links in forums no longer cause problems.
	
	See bug #589

2003-08-09 Saturday 10:00  moodler

	* lib.php: 
	
	Robust variable for attchments

2003-08-08 Friday 11:38  moodler

	* lib.php: 
	
	Language of receiver was not being set correctly

2003-07-29 Tuesday 06:31  stronk7

	* restorelib.php: 
	
	Fixed important bug when recovering assignments or forums with
	files and the moddata/courseid didn't exist.  Now force the
	creation of the courseid dir from the restorelib in each module.

2003-07-29 Tuesday 03:32  stronk7

	* restorelib.php: 
	
	Added language support

2003-07-20 Sunday 15:56  moodler

	* lib.php: 
	
	Rebuild course cache using the function for it.

2003-07-12 Saturday 13:19  moodler

	* index.php, discuss.php: 
	
	When displaying index lists of a particular module's activities,
	ensure that the order they are displayed in is always the same as
	the order they have been defined in.   See bug 553.
	
	This involved API changes to the function
	get_all_instances_in_course()

2003-07-10 Thursday 16:12  moodler

	* backuplib.php, restorelib.php: 
	
	Whoops forgot to check these babies in

2003-07-10 Thursday 16:11  moodler

	* lib.php: 
	
	Just some comments

2003-07-08 Tuesday 14:47  moodler

	* lib.php: 
	
	Timezone included in user listing, plus new recent activity stuff

2003-07-05 Saturday 19:52  moodler

	* lib.php: 
	
	Recommitting because of CVS wierdness

2003-07-05 Saturday 11:54  moodler

	* lib.php: 
	
	Display images inline when attached to forum posts

2003-06-20 Friday 14:58  moodler

	* post.php: 
	
	Seems to be working pretty good - removing old lines no longer
	needed

2003-06-20 Friday 14:50  moodler

	* lib.php: 
	
	Anchors on threaded posts too

2003-06-20 Friday 14:35  moodler

	* lib.php, post.php: 
	
	An initial effort at making posts return to correct context

2003-06-16 Monday 22:40  moodler

	* mod.html: 
	
	Some fixes to avoid pointless uses of $ME

2003-06-15 Sunday 15:11  moodler

	* lib.php: 
	
	Minor interim change to improve display of discussions on user page
	because some of them are getting really long on moodle.org
	
	Eventually this display will be completely different, with
	information about all public data.

2003-06-14 Saturday 00:07  moodler

	* post.html: 
	
	Slightly larger posting window

2003-06-09 Monday 13:34  moodler

	* mod.html: 
	
	Better setting of defaults

2003-05-23 Friday 13:32  moodler

	* post.html: 
	
	New field for user:  autosubscribe
	
	This sets the default value for on-the-fly forum subscription. 
	Defaults to on = subscribe.
	
	(Also fixed a bug in postgres7.sql - a missing field for
	htmleditor!)

2003-05-23 Friday 13:05  moodler

	* index.php: 
	
	Full formatting looks bad (too much whitespace) but smilies are OK

2003-05-23 Friday 13:00  moodler

	* post.html, view.php: 
	
	Improvements to the wordings for subscription

2003-05-23 Friday 12:51  moodler

	* index.php: 
	
	Display forum intros as formatted text

2003-05-20 Tuesday 16:03  moodler

	* mod.html: 
	
	Minor code cleanups
	
	  - lowercasing
	  - removing short php tags
	  - adding some emoticon help here and there

2003-05-18 Sunday 10:36  moodler

	* lib.php: 
	
	Left out a field!   mailformat

2003-05-17 Saturday 14:13  moodler

	* lib.php: 
	
	No need to get all the user data for forum_subscribed_users

2003-05-16 Friday 02:03  moodler

	* view.php: 
	
	I knew there was something else I'd forgotten!
	
	Added a check to all modules (well view.php anyway) to check
	whether a module is hidden or not.  If it is, then students get a
	message.

2003-05-14 Wednesday 15:47  moodler

	* post.html: 
	
	Don't be so pushy about subscription

2003-05-13 Tuesday 21:53  moodler

	* lib.php, post.html, post.php: 
	
	When posting a forum, users can unsubscribe/subscribe on the fly.
	
	The flag has a memory, but it keeps pushing you to subscribe.  :-)
	(so that by default it behaves like it did before)
	
	Hopefully now subscription is a bit easier to understand.

2003-05-12 Monday 17:01  moodler

	* lib.php: 
	
	Force subscription on a teacher's forum only includes teachers!

2003-05-09 Friday 14:03  moodler

	* lib.php: 
	
	Better tooltip help on post attachments

2003-05-09 Friday 00:09  moodler

	* post.html: 
	
	New pop-up help page about smileys - clicking on the smiley inserts
	it into the form using Javascript!
	
	Also rationalised and patched some of the other help about text
	formats.
	
	LANGUAGE EDITORS MAY WANT TO RE-CHECK:
	
	   lang/en/help/textformat.html

2003-05-06 Tuesday 00:21  moodler

	* lib.php: 
	
	Fixed bug that was not listing discussions that had identical
	subjects!

2003-05-04 Sunday 12:07  moodler

	* lib.php: 
	
	Added Wiki format as a system-wide format (forums, journals, etc)
	
	Also, added better formatting to plain-text emails via a new
	function in weblib.php	-  format_text_email

2003-05-04 Sunday 11:43  moodler

	* lib.php: 
	
	Fixed bug where text format of a new discussion was not being saved

2003-05-01 Thursday 20:56  moodler

	* lib.php: 
	
	Changes to make forum mailouts a little more robust, and avoid
	duplicates I hope, at least the ones caused by overlapping cron
	jobs.

2003-04-28 Monday 23:27  moodler

	* discuss.php: 
	
	Print some nice feedback when a discussion has been moved, to help
	prevent accidents.

2003-04-26 Saturday 23:08  moodler

	* lib.php: 
	
	Trying a different tack for recent_activity since the old way was
	still producing too much data and overflowing PHP memory on busier
	sites (eg moodle.org).
	
	Now, there are more database queries, which is unfortunate, but the
	data is much more specific, and no sorting needs to be done, so
	this is a performance boost.
	
	I don't know how these will cancel out ... my guess is that very
	small sites may be very slightly slower on the course page, but
	that large sites will be much faster.
	
	Let's see.

2003-04-26 Saturday 20:59  moodler

	* lib.php: 
	
	Performance improvements
	
	  - better checking of data before processing
	  - used logs are removed to avoid re-processing by other modules

2003-04-26 Saturday 20:22  moodler

	* lib.php: 
	
	Slight fix to teacheronly coloring

2003-04-26 Saturday 20:17  moodler

	* lib.php: 
	
	Cleaned up definition of constant COURSE_* values in course/lib.php
	
	Moved COURSE_TEACHER_COLOR out to style sheets where it belongs
	(.teacheronly)
	
	Added some efficiency when printing recent activity
	
	 - don't print more than one weeks worth of updates
	  - don't keep re-parsing logs once they've been used

2003-04-26 Saturday 08:17  stronk7

	* lib.php: 
	
	Show activity log only from visible forums. Bug #367.

2003-04-26 Saturday 03:32  paca70

	* lib.php: 
	
	Allow caseinsensitive search for postgesql

2003-04-25 Friday 13:24  moodler

	* index.php: 
	
	New function to detect visibility of a single module, and use of
	this function when displaying list of forums

2003-04-25 Friday 01:35  stronk7

	* index.php: 
	
	Little update to select the forum info (avoid duplicates).

2003-04-25 Friday 01:15  stronk7

	* index.php: 
	
	Changed to show the hidden forums dimmed (bug #364)

2003-04-24 Thursday 22:05  moodler

	* post.php: 
	
	Forum posts are now not allowed to have blank subjects or messages,
	if a message is entered with one of these blank then the user gets
	an error message and a chance to re-edit the message.

2003-04-24 Thursday 16:45  moodler

	* discuss.php, mod.html, version.php, db/mysql.php, db/mysql.sql,
	db/postgres7.php, db/postgres7.sql: 
	
	New feature to allow teachers to move a discussion from one forum
	to another.
	
	A simple popup menu now appears when teachers view any discussion.
	
	Includes a new log entry to log when a discussion is moved.

2003-04-23 Wednesday 23:19  moodler

	* view.php: 
	
	Help button about subscription on forum page

2003-04-21 Monday 15:11  moodler

	* lib.php: 
	
	Make sure to change the ownership of uploaded files

2003-04-18 Friday 17:53  moodler

	* lib.php: 
	
	Trying some optimisations

2003-04-18 Friday 14:39  moodler

	* lib.php: 
	
	Style improvements and upgrades

2003-04-18 Friday 14:14  moodler

	* lib.php: 
	
	Discussion, not subject

2003-04-18 Friday 13:57  moodler

	* lib.php: 
	
	Fixed location of Older discussions link

2003-04-18 Friday 13:54  moodler

	* lib.php, view.php: 
	
	Added simple paging ... only top 100 are shown by default.  If
	there are more then "older discussions" link shows all of them.
	
	Someday proper 1,2,3,4 paging would be nice but this will do for
	now.

2003-04-18 Friday 13:28  moodler

	* lib.php: 
	
	don't valign subjects in html

2003-04-18 Friday 13:25  moodler

	* lib.php: 
	
	Undoing last checkin

2003-04-18 Friday 13:22  moodler

	* lib.php: 
	
	Improved colours

2003-04-18 Friday 11:58  moodler

	* lib.php: 
	
	First pass at a cleaner display for discussion listings

2003-04-12 Saturday 15:52  moodler

	* lib.php: 
	
	Sort subscribers by email address (easier to find subscribers based
	on bounced messages)

2003-04-08 Tuesday 22:09  moodler

	* lib.php: 
	
	Use "modified" date of posts when displaying them, not the
	"created" date.

2003-04-08 Tuesday 00:08  moodler

	* lib.php: 
	
	Just much simpler way of doing the last patch.

2003-04-07 Monday 23:20  moodler

	* lib.php: 
	
	Added code to catch runaway case when there is more than one news
	forum.
	
	It shouldn't happen, but I think it can when the database is having
	problems.

2003-03-29 Saturday 12:08  moodler

	* lib.php: 
	
	What was I thinking?  This is much cleaner (and no duplicates).

2003-03-29 Saturday 11:39  moodler

	* lib.php: 
	
	Changes to activate the "force subscribe" option on the Site News
	forum.
	
	By default it is OFF, but if it is turned on, then site news is
	emailed to ALL enrolled students and ALL current teachers.

2003-02-27 Thursday 10:49  moodler

	* discuss.php, index.php, lib.php, post.php, subscribers.php,
	view.php: 
	
	Removed save_session() - no longer necessary

2003-02-18 Tuesday 11:16  moodler

	* lib.php: 
	
	Fixes for the use of LIMIT in SQL for Postgres 7.3 (from Petri
	Asikainen)

2003-01-23 Thursday 10:50  moodler

	* lib.php, post.php: 
	
	Some robustness fixes

2003-01-15 Wednesday 18:55  moodler

	* lib.php: 
	
	
	Displayed time formats are now stored in lang files (see the new
	strftime* strings) so they can be customised per language

2003-01-05 Sunday 22:20  moodler

	* discuss.php: 
	
	Rmove bad coursemodule error - not important enough to show

2003-01-05 Sunday 22:19  moodler

	* delete.php, discuss.php, index.php, lib.php, post.php, rate.php,
	report.php, search.php, subscribe.php, subscribers.php, view.php: 
	
	Clean sweep through all the important changing all include(),
	include_once() and require() to require_once()

2003-01-05 Sunday 14:45  moodler

	* lib.php, post.php, rate.php, subscribe.php: 
	
	OK a number of small changes here.
	
	Firstly, I'm replacing all use of old-style global variables like
	$HTTY_REFERER with their new-style equivalent
	$_SERVER["HTTP_REFERER"] Also using $_POST instead $HTTP_POST_VARS 
	etc
	
	Secondly, if gdversion == 0 (ie GD is not installed) then:
	
	 - users are not even allowed to upload new images
	 - graphs now just print a message instead of failing.
	
	this allows Moodle to still be used even if GD is not present

2003-01-05 Sunday 12:20  moodler

	* lib.php, post.php: 
	
	Changes to improve robustness of uploads, and make things
	compatible with PHP 4.3.0.  Also some translation fixes with upload
	strings.

2003-01-02 Thursday 22:49  moodler

	* post.php: 
	
	buggy_referer is dead!	 Long live buggy_referer!
	
	Should be fixed now.  As a bonus, I've removed all the uses of
	HTTP_POST_VARS from all scripts.
	
	All forms should use the new data_submitted() function to collect
	form data (it does the match_referer thing internally now).
	
	Much nicer.

2003-01-02 Thursday 18:54  moodler

	* lib.php: 
	
	Site news forum defaults to the "Site news" string

2003-01-02 Thursday 18:46  moodler

	* mod.html: 
	
	Define forum type all the time

2003-01-02 Thursday 18:35  moodler

	* discuss.php, lib.php, view.php: 
	
	Robustness fixes

2003-01-01 Wednesday 21:17  moodler

	* mod.html: 
	
	Robustness fixes

2003-01-01 Wednesday 14:34  moodler

	* lib.php: 
	
	More robustness fixes

2002-12-30 Monday 13:13  moodler

	* lib.php: 
	
	More little fixups for robustness

2002-12-30 Monday 11:38  moodler

	* post.php: 
	
	Fix default cursor

2002-12-30 Monday 01:32  moodler

	* discuss.php, lib.php, post.php: 
	
	Various little fixes to remove warnings (usually about empty
	variables) when error_reporting is turned up to 15 or so ... more
	of these to come ...

2002-12-28 Saturday 21:05  moodler

	* post.html: 
	
	fixed user --> userid

2002-12-23 Monday 23:33  moodler

	* discuss.php, index.php, lib.php, search.php, view.php: 
	
	More database tweaks and improved access to forum search engine

2002-12-23 Monday 19:47  moodler

	* db/postgres7.sql: 
	
	More fixes for postgreSQL etc

2002-12-23 Monday 17:39  moodler

	* lib.php, post.html, post.php, rate.php, report.php, search.php,
	version.php, db/mysql.php, db/mysql.sql, db/postgres7.php,
	db/postgres7.sql: 
	
	Changes throughout Moodle to remove any reserved words from the
	Moodle tables.
	
	ie user -> userid in many tables, plus in user_students    start ->
	starttime and end -> endtime
	
	I've just done all this as carefully as I could ... I don't think I
	missed anything but it's pretty intensive work and I'd be fooling
	myself if I didn't think I'd missed a couple.
	
	Note that this version should pretty much be able to bootstrap
	itself using PostgreSQL now ... but this is untested

2002-12-23 Monday 15:01  moodler

	* lib.php, post.php: 
	
	Further SQL cleanups

2002-12-22 Sunday 14:15  moodler

	* lib.php: 
	
	Changes to make things work again :-)

2002-12-20 Friday 22:44  moodler

	* lib.php, post.php, rate.php, report.php, search.php,
	db/mysql.sql: 
	
	Many many changes lumped in here ... not finished yet either.
	
	Basically all the Database functions are in lib/datalib.php and the
	web functions are all in lib/weblib.php, so moodlelib.php is much
	thinner than it was.
	
	Data functions have been extended ... most old calls will still
	work, but now many more SQL commands can be performed using the
	datalib functions rather than using SQL.  I'm currently moving
	through the whole tree replacing SQL calls or at least
	concentrating them in one section of mod/xxx/lib.php
	
	Still working on forums, quizzes, surveys, resources.
	
	The tree is currently not full working ... some things are
	half-completed ... will resume tomorrow.

2002-12-15 Sunday 12:27  moodler

	* post.html: 
	
	Put a space under the colon

2002-12-15 Sunday 12:26  moodler

	* post.html: 
	
	Moved a colon (there's a joke about farts in there somewhere)

2002-12-15 Sunday 10:41  moodler

	* db/: postgres7.php, postgres7.sql: 
	
	Database and upgrade files for PostgreSQL 7 support!

2002-12-13 Friday 17:06  moodler

	* mod.html, post.html: 
	
	New consistent help buttons for textarea fields throughout all
	modules

2002-12-10 Tuesday 10:48  moodler

	* lib.php: 
	
	Added styles for forum posts

2002-12-09 Monday 18:49  moodler

	* lib.php: 
	
	Slight alteration of colouring on printed posts

2002-12-09 Monday 15:35  moodler

	* lib.php: 
	
	Various little tweaks to improve the display of course home pages
	and front page ... still have some work to do though

2002-11-28 Thursday 17:10  moodler

	* search.php: 
	
	Highlight matches in post subject and discussion name too

2002-11-28 Thursday 17:04  moodler

	* search.php: 
	
	Add searching of subjects as well as messages

2002-11-19 Tuesday 22:27  moodler

	* lib.php: 
	
	Changed all references of %e to %d to fix strftime on Windows

2002-11-14 Thursday 10:33  moodler

	* lib.php: 
	
	Update course cache when creating new standard forums!

2002-11-10 Sunday 16:43  moodler

	* discuss.php, index.php, post.php: 
	
	Added navmenu in more places

2002-11-10 Sunday 15:37  moodler

	* view.php: 
	
	Changes to enable jumping between activity modules, using a new
	menu in the upper-right corner.   Caution: Not well tested at this
	stage.

2002-11-06 Wednesday 17:13  moodler

	* search.php: 
	
	Fixed some more missing strings

2002-11-06 Wednesday 15:40  moodler

	* search.php: 
	
	Language fixes

2002-10-26 Saturday 11:37  moodler

	* lib.php: 
	
	Better formatting for the link

2002-10-26 Saturday 11:33  moodler

	* lib.php: 
	
	OK, this should be better ...

2002-10-26 Saturday 11:21  moodler

	* lib.php: 
	
	A first try at a new shortening algorithm ... checking in to do
	some tests on various servers

2002-10-25 Friday 23:27  moodler

	* lib.php: 
	
	Added TARGET=_blank to links in HTML email ... apparently these
	links were causing problems in Hotmail.  Normally I'd say "Good!",
	but ...  :-)

2002-10-25 Friday 22:46  moodler

	* index.php: 
	
	Remove "news" and "social" forums from learning forums.

2002-10-25 Friday 17:10  moodler

	* lib.php: 
	
	Brand-new news and social forums are now also assigned course
	modules and put in section 0 of the course.

2002-10-25 Friday 16:47  moodler

	* lib.php, mod.html: 
	
	Upgrading all news and social forums (except those in social
	courses) so that they are course modules in an (invisible) section,
	which means they are now editable and parameters, names etc can be
	changed.

2002-10-25 Friday 15:22  moodler

	* post.php: 
	
	Disallow people posting in forums where they arent allowed to post!
	 8-.

2002-10-25 Friday 14:50  moodler

	* lib.php: 
	
	Tweaks to mail formats so that unnecessary information (replies,
	etc) is not printed.

2002-10-25 Friday 13:58  moodler

	* lib.php: 
	
	Tweaks to forum formatting

2002-10-24 Thursday 15:09  moodler

	* lib.php: 
	
	The BR in print_post was to fix the case when embedded images are
	used.  However it added too much space.  I'll find a way to fix the
	embedded images problem later, during the styles changeover, as
	it's pretty rare.

2002-10-23 Wednesday 20:13  moodler

	* lib.php: 
	
	WHoops ... just undoing the last checkin which was premature ...

2002-10-23 Wednesday 20:10  moodler

	* lib.php: 
	
	After saving new question, sanity checks are made to make sure the
	fractional grades are correct.
	
	Icons now have tooltips and are also a shortcut to editing page.

2002-10-21 Monday 16:44  moodler

	* lib.php, report.php: 
	
	Allow teachers to look at ratings for anyone

2002-10-21 Monday 16:36  moodler

	* lib.php: 
	
	Fixed up rating retrieval ... now gets them all seperate

2002-10-21 Monday 16:32  moodler

	* lib.php: 
	
	Fix in forum_grades

2002-10-21 Monday 16:19  moodler

	* lib.php, mod.html: 
	
	Don't show column grade when there's nothing to show

2002-10-21 Monday 16:10  moodler

	* lib.php: 
	
	Rearranged functions to match other modules, and added
	forum_grades()

2002-10-18 Friday 17:38  moodler

	* post.html: 
	
	Better help with text formats

2002-10-16 Wednesday 12:51  moodler

	* discuss.php, mod.html, view.php: 
	
	Cleaned up some buttons ...

2002-10-12 Saturday 23:01  moodler

	* post.html: 
	
	Tweaks to use new javascript-printing function etc

2002-10-12 Saturday 15:23  moodler

	* post.html: 
	
	Moved the object code out into a function print_textarea

2002-10-12 Saturday 13:43  moodler

	* post.html: 
	
	Added help buttons about the richtext editor (when active)

2002-10-11 Friday 13:20  moodler

	* lib.php: 
	
	Better placing of standard links etc when there are lots of images
	and other funny formatting in HTML posts

2002-10-10 Thursday 17:27  moodler

	* post.html, post.php: 
	
	Better default options, and hiding of moodle-text help when
	htmlediting is operational

2002-10-10 Thursday 15:27  moodler

	* lib.php, post.html, post.php, version.php, db/mysql.php,
	db/mysql.sql: 
	
	Initial attempt at adding html text editor features to these forms.

2002-10-06 Sunday 01:20  moodler

	* version.php, db/mysql.php: 
	
	Moved upgrade functions into db/mysql.sql

2002-10-03 Thursday 19:17  moodler

	* db/mysql.sql: 
	
	Fixed definition of forum->open

2002-10-03 Thursday 19:15  moodler

	* lib.php, mod.html, version.php, db/mysql.sql: 
	
	Fixes bug 112
	
	Changes to expand "open" option in forums.  Now have a choice
	between three options:	new discussions and new replies, new
	replies only and no new discussions or new replies.
	
	Three new options in lang/forum.php and I changed
	"allowdiscussions".

2002-09-27 Friday 00:02  martin

	* lib.php: 
	
	Better format for text version of emails

2002-09-23 Monday 14:49  martin

	* lib.php: 
	
	Whoops teacher checking was back to front

2002-09-22 Sunday 11:05  martin

	* lib.php: 
	
	Changes to not include deleted users in some things

2002-09-22 Sunday 01:11  martin

	* lib.php: 
	
	Changes to print_recent_activity in course/lib.php.  It is now more
	modular (at slight cost to performance) and every modules can now
	have a module_print_recent_activity() function.  This function
	takes a list of logs, searches for things to display and does so.
	
	So far I've done forum and journal functions

2002-09-21 Saturday 16:40  martin

	* lib.php: 
	
	Make sure user language works OK (it does now)

2002-09-21 Saturday 15:46  martin

	* lib.php: 
	
	Make sure mailouts are in the user's chosen language

2002-09-21 Saturday 15:42  martin

	* lib.php: 
	
	Make sure mailouts are in the chosen language of each user

2002-09-10 Tuesday 10:13  martin

	* version.php, db/mysql.sql: 
	
	Whoops, left attachment field out of the database schema (affected
	new installations of 1.0.2 and later)

2002-09-09 Monday 00:04  martin

	* lib.php: 
	
	Added an "unsubscribe" link to emails

2002-09-08 Sunday 23:39  martin

	* lib.php: 
	
	Fixed a bug.  When replying to an email copy, you would be
	forwarded to the login screen to login first.  However, this was
	being saved as the place to go back to after replying.
	
	I added a check for this so now it behaves as you'd expect.

2002-09-03 Tuesday 21:11  martin

	* lib.php, post.php: 
	
	Language fixes, added english strings etc

2002-09-02 Monday 14:25  martin

	* post.php: 
	
	[no log message]

2002-09-02 Monday 13:03  martin

	* discuss.php: 
	
	Fix the display when USER display mode is flat, and a parent is
	selected.  In this case, the display is temporarily changed to
	nested

2002-09-02 Monday 11:48  martin

	* lib.php: 
	
	Default forum display mode is actually used now

2002-09-01 Sunday 22:34  martin

	* lib.php, post.html, post.php, version.php: 
	
	
	Attachments can now be added to postings.  They are stored in the
	course moddata area.  They appear as links within the message,
	including mailed-out messages.	They are deleted when the post is
	deleted.

2002-08-26 Monday 18:01  martin

	* mod.html: 
	
	Choose "general" forum now as a default

2002-08-26 Monday 16:35  martin

	* lib.php: 
	
	Forums with many discussions (> 10) become abbreviated to a shorter
	display

2002-08-23 Friday 11:55  martin

	* lib.php: 
	
	Changes to improve layout and formatting on old Netscape (eg
	version 4)

2002-08-22 Thursday 16:01  martin

	* lib.php: 
	
	If a post is updated that is also a discussion definition, then the
	discussion name is updated with the post subject.

2002-08-19 Monday 00:39  martin

	* version.php: 
	
	Updated versions in preparation for 1.0 release tomorrow

2002-08-18 Sunday 22:40  martin

	* lib.php, mod.html: 
	
	Improved help buttons for forums

2002-08-17 Saturday 15:53  martin

	* subscribe.php, subscribers.php: 
	
	Teachers can now unsubscribe anyone from the "list of subscribers"
	list.  Made the feedback display when subscribing/unsubscribing a
	little more generic.

2002-08-16 Friday 01:41  martin

	* lib.php, mod.html, subscribe.php, view.php: 
	
	Forum language fixes, and addition of help for separate/connected
	knowing

2002-08-15 Thursday 12:16  martin

	* lib.php, subscribers.php: 
	
	Fixes to finding list of subscribers to a forum for site-level
	forums which affected both the displayed list and the mailouts.

2002-08-15 Thursday 11:45  martin

	* subscribers.php: 
	
	Fixes to list of subscribers (language fixes, and fix for
	site-level forums)

2002-08-12 Monday 17:38  martin

	* lib.php: 
	
	More language fixes

2002-08-09 Friday 10:45  martin

	* version.php: 
	
	New functions get_list_of_modules() and moodle_needs_upgrading(). 
	Used on the home page when admin is logged in, to check for any
	upgrading of the databases that might need to be done.

2002-08-07 Wednesday 01:23  martin

	* discuss.php, index.php, lib.php, post.php, rate.php, search.php,
	subscribers.php, view.php: 
	
	
	Widespread changes throughout Moodle to make sure it works on
	servers that have register_globals turned off (this is the default
	setting on newer version of PHP).
	
	In fact it's partly a hack that globalises all GET, POST, FILES AND
	COOKIE variables.  Unfortunately though the SESSION and USER global
	session variables are only available as $_SESSION["USER"] and
	$_SESSION["SESSION"], which is cumbersome to use.
	
	So, for every request I now make a copy of these two session
	variables into $USER and $SESSION.  Whenever I update them
	thoughout Moodle I now have to call save_session("USER") which
	copies them back to the session variable.  This seems to be working
	well now.
	
	Because I'm using $_SESSION etc now this will raise the required
	minimum version of PHP to 4.1.0

2002-08-06 Tuesday 17:24  martin

	* lib.php: 
	
	Better looking search boxes

2002-08-06 Tuesday 14:23  martin

	* lib.php: 
	
	Bug in rated posts counting

2002-08-06 Tuesday 14:17  martin

	* lib.php: 
	
	Whoops ... make sure rated posts still show ratings!  :-)

2002-08-06 Tuesday 14:09  martin

	* lib.php: 
	
	forum_print_discussion now checks to see whether there are any
	ratings that haven't been done yet on a discussion.  If not, then
	it won't print the ratings form.  This avoids a slight confusion
	about the interface that existed previously.

2002-08-06 Tuesday 12:21  martin

	* view.php: 
	
	Better wording for eachuser forum

2002-08-06 Tuesday 12:17  martin

	* lib.php: 
	
	Whoops ... more forum->assessed

2002-08-06 Tuesday 12:04  martin

	* discuss.php, lib.php, view.php: 
	
	Whoops ... using forum->assessed to determine whether discussions
	should be assessable now

2002-08-05 Monday 17:48  martin

	* lib.php, post.php: 
	
	A teacher can now delete any post (as long as it doesn't have
	replies).

2002-08-05 Monday 01:13  martin

	* lib.php: 
	
	Fixes in display of standard user_complete and user_outline
	functions for journal, forum and assignments

2002-08-05 Monday 00:42  martin

	* version.php: 
	
	Updated version numbers

2002-08-04 Sunday 21:14  martin

	* index.php: 
	
	Get a string from moodle.php instead of forum.php

2002-08-04 Sunday 21:13  martin

	* lib.php: 
	
	Added FORUM_SHORT_POST

2002-08-03 Saturday 16:16  martin

	* discuss.php, index.php, search.php, view.php: 
	
	Lots of work on site display, over many files.	Improved front page
	and display of site modules.

2002-08-03 Saturday 10:29  martin

	* lib.php, mod.php: 
	
	Moved all mod.php functions from modules into lib.php, and updated
	course/mod.php to use them there.  No longer need module/mod.php

2002-08-03 Saturday 03:01  martin

	* lib.php: 
	
	Just a couple of changes

2002-08-03 Saturday 01:42  martin

	* version.php: 
	
	Removed fullname and search fields from modules table.	Fullname is
	now derived from the string 'modulename' in the lang files for each
	module.

2002-08-03 Saturday 01:35  martin

	* report.php: 
	
	bugfixes and clean up

2002-08-03 Saturday 01:34  martin

	* lib.php: 
	
	SOme major bugfixes to forum_cron() and lots of translating

2002-08-02 Friday 17:50  martin

	* index.php, lib.php, mod.html, search.php: 
	
	Fixed up some forum functions and constants (consistency)

2002-08-02 Friday 17:19  martin

	* discuss.php, index.php, lib.php: 
	
	Changes related to language strings and clean up

2002-08-02 Friday 17:19  martin

	* delete.php: 
	
	This file is not linked to or used by anything yet, but I've found
	it useful to delete forums properly while testing stuff.

2002-08-01 Thursday 23:48  martin

	* db/mysql.sql: 
	
	Misc changes to improve performance on a brand-new installation

2002-08-01 Thursday 17:38  martin

	* lib.php: 
	
	Centered new topic link

2002-08-01 Thursday 17:36  martin

	* lib.php: 
	
	Changed the ratings to new separate/connected system - just for
	testing

2002-08-01 Thursday 12:05  martin

	* lib.php: 
	
	Yet more improvements to user discussion listing (added forum link
	to each discussion printed)

2002-08-01 Thursday 12:00  martin

	* lib.php: 
	
	More improvements to user discussion display

2002-08-01 Thursday 11:56  martin

	* lib.php: 
	
	Whoops! Hide teacher discussions when printing list of user
	discussions

2002-08-01 Thursday 11:50  martin

	* discuss.php, lib.php, post.php, search.php, subscribe.php,
	view.php: 
	
	A big clean up of all the forum functions (including renaming them
	all to start with forum_ ) and all the follow-on effects that
	caused Some miscellaneous bug fixes and code clean-ups along the
	way

2002-08-01 Thursday 00:53  martin

	* mod.php, search.php, version.php, db/mysql.sql: 
	
	Fixes to logging and log display

2002-08-01 Thursday 00:52  martin

	* lib.php: 
	
	Fixed up activity display for forums

2002-08-01 Thursday 00:33  martin

	* discuss.php, subscribe.php: 
	
	Fixed up some forum logging

2002-08-01 Thursday 00:13  martin

	* index.php: 
	
	Fixed up forum sorting

2002-07-31 Wednesday 23:55  martin

	* lib.php: 
	
	Tweak to add ... after shortpost

2002-07-31 Wednesday 23:43  martin

	* lib.php: 
	
	whoops typo, forgot global

2002-07-31 Wednesday 23:34  martin

	* index.php, lib.php: 
	
	Fixes for long posts ...

2002-07-31 Wednesday 23:09  martin

	* view.php: 
	
	Fixed subscribe info for students

2002-07-31 Wednesday 22:19  martin

	* discuss.php, icon.gif, index.php, lib.php, mod.html, mod.php,
	module.php, post.html, post.php, rate.php, report.php, search.php,
	subscribe.php, subscribers.php, version.php, view.php,
	db/mysql.sql: 
	
	OK, some massive changes with many files removed or changed.
	
	Basically the changes are:
	
	 - I've merged the 'discuss' module into the forum module
	   which makes the interface MUCH clearer for everyone
	 - I've added a new 'single' forum type that replicates
	   what the old discuss course modules used to look like.
	 - I've got rid of the "discussion" forum type - it will
	   still exist in upgraded courses but as a normal forum.
	 - the 'discuss' module is completely deleted - gone.
	 - the 'chat' module is completely deleted - gone.
	 - The upgrading system has been improved, and all code
	   is stored in version.php.
	 - I've put in upgrading commands to do the best I can
	   (right now) to upgrade courses that used the discuss
	   module.  It should mostly work, just leaving some
	   "orphan" coursemodules on you course front page.  You
	   can easily delete these using the little 'x'.
	   I may have forgotten something  - I've only tested on
	   my testing server and I'm about to test on my production
	   server to see how it goes.
	 - Forums have a lot of little new features and fixes.	The
	   main one is the subscription process.  Teachers can 'force'
	   subscriptions on any forum.	This disallows everyone from
	   choosing their own mail subscription - it's just on.
	 - The assignment module is half-finished and not working yet
	
	I've still some massive changes to do, mostly involving making all
	the lib.php function names more standardised, so consider this is
	an interim checkin to do some tests.

2002-07-29 Monday 21:45  martin

	* lib.php: 
	
	Fixed link for "older topics"

2002-07-29 Monday 17:17  martin

	* lib.php, view.php: 
	
	Minor forum formatting tweaks

2002-07-29 Monday 16:24  martin

	* subscribers.php: 
	
	Cleaned up subscription checking - it's a bit slower but will work
	with the upcoming changes to forums (subscribeall flag).  Code is
	shorter too.

2002-07-29 Monday 16:11  martin

	* view.php: 
	
	edit icon always appears now, as long as a coursemodule exists

2002-07-27 Saturday 14:07  martin

	* module.php: 
	
	Changes to suit new upgrading procedure (admin/index.html)

2002-07-25 Thursday 21:48  martin

	* lib.php: 
	
	Got rid of the user.php code fragments and implemented much cleaner
	system which certain-named functions in lib.php ... called from
	/course/user.php

2002-07-21 Sunday 02:20  martin

	* index.php: 
	
	Slight formatting tweaks (forum index)

2002-07-21 Sunday 01:56  martin

	* index.php, lib.php, db/mysql.sql: 
	
	Changed listing of forums

2002-07-14 Sunday 21:32  martin

	* subscribers.php, view.php: 
	
	Added ability for teacher to see subscribers for each forum

2002-07-10 Wednesday 23:26  martin

	* index.php: 
	
	Added search box here

2002-07-04 Thursday 16:30  martin

	* index.php, lib.php, subscribe.php, view.php, db/mysql.sql: 
	
	Added new teacher forum.  TABLE CHANGED:  forum

2002-07-04 Thursday 15:48  martin

	* view.php: 
	
	Fix to update_module_icon (to pass the courseid)

2002-07-02 Tuesday 15:02  martin

	* lib.php: 
	
	Slight changes to userdate() function.	It now uses gmstrftime()
	instead of gmdate to format times, thus allowing it to take
	advantage of locale, if set, to print dates in the appropriate
	language.  Several userdate invocations had to be changed, though,
	to use the different formatting specs.

2002-06-25 Tuesday 19:49  martin

	* mod.html: 
	
	Major changes throughout to change "week" notation to "section"
	notation.  Sections covers "weeks", "topics" and anything else that
	may come along.  Note, again, some databases have changed esp
	course_weeks -> course_sections and several fields called "week"
	are now "section.  Also course no longer has an enddate, but
	instead has a numsections field.

2002-06-25 Tuesday 14:47  martin

	* lib.php, view.php: 
	
	Changes related to new forum type: eachuser and some general
	forum-related tweaking

2002-06-25 Tuesday 11:23  martin

	* icon.gif: 
	
	Updated icon to make it less like discussions and more flexible

2002-06-24 Monday 23:27  martin

	* view.php: 
	
	Typo in add_to_log ... index->view

2002-06-20 Thursday 23:41  martin

	* db/mysql.sql: 
	
	Bugfixes from move - this is now up to date

2002-06-20 Thursday 23:15  martin

	* icon.gif, index.php, lib.php, mod.html, mod.php, module.php,
	subscribe.php, view.php, db/mysql.sql: 
	
	Mass change related to separating forum from discuss and making it
	a separate module (again).  This frees up forums for some
	interesting developments.  Note that database tables have moved
	around.

