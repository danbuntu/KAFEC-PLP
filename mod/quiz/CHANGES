2007-01-27 Saturday 01:52  tjhunt

	* mod_form.php: 
	
	Missing serf_default on decimal points field.

2007-01-26 Friday 14:59  moodler

	* tabs.php: 
	
	FIxed tabs for quizzes

2007-01-21 Sunday 18:32  jamiesensei

	* mod_form.php: 
	
	important security fix previous use of ['type'] in
	repeatedeloptions array would not have worked.

2007-01-19 Friday 01:38  tjhunt

	* edit.php, editlib.php: 
	
	MDL-8205 - Layout of quiz editing screen not right

2007-01-17 Wednesday 06:02  mchurch

	* locallib.php: 
	
	Fixing bug where quizzes from 1.4 will lose their answers when
	upgraded to later versions.  Fixes MDL-8207.

2007-01-17 Wednesday 05:31  mchurch

	* locallib.php, locallib.php: 
	
	Fixing bug where quizzes from 1.4 will lose their answers when
	upgraded to later versions.  Fixes MDL-8207.

2007-01-16 Tuesday 23:36  jamiesensei

	* mod_form.php: 
	
	changed name of moodleform_mod method 'defaults_preprocessing' to
	'data_preprocessing' in line with change of set_defaults name to
	set_data.

2007-01-15 Monday 02:58  stronk7

	* db/: mysql.sql, postgres7.sql: 
	
	Deleting deprecated .sql files. MDL-7264 Byeeez!

2007-01-12 Friday 03:47  skodak

	* mod_form.php: 
	
	fixed text field widths in new forms

2007-01-11 Thursday 16:06  moodler

	* view.php: 
	
	FIxed up the intro boxes  XHTML Strict

2007-01-09 Tuesday 17:08  vyshane

	* attempt.php, attempt_close_js.php, comment.php, config.html,
	edit.php, editlib.php, index.php, jstimer.php, lib.php,
	locallib.php, pagelib.php, review.php, view.php,
	report/analysis/report.php, report/grading/report.php,
	report/overview/report.php, report/regrade/report.php: 
	
	Xhtml fixes for MDL-7861.

2007-01-09 Tuesday 04:38  skodak

	* editlib.php: 
	
	MDL-7861 still some icons left ;grr previous commid had wrong MDL
	id

2007-01-09 Tuesday 04:30  skodak

	* locallib.php: 
	
	MDL-8105 some more icon class fixes including new .iconhelp for
	help and docs icon

2007-01-09 Tuesday 03:34  skodak

	* report/grading/report.php: 
	
	MDL-7861 xhtml transient fixes for not closed input fields - I hope
	all of them except imported libs are now fixed

2007-01-08 Monday 21:58  jamiesensei

	* mod_form.php: 
	
	migrated randomsamatch to formslib.  fixed small typo in quiz
	mod_form

2007-01-08 Monday 17:14  skodak

	* lib.php: 
	
	MDL-7861 new class .icon and .iconsmall

2007-01-07 Sunday 20:46  jamiesensei

	* mod_form.php: 
	
	various formslib work including bug fixes for MDL-8039 id attribute
	collision between forms and page ids. Also added editor helpbutton.
	This is a fix for MDL-6941 need the ability to associate several
	helptopics with htmleditor. Also started on converting forms for
	question types to formslib.

2007-01-07 Sunday 03:23  skodak

	* config.html: 
	
	MDL-8062 Remove name attribute from <form> and related javascript
	code cleanup (tested with FF, IE, Konq and Opera)

2007-01-05 Friday 12:51  jamiesensei

	* mod_form.php: 
	
	added helpbuttons to htmleditors where needed. Further work on
	htmleditor helpbutton code.

2007-01-05 Friday 05:32  skodak

	* attempt.php, editlib.php, jstimer.php,
	report/overview/report.php, report/analysis/report.php: 
	
	MDL-8062 1.3 Remove name attribute from <form> and fix focus
	everywhere - more changes ahead

2007-01-05 Friday 02:24  skodak

	* pagelib.php: 
	
	MDL-8050 1.2 Remove all target="_top" - refactoring of previous
	commit

2007-01-04 Thursday 03:24  skodak

	* pagelib.php: 
	
	MDL-8050 1.2 Remove all target="_top"

2007-01-03 Wednesday 22:44  moodler

	* attempt.php, attempt_close_js.php, config.html, jsclock.php,
	jstimer.php, protect_js.php, view.php: 
	
	Bend over for XHTML 1.0 Strict ...  MDL-8049
	
	Removed Javascript language attribute tags and added CDATA

2007-01-03 Wednesday 12:55  moodler

	* lib.php, report/analysis/report.php, report/overview/report.php: 
	
	Checking in Nick Freear's changes and evolution of Julette White's
	code with a few modifications made to the install process) for
	further work in HEAD.
	
	See MDL-7380 for details.

2007-01-01 Monday 21:26  skodak

	* view.php: 
	
	MDL-8028 Add separate addslashes_js function for javascript quoting

2006-12-29 Friday 00:44  jamiesensei

	* mod_form.php: 
	
	better code formatting

2006-12-28 Thursday 17:32  jamiesensei

	* lib.php, mod_form.php: 
	
	changes to how we generate the id attribute of forms and the naming
	convention of forms migrate blog edit to formslib

2006-12-22 Friday 20:52  tjhunt

	* index.php, locallib.php, review.php, view.php: 
	
	MDL-8002 - Don't show overall feedback for incomplete quiz
	attempts.  Also, cleanup of mod/quiz/index.php

2006-12-22 Friday 12:27  moodler

	* protect_js.php: 
	
	Added CDATA to Javascript

2006-12-22 Friday 04:34  skodak

	* report/: analysis/report.php, overview/report.php: 
	
	MDL-7996 Add ods export support - quiz report and number value,
	call time pass by ref... warnings fixed; fix in ods export lib

2006-12-21 Thursday 10:12  toyomoyo

	* editlib.php: 
	
	MDL-7861, fixing broken xhtml

2006-12-19 Tuesday 19:43  jamiesensei

	* mod_form.php: 
	
	got rid of extra help button that shouldn't have been there.

2006-12-19 Tuesday 15:03  jamiesensei

	* lib.php, mod.html, mod_form.php: 
	
	
	* Added setAdvanced functionality see
	http://docs.moodle.org/en/Development:lib/formslib.php_setAdvanced
	* Added MoodleQuickForm method closeHeaderBefore($elementName);
	http://docs.moodle.org/en/Development:lib/formslib.php_Form_Definit
	ion#Use_Fieldsets_to_group_Form_Elements * Added moodleform method
	add_action_buttons(); see
	http://docs.moodle.org/en/Development:lib/formslib.php_Form_Definit
	ion#add_action_buttons.28.24cancel_.3D_true.2C_.24revert_.3D_true.2
	C_.24submitlabel.3Dnull.29.3B * is_cancelled method added to
	moodleform
	http://docs.moodle.org/en/Development:lib/formslib.php_Usage#Basic_
	Usage_in_A_Normal_Page * added hidden labels to elements within
	groups such as the date_selector select boxes and other elements in
	'groups' * quiz/mod.html migrated to formslib * glossary/edit.html
	migrated to formslib * extended registerNoSubmitButton()
	functionality to automatically add js to onclick to bypass client
	side js input validation.  * added no_submit_button_pressed()
	function that can be used in a similar way to is_cancelled() as a
	test in the main script to see if some button in the page has been
	pressed that is a submit button that is used for some dynamic
	functionality within the form and not to submit the data for the
	whole form.  * added new condition for disabledIf which allows to
	disable another form element if no options are selected from within
	a select element.  * added default 'action' for moodleform  -
	strip_querystring(qualified_me())
	http://docs.moodle.org/en/Development:lib/formslib.php_Usage#Basic_
	Usage_in_A_Normal_Page

2006-12-14 Thursday 15:48  toyomoyo

	* editlib.php, jstimer.php: 
	
	accessibility fixes

2006-12-13 Wednesday 19:54  nfreear

	* lib.php, report/analysis/report.php, report/overview/report.php: 
	
	Functions to return SQL fragments for groups. Modules, core... no
	longer need to refer directly to groups DB tables. (Part of
	MDL-7380, new groups)

2006-12-13 Wednesday 16:24  toyomoyo

	* config.html, jstimer.php: 
	
	accessiblity, associating <th> with respective row or col

2006-12-12 Tuesday 01:12  tjhunt

	* restorelib.php: 
	
	Restore notices.

2006-12-11 Monday 22:03  tjhunt

	* report/overview/: report.php, report.php, report.php: 
	
	MDL-7886 - typo in overview report javascript.

2006-12-04 Monday 19:54  tjhunt

	* view.php: 
	
	Typo. Merged from MOODLE_17_STABLE.

2006-12-04 Monday 19:54  tjhunt

	* view.php: 
	
	Typo.

2006-11-29 Wednesday 02:42  tjhunt

	* editlib.php, view.php: 
	
	Put back spaces in code that Martin Dougiamass stripped out of the
	lang strings without thinking about the consequences. Merged from
	MOODLE_17_STABLE.

2006-11-29 Wednesday 02:38  tjhunt

	* editlib.php, view.php: 
	
	Put back spaces in code that Martin Dougiamass stripped out of the
	lang strings without thinking about the consequences.

2006-11-27 Monday 07:02  skodak

	* attempt.php, attempt.php: 
	
	MDL-7631 Incorrect grading when Each attempt builds on the last and
	questions on more than one page; backported from HEAD

2006-11-27 Monday 07:00  skodak

	* attempt.php: 
	
	MDL-7631 Incorrect grading when Each attempt builds on the last and
	questions on more than one page

2006-11-26 Sunday 01:13  stronk7

	* view.php: 
	
	Typo causing continue button in closed quizzes to fail. MDL-7685
	
	Merged from MOODLE_17_STABLE

2006-11-26 Sunday 01:12  stronk7

	* view.php: 
	
	Typo causing continue button in closed quizzes to fail. MDL-7685

2006-11-23 Thursday 15:52  toyomoyo

	* attempt.php, version.php, db/access.php: 
	
	fix for MDL-7395, adding capaiblity mod/quiz:ignoretimelimits for
	quiz takers with disability.

2006-11-20 Monday 05:28  tjhunt

	* index.php, index.php: 
	
	Fix function arguments.

2006-11-17 Friday 00:46  tjhunt

	* index.php: 
	
	Typo in function name. Merged from MOODLE_17_STABLE.

2006-11-17 Friday 00:45  tjhunt

	* index.php: 
	
	Typo in function name.

2006-11-16 Thursday 20:43  tjhunt

	* view.php: 
	
	MDL-7576 - review link does not work after attempt is closed.
	Thanks to Chad Badiyan for the fix. Merged from MOODLE_17_STABLE.

2006-11-16 Thursday 20:43  tjhunt

	* view.php: 
	
	MDL-7576 - review link does not work after attempt is closed.
	Thanks to Chad Badiyan for the fix.

2006-11-15 Wednesday 20:58  tjhunt

	* db/: postgres7.php, mysql.php, mysql.php, postgres7.php: 
	
	MDL-7309 Add error checking to the Quiz DB upgrade script. This
	should prevent the mysterious failures that some people are seeing
	when upgrading quizzes from 1.5.x to 1.6.x. Merged from
	MOODLE_16_STABLE.

2006-11-15 Wednesday 20:33  tjhunt

	* db/: mysql.php, postgres7.php: 
	
	MDL-7309 Add error checking to the Quiz DB upgrade script. This
	should prevent the mysterious failures that some people are seeing
	when upgrading quizzes from 1.5.x to 1.6.x.

2006-11-15 Wednesday 08:30  tjhunt

	* pagelib.php: 
	
	MDL-6380 - added required include to make blocks work on the quiz
	pages. Backported from HEAD. See also MDL-7420.

2006-11-09 Thursday 15:21  toyomoyo

	* db/: migrate2utf8.php, migrate2utf8.xml: 
	
	drop utf8 support from HEAD MDL-6332

2006-11-01 Wednesday 06:19  skodak

	* report/overview/report.php: 
	
	Fix errors in quiz overview download MDL-7316; merged from
	MOODLE_17_STABLE

2006-11-01 Wednesday 06:17  skodak

	* report/overview/report.php: 
	
	Fix errors in quiz overview download MDL-7316

2006-10-31 Tuesday 20:12  tjhunt

	* edit.php: 
	
	MDL-5811 - Quiz editing outputs nasty junk before print_header
	sometimes. Second attempt at fixing. I forgot to mention the bug
	number in the previous commit to mod/quiz/edit.php. Backported from
	MOODLE_17_STABLE.

2006-10-31 Tuesday 20:06  tjhunt

	* edit.php: 
	
	MDL-5811 - Quiz editing outputs nasty junk before print_header
	sometimes. Second attempt at fixing. I forgot to mention the bug
	number in the previous commit to mod/quiz/edit.php. Merged from
	MOODLE_17_STABLE.

2006-10-31 Tuesday 20:03  tjhunt

	* edit.php: 
	
	MDL-5811 - Quiz editing outputs nasty junk before print_header
	sometimes. Second attempt at fixing. I forgot to mention the bug
	number in the previous commit to mod/quiz/edit.php.

2006-10-31 Tuesday 18:48  tjhunt

	* edit.php: 
	
	Fix junk being output before print_header, which happened
	sometimes. Backported from MOODLE_17_STABLE.

2006-10-31 Tuesday 18:47  tjhunt

	* edit.php: 
	
	Fix junk being output before print_header, which happened
	sometimes. Merged from MOODLE_17_STABLE.

2006-10-31 Tuesday 18:40  tjhunt

	* edit.php: 
	
	Fix junk being output before print_header, which happened
	sometimes.

2006-10-31 Tuesday 00:35  tjhunt

	* lib.php: 
	
	Make General feedback more tolerant of whitespace. Merged from
	MOODLE_17_STABLE.

2006-10-31 Tuesday 00:35  tjhunt

	* lib.php: 
	
	Make General feedback more tolerant of whitespace.

2006-10-27 Friday 06:46  stronk7

	* db/postgres7.php: 
	
	Deprecating old "upgrade" files. MDL-7214
	
	Merged from MOODLE_17_STABLE

2006-10-27 Friday 06:39  stronk7

	* db/mysql.php: 
	
	Deprecating old "upgrade" files. MDL-7214
	
	Merged from MOODLE_17_STABLE

2006-10-27 Friday 06:29  stronk7

	* db/postgres7.php: 
	
	Deprecating old "upgrade" files. MDL-7214

2006-10-27 Friday 06:25  stronk7

	* db/mysql.php: 
	
	Deprecating old "upgrade" files. MDL-7214

2006-10-27 Friday 01:43  stronk7

	* db/upgrade.php: 
	
	New upgrade.php file added for this module. MDL-7214
	
	Merged from HEAD

2006-10-27 Friday 01:33  stronk7

	* db/upgrade.php: 
	
	file upgrade.php was added on branch MOODLE_17_STABLE on 2006-10-26
	17:43:08 +0000

2006-10-27 Friday 01:33  stronk7

	* db/upgrade.php: 
	
	New upgrade.php file added for this module. MDL-7214

2006-10-25 Wednesday 17:04  moodler

	* backuplib.php: 
	
	Merged AS keyword fixes from stable  MDL-7207

2006-10-25 Wednesday 17:02  moodler

	* backuplib.php: 
	
	More rogue AS keywords	 MDL-7207

2006-10-17 Tuesday 18:05  thompson697

	* restorelib.php, restorelibpre15.php: 
	
	Apply modularity to the creation of the log file during restore to
	a new course.  Remove the responsibility for loging the application
	of the course start date offset, from activity modules to the
	backup module.	Merged from stable branch

2006-10-16 Monday 22:54  tjhunt

	* backuplib.php: 
	
	Changes to dmllib seem to have broken quiz backup. This makes it
	work again. Merged from MOODLE_17_STABLE.

2006-10-16 Monday 22:53  tjhunt

	* backuplib.php: 
	
	Changes to dmllib seem to have broken quiz backup. This makes it
	work again.

2006-10-16 Monday 19:05  tjhunt

	* editlib.php: 
	
	MDL-6650 - Previewing individual random questions from the quiz
	editing screen was not working, and anyway, I'm not sure it makes
	any sense, so I removed that preview link. Merged from
	MOODLE_17_STABLE.

2006-10-16 Monday 19:04  tjhunt

	* editlib.php: 
	
	MDL-6650 - Previewing individual random questions from the quiz
	editing screen was not working, and anyway, I'm not sure it makes
	any sense, so I removed that preview link.

2006-10-16 Monday 18:40  thompson697

	* restorelib.php, restorelibpre15.php: 
	
	Apply modularity to the creation of the log file during restore to
	a new course.  Remove the responsibility for loging the application
	of the course start date offset, from activity modules to the
	backup module.

2006-10-12 Thursday 14:13  toyomoyo

	* restorelib.php: 
	
	merged fixed warning druing restore

2006-10-12 Thursday 14:12  toyomoyo

	* restorelib.php: 
	
	fixing warnings during restore

2006-10-11 Wednesday 14:22  moodler

	* db/access.php: 
	
	Merged fixes for MDL-6907 from stable

2006-10-11 Wednesday 14:16  moodler

	* db/access.php: 
	
	All the PREVENTS from the legacy roles have been removed (and thus
	are treated as INHERIT by default).
	
	See MDL-6907 for details.

2006-10-08 Sunday 04:47  skodak

	* config.html, mod.html: 
	
	fixed some incorrect strtolower() calls that were breaking non
	ascii languages MDL-6135

2006-10-07 Saturday 01:20  tjhunt

	* locallib.php: 
	
	Typo.

2006-10-05 Thursday 23:58  tjhunt

	* view.php: 
	
	MDL-6837 - move warning about pupup blockers into the lang file.
	Merged from MOODLE_16_STABLE.

2006-10-05 Thursday 23:53  tjhunt

	* view.php: 
	
	MDL-6837 - move warning about pupup blockers into the lang file.

2006-10-04 Wednesday 22:50  thompson697

	* restorelib.php, restorelibpre15.php: 
	
	Change creation of restorelog file location to protected backupdata
	folder.  Reassign style and language links

2006-10-04 Wednesday 18:21  tjhunt

	* locallib.php: 
	
	MDL-6814 - Can't change "maximum grade" value on a quiz. Now you
	can.

2006-10-03 Tuesday 20:51  moodler

	* protect_js.php: 
	
	Added copyright notice (they paid moodle.com for this development)
	
	   http://moodle.org/mod/forum/discuss.php?d=55410

2006-09-29 Friday 13:45  toyomoyo

	* db/migrate2utf8.xml: 
	
	commentary text renamed to general feedback

2006-09-26 Tuesday 13:11  martinlanghoff

	* report/: grading/report.php, overview/report.php: 
	
	mod/quiz: remove deprecated sql_paging_limit(), use offset, limit
	parameters

2006-09-26 Tuesday 13:05  martinlanghoff

	* report/: grading/report.php, overview/report.php: 
	
	mod/quiz: replace $db->Concat() with sql_concat()

2006-09-24 Sunday 21:54  moodler

	* view.php: 
	
	Better use of mod/quiz:view to hide quiz information (they already
	have the name from the course page etc)

2006-09-24 Sunday 20:02  moodler

	* index.php: 
	
	Simplified a bit and removed a notice

2006-09-23 Saturday 17:38  skodak

	* quizfile.php: 
	
	debugging and error reporting level fixes and improvements MDL-6671

2006-09-21 Thursday 05:00  skodak

	* db/access.php: 
	
	major whitespace cleanup - fixed trailng whitespace in new files
	and admin area

2006-09-21 Thursday 04:31  skodak

	* mod.html, timer.js: 
	
	major whitespace cleanup - fixed tabs

2006-09-21 Thursday 01:22  tjhunt

	* pagelib.php: 
	
	MDL-6380 - added required include to make blocks work on the quiz
	pages.

2006-09-21 Thursday 01:01  tjhunt

	* report/overview/report.php: 
	
	Fix typos in string concatenation.

2006-09-21 Thursday 00:22  stronk7

	* db/install.xml: 
	
	renaming question_dataset_items->number to itemnumber (reserved
	word) and question->commentarytext to question->generalfeedback

2006-09-21 Thursday 00:17  tjhunt

	* attempt.php: 
	
	Fix bug with getting the capability.

2006-09-20 Wednesday 17:00  toyomoyo

	* report/overview/report.php: 
	
	replacing deprecated calls and references to capability calls

2006-09-20 Wednesday 05:48  tjhunt

	* timer.js: 
	
	Fix JavaScript problem reported in this thread:
	http://moodle.org/mod/forum/discuss.php?d=54432. Merged from
	MOODLE_16_STABLE.

2006-09-20 Wednesday 05:47  tjhunt

	* timer.js: 
	
	Fix JavaScript problem reported in this thread:
	http://moodle.org/mod/forum/discuss.php?d=54432

2006-09-19 Tuesday 21:35  tjhunt

	* locallib.php, db/migrate2utf8.php, db/mysql.php, db/mysql.sql,
	db/postgres7.php, db/postgres7.sql, lib.php, reviewoptions.html,
	version.php: 
	
	Renamed new commentary feature to 'general feedback'.

2006-09-19 Tuesday 18:56  tjhunt

	* restorelibpre15.php, version.php, db/mysql.php, db/mysql.sql,
	db/postgres7.php, db/postgres7.sql: 
	
	Rename column question_dataset_items->number to itemnumber, to
	avoid reserved word.

2006-09-18 Monday 17:13  moodler

	* restorelib.php: 
	
	FIxed to use the new debugging function

2006-09-13 Wednesday 23:00  tjhunt

	* report/overview/report.php: 
	
	Fix ordering problem with question number column headings.

2006-09-13 Wednesday 21:19  thompson697

	* restorelib.php, restorelibpre15.php: 
	
	Complete work on Roll Forwards - Restore from previous semester
	(MDL-5532) * Add fields to restore form to enable changes to Short
	Name, Full Name and Start Date * Start Date offset added to Restore
	process * Created Restorelog file in Course files area * Activity
	Modules use offset to change dates * Activity Modules write changes
	to Restorelog

2006-09-13 Wednesday 17:08  toyomoyo

	* editlib.php, index.php: 
	
	adding capabilitiies

2006-09-12 Tuesday 16:22  moodler

	* version.php: 
	
	Small bump for guest role fix

2006-09-12 Tuesday 15:10  moodler

	* version.php: 
	
	Reload the guest role using new defaults

2006-09-12 Tuesday 13:58  moodler

	* db/access.php: 
	
	Changed some default permissions for the guest role

2006-08-31 Thursday 17:17  thepurpleblob

	* lib.php: 
	
	Fixed syntax error.

2006-08-31 Thursday 16:51  toyomoyo

	* attempt.php, lib.php, quizfile.php, restorelibpre15.php,
	review.php: 
	
	adding capabilities

2006-08-30 Wednesday 14:12  toyomoyo

	* db/: migrate2utf8.php, migrate2utf8.xml: 
	
	utf8 migrate support for additional fields MDL-6339

2006-08-29 Tuesday 02:50  tjhunt

	* view.php: 
	
	Fix typo.

2006-08-26 Saturday 00:03  tjhunt

	* locallib.php, tabs.php, version.php, view.php, review.php,
	reviewquestion.php, db/access.php, report/grading/report.php: 
	
	Convert mod/quiz/view.php to roles, and further tidy up the code
	flow in there. This touches other files because I had to change a
	function in locallib that had an $isteacher parameter.
	
	I have not converted the rest of the quiz, and I don't intend to. I
	am hoping Moodle.com will do it.
	
	I hope this does not introduce any bugs, but view.php is so
	complicate (at least it is less complicated than it was) and the
	quiz has so many options, that it is hard to be sure. This needs
	lots of testing before 1.7 is released.

2006-08-25 Friday 19:23  tjhunt

	* report.php: 
	
	Correct typo.

2006-08-25 Friday 00:57  stronk7

	* db/install.xml: 
	
	Renamed column question_sessions->comment at Eloy's request since
	comment is a DB reserved word.	(mimic from sql files) Thanks Tim!
	B-)

2006-08-25 Friday 00:44  tjhunt

	* reviewquestion.php, version.php, db/migrate2utf8.xml,
	db/mysql.php, db/mysql.sql, db/postgres7.php, db/postgres7.sql,
	report/grading/report.php: 
	
	Renamed column question_sessions->comment at Eloy's request since
	comment is a DB reserved word.
	
	I have not been able to test this fully, because I cannot assign
	roles (e.g. Student and Teacher) in 1.7dev at the moment to test a
	student answering an essay question then a teacher grading it.
	However, I have tested as much as possible as admin and cannot get
	any errors.

2006-08-23 Wednesday 23:32  tjhunt

	* review.php: 
	
	Get the contexts without referring to undefined variables.

2006-08-23 Wednesday 23:12  tjhunt

	* edit.php: 
	
	Get the contexts without referring to undefined variables.

2006-08-23 Wednesday 14:36  toyomoyo

	* version.php: 
	
	various changes - loading capabilities for questions, quiz, hide
	tab if no assignalbe or no overridable role is found, added some
	functions and comments in accesslib

2006-08-23 Wednesday 13:39  toyomoyo

	* db/: migrate2utf8.php, migrate2utf8.xml: 
	
	fix for MDL-6326, add support for quiz_feedaback table

2006-08-23 Wednesday 05:55  stronk7

	* db/install.xml: 
	
	quiz_feedback added to XMLDB

2006-08-23 Wednesday 05:44  stronk7

	* db/mysql.sql: 
	
	Small typo. ;-)

2006-08-23 Wednesday 03:00  tjhunt

	* backuplib.php, mod.html, restorelib.php: 
	
	Fix Eclipse warnings.

2006-08-23 Wednesday 01:31  tjhunt

	* backuplib.php, edit.php, index.php, lib.php, locallib.php,
	mod.html, restorelib.php, review.php, version.php, view.php,
	db/mysql.php, db/mysql.sql, db/postgres7.php, db/postgres7.sql,
	report/overview/report.php: 
	
	MDL-5270 - give students a feeback comment for their performance in
	the entire quiz.
	
	Also, along the way I noticed and fixed MDL-6290 student grades not
	rescaled when quiz maximum grade changed.

2006-08-22 Tuesday 21:53  tjhunt

	* view.php: 
	
	Reverting toyomoyo's conversion of mod/quiz/view.php to roles
	because his changes made no sense.
	
	Admittedly, this file is pretty incomprehensible and it is not
	clear at first what it is trying to do. (Even though it is more
	comprehensible now than it was a week ago.) I'll to a proper
	conversion of this file to RnP once I have checked in my other
	changes there - assuming I can actually get Moodle to work so I can
	test my changes.

2006-08-22 Tuesday 21:12  tjhunt

	* attempt.php: 
	
	Fix toyomoyo's syntax errors.

2006-08-22 Tuesday 17:04  toyomoyo

	* attempt.php, comment.php, edit.php, index.php, report.php,
	review.php, tabs.php, view.php: 
	
	some quiz capabilities

2006-08-21 Monday 18:07  tjhunt

	* mod.html: 
	
	Bug #6305 - Quiz settings form field order could be better - proper
	fix this time.
	
	Sorry, I screwed up with the previous revision. This is the proper
	fix. Diff this with revision 1.61 to see what the change really is,
	and ignore 1.61.2.1.

2006-08-21 Monday 16:40  toyomoyo

	* tabs.php: 
	
	some capabilities for quiz and questions, need to load them in
	access.php

2006-08-21 Monday 04:11  tjhunt

	* mod.html: 
	
	Bug #6305 - Quiz settings form field order could be better. Merged
	from MOODLE_16_STABLE.

2006-08-21 Monday 04:10  tjhunt

	* mod.html: 
	
	Bug #6305 - Quiz settings form field order could be better.

2006-08-19 Saturday 06:26  tjhunt

	* report/regrade/report.php: 
	
	Code cleanup. Merged from MOODLE_16_STABLE.

2006-08-19 Saturday 06:25  tjhunt

	* report/regrade/report.php: 
	
	Code cleanup.

2006-08-18 Friday 16:05  tjhunt

	* report/grading/report.php: 
	
	Changed include to use dirroot not wwwroot.

2006-08-17 Thursday 00:54  tjhunt

	* report/overview/report.php: 
	
	Save two queries if we are not going to output anything.

2006-08-16 Wednesday 16:46  tjhunt

	* lib.php: 
	
	Remove horrific code duplication in mod/quiz/lib.php.

2006-08-16 Wednesday 04:44  tjhunt

	* report/grading/report.php: 
	
	Corrected include.

2006-08-15 Tuesday 23:29  tjhunt

	* mod.html: 
	
	Remove horrific code duplication in mod/quiz/mod.html.

2006-08-14 Monday 21:32  tjhunt

	* db/: mysql.sql, postgres7.sql: 
	
	Reorder the table definitions in the file, to group them more
	logically.

2006-08-13 Sunday 07:03  stronk7

	* db/install.xml: 
	
	Latest changes added + some polish in keys.

2006-08-13 Sunday 05:40  stronk7

	* db/install.xml: 
	
	Added une foreign+unique key

2006-08-12 Saturday 03:29  stronk7

	* db/install.xml: 
	
	XMLDB schema initial commit for the quiz module.  Some doubts are
	pending to finish it properly.

2006-08-11 Friday 22:59  tjhunt

	* locallib.php, version.php, db/mysql.php, db/mysql.sql,
	db/postgres7.php, db/postgres7.sql, defaults.php, editlib.php,
	lib.php, reviewoptions.html: 
	
	Bug 6239 - Allow questions to have some teacher-supplied
	commentary.
	
	While implementing this, I removed the ~100 lines of very similar
	code from the top of each question type's editquestion.html
	template, and moved this to a the function
	print_question_form_start() in the base class, which uses the
	template question/type/editquestionstart.html. This is described in
	more detail here: http://moodle.org/mod/forum/discuss.php?d=51590,
	and is why this patch makes the codebase 523 lines smaller.

2006-08-11 Friday 05:52  tjhunt

	* report/overview/report.php: 
	
	Major code cleanup of this report (that started as a small code
	cleanup). None of the functionality should have changed - crosses
	fingers.

2006-08-10 Thursday 23:51  skodak

	* view.php, attempt.php, report.php, version.php: 
	
	new function get_coursemodule_from_id() is now used for obtaining
	of valid $cm from coursemodule id SC#283; backported from HEAD

2006-08-10 Thursday 23:31  skodak

	* attempt.php, report.php, view.php: 
	
	new function get_coursemodule_from_id() is now used for obtaining
	of valid $cm from coursemodule id SC#283; backported from HEAD

2006-08-09 Wednesday 21:45  moodler

	* attempt.php, defaults.php, styles.php, db/mysql.php,
	db/postgres7.php: 
	
	Removed tabs

2006-08-09 Wednesday 06:09  skodak

	* attempt.php, report.php, version.php, view.php: 
	
	new function get_coursemodule_from_id() is now used for obtaining
	of valid $cm from coursemodule id SC#283

2006-08-08 Tuesday 13:13  moodler

	* version.php: 
	
	ROLES AND PERMISSIONS  - FIRST CHECK-IN
	=======================================
	
	WARNING:  DEV IS CURRENTLY VERY UNSTABLE.
	
	This is a mega-checkin of the new Roles system.   A lot of changes
	have been made in core and modules.
	
	Currently there are a lot of rough edges and known problems.  We
	are working hard on these .. .the reason for getting this into HEAD
	at this stage is enable us to move faster (our branch was diverging
	from HEAD too much).
	
	Please keep an eye on http://docs.moodle.org/en/Roles for current
	status and information for developers on how to use the new Roles
	system.

2006-08-05 Saturday 00:47  tjhunt

	* attempt.php: 
	
	Fix whitespace.

2006-08-04 Friday 00:30  tjhunt

	* lib.php: 
	
	Bug #6206 - Quiz can't be created on some mysql configurations.
	Merged from MOODLE_1.6_STABLE.

2006-08-04 Friday 00:30  tjhunt

	* lib.php: 
	
	Bug #6206 - Quiz can't be created on some mysql configurations

2006-08-03 Thursday 22:51  tjhunt

	* view.php, view_js.php: 
	
	Bug #6048 - Fix 'are you sure you want to start an attempt'
	warning. Backported from HEAD.

2006-07-31 Monday 13:38  martinlanghoff

	* db/postgres7.php: 
	
	Bug #6147 - Upgrade from 1.5.x breaks with Postgres 7.4.x
	
	Even though Postgres 7.4.x is officially supported, several upgrade
	scripts use syntax that only works in Postgres 8.x. and it's
	impossible to finish the upgrade.
	
	The attached patch fixes those scripts.
	
	Saludos. Iñaki.
	
	Author: Iñaki Arenaza Review: Jun Yamog, Martin Langhoff

2006-07-24 Monday 22:40  tjhunt

	* review.php: 
	
	Bug #6157 - lang strings using concatenation, not $a. Merged from
	MOODLE_16_STABLE.

2006-07-24 Monday 22:35  tjhunt

	* review.php: 
	
	Bug #6157 - lang strings using concatenation, not $a.

2006-07-19 Wednesday 00:49  tjhunt

	* view.php, view_js.php: 
	
	Bug #6048 - Fix 'are you sure you want to start an attempt'
	warning.

2006-07-18 Tuesday 19:01  tjhunt

	* db/: mysql.php, postgres7.php: 
	
	Bug #6116 - Quiz database upgrade scripts call renamed function by
	the old name. Merged from MOODLE_16_STABLE.

2006-07-18 Tuesday 18:58  tjhunt

	* db/: mysql.php, postgres7.php: 
	
	Bug #6116 - Quiz database upgrade scripts call renamed function by
	the old name.

2006-07-18 Tuesday 00:35  tjhunt

	* report/overview/report.php: 
	
	Bug 6092 - Give quiz finish time as well as start time in the quiz
	overview report.

2006-07-12 Wednesday 00:14  tjhunt

	* report/grading/report.php: 
	
	Bug #6077 - Teacher saving their grades destroys student essay!
	Merged from MOODLE_16_STABLE.

2006-07-12 Wednesday 00:10  tjhunt

	* report/grading/report.php: 
	
	Bug #6077 - Teacher saving their grades destroys student essay!

2006-07-11 Tuesday 21:02  skodak

	* edit.php, editlib.php: 
	
	workaround for Bug #6035 - editing quiz in one tab changes quiz in
	other; merged from MOODLE_16_STABLE

2006-07-11 Tuesday 21:00  skodak

	* editlib.php, edit.php: 
	
	workaround for Bug #6035 - editing quiz in one tab changes quiz in
	other

2006-07-05 Wednesday 18:43  tjhunt

	* attempt.php, timer.js: 
	
	Bug 6019: Quiz timer does not submit the form when it reaches zero.
	Merged from MOODLE_16_STABLE.

2006-07-05 Wednesday 18:43  tjhunt

	* attempt.php, timer.js: 
	
	Bug 6019: Quiz timer does not submit the form when it reaches zero.

2006-06-30 Friday 18:31  tjhunt

	* report/: analysis/report.php, overview/report.php: 
	
	Bug 5967 - Missing lang strings and help for quiz reports. Merged
	from MOODLE_16_STABLE.

2006-06-30 Friday 18:27  tjhunt

	* report/: overview/report.php, analysis/report.php: 
	
	Bug 5967 - Missing lang strings and help for quiz reports.

2006-06-29 Thursday 01:21  tjhunt

	* db/: mysql.php, postgres7.php: 
	
	Bug #5918 - essay question comments from teachers lost in 1.6
	upgrade. Thanks to Mark Nielsen the suggestion of how to fix.
	Merged from MOODLE_16_STABLE.

2006-06-29 Thursday 01:13  tjhunt

	* db/: mysql.php, postgres7.php: 
	
	Bug #5918 - essay question comments from teachers lost in 1.6
	upgrade. Thanks to Mark Nielsen the suggestion of how to fix.

2006-06-28 Wednesday 18:13  tjhunt

	* view.php: 
	
	Bug #5945: Lang string name missmatch when starting quiz attempt. 
	Merged from MOODLE_16_STABLE.

2006-06-28 Wednesday 18:10  tjhunt

	* view.php: 
	
	Bug #5945: Lang string name missmatch when starting quiz attempt.

2006-06-14 Wednesday 02:59  tjhunt

	* edit.php: 
	
	Quiz module sometimes left the user staring at a blank page. Now
	there is an error message. Merged from MOODLE_16_STABLE.

2006-06-14 Wednesday 02:58  tjhunt

	* edit.php: 
	
	* Quiz module sometimes left the user staring at a blank page. Now
	there is an error message.

2006-06-09 Friday 18:15  stronk7

	* db/postgres7.php: 
	
	One notice() was preventing the upgrade to 1.7dev to continue. Bug
	5773.  (http://moodle.org/bugs/bug.php?op=show&bugid=5773)

2006-06-08 Thursday 01:56  stronk7

	* db/: mysql.php, postgres7.php: 
	
	Now the question_attempts creation and dotation will be only
	executed if it hasn't been done in MOODLE_16_STABLE. Bug 5717. 
	(http://moodle.org/bugs/bug.php?op=show&bugid=5717)

2006-06-07 Wednesday 14:05  toyomoyo

	* db/migrate2utf8.xml: 
	
	merged fix for 5720

2006-06-07 Wednesday 14:03  toyomoyo

	* db/migrate2utf8.xml: 
	
	fix for 5720

2006-06-07 Wednesday 13:59  toyomoyo

	* version.php, db/mysql.php: 
	
	merged fix for 5720

2006-06-07 Wednesday 13:56  toyomoyo

	* version.php, db/mysql.php: 
	
	fix for 5720

2006-06-07 Wednesday 01:10  tjhunt

	* styles.php: 
	
	Bug #5559: revised fix - using better CSS class names. Merged from
	MOODLE_16_STABLE.

2006-06-07 Wednesday 01:07  tjhunt

	* styles.php: 
	
	Bug #5559: revised fix - using better CSS class names.

2006-06-06 Tuesday 22:29  tjhunt

	* attempt.php: 
	
	Bug #5506: Fix for calculated questions where each one builds on
	the last. Merged from MOODLE_16_STABLE.

2006-06-06 Tuesday 22:27  tjhunt

	* attempt.php: 
	
	Fix for calculated questions where each one builds on the last.

2006-06-06 Tuesday 22:15  tjhunt

	* restorelib.php: 
	
	Fix notices from the quiz module on backup and restore. Merged from
	MOODLE_16_STABLE.

2006-06-06 Tuesday 22:13  tjhunt

	* restorelib.php: 
	
	Fix notices from the quiz module on backup and restore.

2006-06-05 Monday 22:24  tjhunt

	* report/overview/report.php: 
	
	Fixed reference to incorrect language string. Merged from
	MOODLE_16_STABLE.

2006-06-05 Monday 22:14  tjhunt

	* report/overview/report.php: 
	
	Fixed reference to incorrect language string.

2006-06-05 Monday 07:01  skodak

	* view_js.php: 
	
	Bug #5721 - students cannot take quiz when course language set to
	French; merged from MOODLE_16_STABLE

2006-06-05 Monday 07:00  skodak

	* view_js.php: 
	
	Bug #5721 - students cannot take quiz when course language set to
	French

2006-06-03 Saturday 00:01  skodak

	* lib.php, lib.php: 
	
	Making sure timelimit is converted to integer before being written
	to database, otherwise postgreSQL complains. Closing bug 5401;
	merged from MOODLE_15_STABLE

2006-06-02 Friday 23:39  tjhunt

	* styles.php: 
	
	Bug #5559: Move CLOZE qtype hightight colours into CSS insted of
	hardcoding, so themes can override. Merged from 1.6stable.

2006-06-02 Friday 23:37  tjhunt

	* styles.php: 
	
	Bug #5559: Move CLOZE qtype hightight colours into CSS insted of
	hardcoding, so themes can override.

2006-06-01 Thursday 22:27  tjhunt

	* lib.php: 
	
	Bug 5247: stop people creating tests with a close date before the
	open date.

2006-05-31 Wednesday 23:58  tjhunt

	* report/analysis/report.php: 
	
	Fix for bug 5379: Item analysis report should not have a hard coded
	list of question types.
	
	Please test this if you have a moodle install with some unusual
	question types. Thanks.
	
	Merged from 1.6stable.

2006-05-31 Wednesday 23:53  tjhunt

	* report/analysis/report.php: 
	
	Fix for bug 5379: Item analysis report should not have a hard coded
	list of question types.
	
	Please test this if you have a moodle install with some unusual
	question types. Thanks.

2006-05-31 Wednesday 18:35  tjhunt

	* lib.php: 
	
	Fix some Eclipse code style warnings.

2006-05-30 Tuesday 10:51  toyomoyo

	* db/migrate2utf8.xml: 
	
	merged fix for 5648, utf8 migration problem

2006-05-30 Tuesday 10:50  toyomoyo

	* db/migrate2utf8.xml: 
	
	fix for 5648, utf-8  migration bug

2006-05-26 Friday 14:55  skodak

	* report/analysis/report.php: 
	
	Bug #5456 - Item Analysis fails to calculate results for random
	question type; merged from MOODLE_16_STABLE

2006-05-26 Friday 14:54  skodak

	* report/analysis/report.php: 
	
	Bug #5456 - Item Analysis fails to calculate results for random
	question type

2006-05-26 Friday 14:48  skodak

	* report/overview/report.php: 
	
	Bug #5472 - Download quiz grades in Excel format does not show
	correct foelds; merged from MOODLE_16_STABLE

2006-05-26 Friday 14:47  skodak

	* report/overview/report.php: 
	
	Bug #5472 - Download quiz grades in Excel format does not show
	correct foelds

2006-05-25 Thursday 18:00  skodak

	* report/overview/report.php: 
	
	Bug #5416 - sorting by question column in overview report plugin
	broken - please test; merged from MOODLE_16_STABLE

2006-05-25 Thursday 17:59  skodak

	* report/overview/report.php: 
	
	Bug #5416 - sorting by question column in overview report plugin
	broken - please test

2006-05-25 Thursday 02:56  skodak

	* attempt.php: 
	
	fixed bug #5562 I hope; merged from MOODLE_16_STABLE

2006-05-25 Thursday 02:55  skodak

	* attempt.php: 
	
	fixed bug #5562 I hope

2006-05-17 Wednesday 14:57  martinlanghoff

	* db/postgres7.php: 
	
	moodle16cleanup: mod/quiz correctly sync the constraints and
	indexes which was not changed when it was moved from quiz module to
	question lib

2006-05-17 Wednesday 14:56  martinlanghoff

	* version.php, db/postgres7.php: 
	
	moodle16cleanup: mod/quiz uniqueid does not exists, taking upgrade
	script from mysql.php ver 2005070202. dropping some unused tables
	during the transition from quiz to question lib

2006-05-17 Wednesday 14:24  martinlanghoff

	* db/postgres7.php: 
	
	moodle16cleanup: mod/quiz correctly sync the constraints and
	indexes which was not changed when it was moved from quiz module to
	question lib

2006-05-17 Wednesday 14:24  martinlanghoff

	* version.php, db/postgres7.php: 
	
	moodle16cleanup: mod/quiz uniqueid does not exists, taking upgrade
	script from mysql.php ver 2005070202. dropping some unused tables
	during the transition from quiz to question lib

2006-05-16 Tuesday 05:52  mjollnir_

	* view.php: 
	
	mod/quiz/view No-longer display final grade when quiz settings
	forbid it.  Changed view.php so that it checked if there were any
	attempts with concealed grades before printing the student's
	overall score.	Credit: Peter Bulmer <peter.bulmer@catalyst.net.nz>
	Merged from MOODLE_16_STABLE

2006-05-16 Tuesday 05:51  mjollnir_

	* view.php: 
	
	mod/quiz/view No-longer display final grade when quiz settings
	forbid it.  Changed view.php so that it checked if there were any
	attempts with concealed grades before printing the student's
	overall score.	Credit: Peter Bulmer <peter.bulmer@catalyst.net.nz>

2006-05-16 Tuesday 05:36  skodak

	* view.php: 
	
	fixed problem when set both loginhttps and https in wwwroot, closes
	bug #5507 and #3848; merged from MOODLE_16_STABLE

2006-05-16 Tuesday 05:32  skodak

	* view.php: 
	
	fixed problem when set both loginhttps and https in wwwroot, closes
	bug #5507 and #3848

2006-05-16 Tuesday 04:42  gustav_delius

	* attempt.php: 
	
	Answers to essay questions are now saved correctly when navigating
	to another page, fixing bug 4478

2006-05-16 Tuesday 04:27  gustav_delius

	* attempt.php: 
	
	Answers to essay questions are now saved correctly when navigating
	to another page, fixing bug 4478

2006-05-14 Sunday 01:28  gustav_delius

	* lib.php: 
	
	Making sure timelimit is converted to integer before being written
	to database, otherwise postgreSQL complains. Closing bug 5401

2006-05-14 Sunday 01:04  gustav_delius

	* defaults.php, defaults.php: 
	
	Removing obsolete defaults

2006-05-14 Sunday 00:57  gustav_delius

	* comment.php, version.php, db/mysql.php, db/mysql.sql,
	db/postgres7.php, db/postgres7.sql: 
	
	Introduce question_attempts table, closing bug 5468 Fixed incorrect
	check for whether to update state or insert new one in
	save_question_session() Deal with manually graded states correctly
	during regrading Increase state sequence number during manual
	grading Supplied missing userid to quiz_save_best_grade() during
	manual grading

2006-05-14 Sunday 00:41  gustav_delius

	* comment.php, version.php, db/mysql.php, db/mysql.sql,
	db/postgres7.php, db/postgres7.sql: 
	
	Introduce question_attempts table, closing bug 5468 Fixed incorrect
	check for whether to update state or insert new one in
	save_question_session() Deal with manually graded states correctly
	during regrading Increase state sequence number during manual
	grading Supplied missing userid to quiz_save_best_grade() during
	manual grading

2006-05-13 Saturday 18:39  gustav_delius

	* edit.php: 
	
	Updated comments and made sure teacher preview gets restarted when
	changes are saved, fixing bug 5478

2006-05-13 Saturday 18:34  gustav_delius

	* edit.php: 
	
	Updated comments and made sure teacher preview gets restarted when
	changes are saved, fixing bug 5478

2006-05-05 Friday 14:44  toyomoyo

	* timer.js: 
	
	merged fix for 4478

2006-05-05 Friday 14:43  toyomoyo

	* timer.js: 
	
	fix for 4478

2006-05-04 Thursday 07:45  stronk7

	* restorelib.php, restorelib.php: 
	
	Now more quiz actions are restored properly:  -preview	-start
	attempt  -close attempt  -continue attempt (too long. See Bug 5419)
	Bug 5122 (http://moodle.org/bugs/bug.php?op=show&bugid=5122)

2006-05-03 Wednesday 20:27  thepurpleblob

	* locallib.php: 
	
	Now includes question/editlib.php NOTE: This might well be the
	wrong thing to do and need backed out, but until I hear otherwise
	it gets quiz working again!!

2006-05-02 Tuesday 16:37  gustav_delius

	* report/analysis/report.php: 
	
	Fixed column names. Thanks Jean-Michel. See bug 5262

2006-05-01 Monday 01:39  urs_hunkler

	* styles.php: 
	
	cleaned and enhanced CSS for quiz

2006-05-01 Monday 00:23  gustav_delius

	* db/: mysql.php, postgres7.php: 
	
	Make sure that the newgraded field always points to a valid state.

2006-04-28 Friday 07:25  mjollnir_

	* db/postgres7.php: 
	
	Fixing missing global in quiz pg upgrade

2006-04-28 Friday 06:56  stronk7

	* version.php, db/mysql.php, db/postgres7.php: 
	
	Checking one table and one column that, uder some servers didn't
	get correctly upgraded. Bug 5321. PG need testing!
	(http://moodle.org/bugs/bug.php?op=show&bugid=5321)

2006-04-27 Thursday 04:05  gustav_delius

	* db/mysql.php: 
	
	I incorrectly had renamed quiz_ to question_ in some places.

2006-04-24 Monday 17:09  vyshane

	* db/: mysql.php, postgres7.php: 
	
	Fixed inserts for log_display.

2006-04-24 Monday 16:10  toyomoyo

	* db/: mysql.sql, postgres7.sql: 
	
	changed formats for log_display table

2006-04-24 Monday 04:58  skodak

	* view.php: 
	
	block editing now uses PARAM_BOOL

2006-04-21 Friday 07:10  gustav_delius

	* edit.php, editlib.php: 
	
	Fixed code that relied on globals hack. Fixed bug 5261

2006-04-20 Thursday 16:37  urs_hunkler

	* styles.php: 
	
	removed width for multichoice feedback

2006-04-19 Wednesday 10:31  mjollnir_

	* view.php: 
	
	Correcting code to remove warning originating from earlier commit
	Peter Bulmer peterbulmer@catalyst.net.nz

2006-04-19 Wednesday 06:57  mjollnir_

	* locallib.php: 
	
	Avoiding warning in last commit: mod/quiz/index changes to only
	display quiz grades when teacher allows Changes to index.php to
	only allow student to view overall quiz scores when teacher has not
	set options forbidding this, and it can't give away what scores
	were for attempts where results should still be hidden.  Credit:
	Peter Bulmer peterbulmer@catalyst.net.nz

2006-04-19 Wednesday 06:55  mjollnir_

	* index.php, locallib.php: 
	
	mod/quiz/index changes to only display quiz grades when teacher
	allows Changes to index.php to only allow student to view overall
	quiz scores when teacher has not set options forbidding this, and
	it can't give away what scores were for attempts where results
	should still be hidden.  Credit: Peter Bulmer
	peterbulmer@catalyst.net.nz

2006-04-19 Wednesday 06:54  mjollnir_

	* locallib.php: 
	
	mod/quiz/locallib bugfix get_qn_options now uses more sensible
	defaults.  Previously get_question_options used options for
	after-attempt-while-quiz-open, when called while a attempt was
	still in progress.  Changed it to use options for
	immediately-after-attempt instead.  Credit: Peter Bulmer
	peterbulmer@catalyst.net.nz

2006-04-19 Wednesday 06:54  mjollnir_

	* view.php: 
	
	mod/quiz/view changes to only display attempt grades when teacher
	allows.  Changed view.php to only display grades when the teacher
	has not set options forbidding it.  Further, where there is some
	attempts that are allowed to be displayed, and others not,
	highligting of the highest score, and printing of the overall grade
	allocation has been disabled to ensure the hidden grade is not
	revealed.  Credit: Peter Bulmer peterbulmer@catalyst.net.nz

2006-04-19 Wednesday 06:50  mjollnir_

	* review.php: 
	
	mod/quiz/review only display grade summary if student allowed to
	see scores Change to review.php so that the student will only see
	the grade summary if they are allowed to view their scores - as
	determined by quiz options set by the teacher.	Credit: Peter
	Bulmer peterbulmer@catalyst.net.nz

2006-04-19 Wednesday 06:47  mjollnir_

	* review.php: 
	
	mod/quiz/review quiz options loaded once per pageload, not once per
	qn.  Moved loading of quiz review options from loop iterating over
	each qn to be displayed, to the top of the pageload.  Should give
	efficency gains on quizes with long pages, as well as making the
	options available earlier in the process.  Credit: Peter Bulmer
	peterbulmer@catalyst.net.nz

2006-04-18 Tuesday 14:43  toyomoyo

	* db/migrate2utf8.xml: 
	
	fix for 5209

2006-04-14 Friday 05:35  gustav_delius

	* tabs.php: 
	
	Removed settings tab, see bug 5189

2006-04-13 Thursday 08:02  gustav_delius

	* report/overview/report.php: 
	
	Now there is an option to see all attempts, even for users who have
	since unenrolled. That is necessary in order to be able to delete
	these attempts, see http://moodle.org/mod/forum/discuss.php?d=34421

2006-04-13 Thursday 07:24  gustav_delius

	* edit.php, index.php, view.php, report/overview/report.php: 
	
	Fixed display of information about existing attempts.

2006-04-13 Thursday 06:57  gustav_delius

	* report/overview/report.php: 
	
	use function from questionlib.php to delete attempt data

2006-04-13 Thursday 06:48  gustav_delius

	* report/overview/report.php: 
	
	Don't show users who have unenrolled.  Show display options also
	when current options lead to empty table.

2006-04-12 Wednesday 05:49  gustav_delius

	* attempt.php: 
	
	Teachers now can preview timelimited quizzes even after the closing
	date

2006-04-12 Wednesday 00:19  stronk7

	* restorelib.php: 
	
	htmlentities() to s()

2006-04-11 Tuesday 10:20  mark-nielsen

	* report/grading/report.php: 
	
	[BugFix] Bug #5072: user name now links to user profile, Attempts
	column changed to Completed On, new column with link Grade to grade
	all attempts.  Other table changes include collapsible columns and
	its id has been changed to attempts to reuse styles for the
	attempts table.

2006-04-11 Tuesday 10:02  mark-nielsen

	* comment.php: 
	
	[Fix] question_process_comment now processes the correct form
	values [Fix] changed the print_string to get_string so it may be
	passed to notify [Change] The close window button is now centered
	[Change] Refreshes the parent window when the close window button
	is pushed

2006-04-11 Tuesday 06:10  gustav_delius

	* version.php, db/mysql.php, db/postgres7.php, db/mysql.sql,
	db/postgres7.sql: 
	
	Whenever a question is edited the version field is set to
	question_hash(), see bug 2958.

2006-04-11 Tuesday 04:28  gustav_delius

	* report/grading/report.php: 
	
	Manual grading report plugin is now no longer essay-specific.

2006-04-11 Tuesday 03:13  gustav_delius

	* db/mysql.php, db/mysql.sql, db/postgres7.php, db/postgres7.sql,
	version.php: 
	
	Added  action 'continue attempt' to log_display

2006-04-10 Monday 17:48  sam_marshall

	* db/postgres7.sql: 
	
	Fixed syntax error (extra comma) in Postgres version of quiz sql

2006-04-10 Monday 13:08  toyomoyo

	* db/: migrate2utf8.php, migrate2utf8.xml: 
	
	question->qtype

2006-04-10 Monday 06:31  gustav_delius

	* mod.html: 
	
	Simplify text on submit button

2006-04-10 Monday 05:59  gustav_delius

	* version.php, db/mysql.php, db/postgres7.php: 
	
	Make sure all random questions have their parent field correctly
	set, just in case something went wrong here in the past. This may
	have been the cause of bug 5137

2006-04-10 Monday 05:58  gustav_delius

	* review.php: 
	
	Make student name into a link on the review page

2006-04-09 Sunday 05:46  mark-nielsen

	* report/grading/report.php: 
	
	Minor updates:	 comments no longer print inside the question (only
	in the textfield)   fixed problem with quotes by adding addslashes

2006-04-09 Sunday 04:55  mark-nielsen

	* report/grading/report.php: 
	
	Updated the form handling code.  This report is now functional
	again.

2006-04-09 Sunday 02:56  mark-nielsen

	* report/grading/report.php: 
	
	Updated viewquestion to be more generic and moved it to its own
	function

2006-04-09 Sunday 02:24  mark-nielsen

	* report/grading/report.php: 
	
	Updated the viewquestions action to be more generic so that any
	manually graded question type would be compatible.  Moved
	viewquestions code to function view_questions.	This is an attempt
	to make the code much more readable.  All action code will
	eventually be moved to its own function.

2006-04-08 Saturday 23:06  urs_hunkler

	* styles.php: 
	
	copied back the CSS for the timer positioning from version 1.12

2006-04-08 Saturday 20:25  urs_hunkler

	* styles.php: 
	
	copied back the CSS for Item analysis and for grading

2006-04-08 Saturday 16:13  gustav_delius

	* report/grading/report.php: 
	
	This has extra code to exclude preview attempts from the grading

2006-04-08 Saturday 00:17  urs_hunkler

	* attempt.php: 
	
	replaced DEPRECATED center tag with a div. introduced a new
	class=mdl-align with the CSS text-align: center

2006-04-08 Saturday 00:00  gustav_delius

	* locallib.php, review.php, reviewquestion.php, comment.php,
	report/grading/report.php: 
	
	Manual grading

2006-04-07 Friday 13:28  gustav_delius

	* db/: mysql.sql, postgres7.sql: 
	
	Introduce field for teacher comments, in preparation for manual
	grading. I am afraid I forgot to commit this yesterday, so now it
	is possible that some new beta testers installed Moodle without
	this new field.

2006-04-07 Friday 03:59  gustav_delius

	* reviewquestion.php: 
	
	Improvements to response history. Three small bug fixes.

2006-04-07 Friday 00:45  gustav_delius

	* report/grading/report.php: 
	
	Some code cleanup, relying more on the functions from
	questionlib.php. Not currently functional, awaiting the central
	manual grading feature.

2006-04-07 Friday 00:42  gustav_delius

	* db/mysql.php, db/postgres7.php, version.php: 
	
	Introduce field for teacher comments, in preparation for manual
	grading

2006-04-05 Wednesday 17:49  gustav_delius

	* attempt.php: 
	
	Prevent student from seeing quiz when closed, bug 5070

2006-04-05 Wednesday 17:43  gustav_delius

	* attempt.php: 
	
	Prevent student from seeing quiz when closed, bug 5070

2006-04-05 Wednesday 15:39  gustav_delius

	* index.php: 
	
	Fixed call to required_param()

2006-04-05 Wednesday 13:53  gustav_delius

	* editlib.php, review.php, reviewquestion.php, tabs.php, view.php,
	report/default.php, report/grading/report.php,
	report/regrade/report.php: 
	
	Many bugfixes accummulated during CVS outage, more to come.

2006-04-05 Wednesday 10:41  moodler

	* editlib.php, locallib.php: 
	
	Fixed some Javascript errors

2006-04-05 Wednesday 10:40  moodler

	* editlib.php, locallib.php: 
	
	Fixing some Javascript errors on IE

2006-03-29 Wednesday 16:45  gustav_delius

	* report/analysis/: report.php, report.php: 
	
	Moving <td>, fixing bug 5019

2006-03-29 Wednesday 07:31  stronk7

	* restorelib.php: 
	
	Typo.

2006-03-27 Monday 16:45  gustav_delius

	* tabs.php: 
	
	The "Reports" tab is now a "Results" tab so that the grading fits
	in better.

2006-03-27 Monday 16:41  gustav_delius

	* grading.php, tabs.php, report/analysis/report.php,
	report/overview/report.php, report/grading/report.php: 
	
	Improved quiz report plugin mechanism and converted the manual
	grading script into a report plugin

2006-03-26 Sunday 16:16  gustav_delius

	* report/regrade/report.php: 
	
	Turned off regrading of quizzes that have the attemptonlast option
	set because of the bug reported in
	http://moodle.org/mod/forum/discuss.php?d=42029#194212

2006-03-26 Sunday 15:59  gustav_delius

	* attempt.php: 
	
	Moved the code for basing new attempts on previous attempts from
	questions to quiz and fixed the bug reported at
	http://moodle.org/mod/forum/discuss.php?d=42029#194212 in the
	process

2006-03-25 Saturday 05:21  gustav_delius

	* editlib.php: 
	
	Added question type that is used if a question of unknown type is
	encountered.  Also removed some of the unnecessary calls to name()

2006-03-24 Friday 03:56  gustav_delius

	* config.html: 
	
	Removing questiontype settings from quiz settings page

2006-03-24 Friday 03:32  gustav_delius

	* jstimer.php, timer.js: 
	
	Timer now uses the client's clock. Patch contributed by Phillip
	Franks, see bug 4967

2006-03-23 Thursday 06:04  gustav_delius

	* db/: mysql.sql, postgres7.sql: 
	
	The obsolete table quiz_attemptonlast_datasets should no longer get
	created

2006-03-23 Thursday 05:30  gustav_delius

	* review.php, reviewquestion.php: 
	
	Fixed the links to the question review script.

2006-03-23 Thursday 02:27  gustav_delius

	* attempt.php: 
	
	Deleting attempts properly now

2006-03-23 Thursday 01:22  gustav_delius

	* attempt.php, locallib.php: 
	
	Some minor improvements in the handling of review options, the
	setting of timestamp, and improvements to the documentation

2006-03-23 Thursday 01:18  gustav_delius

	* attempt.php: 
	
	Fixed bug 4953

2006-03-22 Wednesday 18:44  gustav_delius

	* db/: mysql.sql, postgres7.sql: 
	
	Questiontypes are doing their own database upgrade now.  I modified
	the enrollment plugin mechanism to work for any type of plugin

2006-03-22 Wednesday 16:41  gustav_delius

	* db/mysql.php, db/postgres7.php, version.php: 
	
	In preparation of the qtype plugin-mechanism give set version
	information for all questiontypes that already have database
	tables.

2006-03-22 Wednesday 07:08  gustav_delius

	* version.php, db/mysql.php, db/mysql.sql, db/postgres7.php,
	db/postgres7.sql: 
	
	Abolished the qtype integers. The question types are now indexed by
	their name as specified by their directory name. This will avoid a
	lot of confusion in future when we have plugable question types.

2006-03-22 Wednesday 02:15  gustav_delius

	* backuplib.php: 
	
	Moved questiontype specific backup functions into questiontype
	classes

2006-03-22 Wednesday 00:50  gustav_delius

	* backuplib.php, restorelib.php: 
	
	Now the question backup code has been separated from the quiz
	backup code.

2006-03-22 Wednesday 00:50  thepurpleblob

	* export.php: 
	
	Fixed hardcoded filepath. Bug #4544.

2006-03-21 Tuesday 17:28  moodler

	* attempt.php, grading.php: 
	
	No reports or grading when there are no questions

2006-03-21 Tuesday 17:24  moodler

	* lib.php, mod.html, view.php: 
	
	Christian's code to support time delays

2006-03-21 Tuesday 17:06  gustav_delius

	* lib.php, locallib.php: 
	
	Moved code to delete questions and question categories to
	lib/questionlib.php Also fixed bug 4949

2006-03-21 Tuesday 07:04  gustav_delius

	* lib.php: 
	
	Some improvements to delete_question()

2006-03-21 Tuesday 04:59  gustav_delius

	* backuplib.php, constants.php, lib.php: 
	
	Moved the quiz constants into lib.php to keep things simple.

2006-03-21 Tuesday 04:45  gustav_delius

	* attempt.php, config.html, constants.php, defaults.php, lib.php,
	mod.html: 
	
	Renaming constants QUIZ_ADAPTIVE and QUIZ_IGNORE_DUPRESP to
	QUESTION_..... and moved them to lib/questionlib.php because they
	are used for question-level options.

2006-03-19 Sunday 17:50  gustav_delius

	* backuplib.php: 
	
	Fixed backup and restore for match questions

2006-03-18 Saturday 22:14  gustav_delius

	* lib.php: 
	
	Multianswer restore now works.	Timelimit is rounded to integer
	before saving in the database Some more diagnostic error messages
	Towards more plugable question types: $QUIZ_MENU is now populated
	by the question types themselves.

2006-03-17 Friday 05:14  gustav_delius

	* restorelib.php: 
	
	Some incomplete work on the restore code (committing only because I
	am moving to a different machine)

2006-03-16 Thursday 11:26  michaelpenne

	* grading.php: 
	
	SQL error occured when viewing this page and no questions have been
	added to the quiz.  This has been fixed.

2006-03-14 Tuesday 02:36  gustav_delius

	* report/overview/report.php: 
	
	If a student has not attempted a question then the grade column for
	that question will show -- instead of 0.

2006-03-14 Tuesday 02:30  gustav_delius

	* report/overview/report.php: 
	
	Somehow missed this table reference during renaming.

2006-03-13 Monday 08:21  gustav_delius

	* attempt.php: 
	
	Truncated long action name in log, see
	http://moodle.org/mod/forum/discuss.php?d=41446#190858

2006-03-13 Monday 08:18  gustav_delius

	* restorelib.php: 
	
	Some work on question restore code, not complete

2006-03-13 Monday 05:16  gustav_delius

	* backuplib.php, edit.php, grading.php, restorelib.php,
	restorelibpre15.php, version.php, db/migrate2utf8.php,
	db/migrate2utf8.xml, db/mysql.php, db/mysql.sql, db/postgres7.php,
	db/postgres7.sql: 
	
	More renamings to separate questions from quiz. Some other small
	fixes.

2006-03-13 Monday 03:23  gustav_delius

	* defaults.php: 
	
	Default values for quiz_delay1 and quiz_delay2

2006-03-08 Wednesday 08:08  skodak

	* edit.php: 
	
	lots of incorrect required_param()'s - there MUST be only two
	parameters not three!!

2006-03-08 Wednesday 07:44  skodak

	* lib.php: 
	
	fixed includes in included files - see bug #4891; backported from
	HEAD

2006-03-08 Wednesday 07:41  skodak

	* lib.php: 
	
	fixed includes in included files - see bug #4891

2006-03-08 Wednesday 05:35  skodak

	* db/migrate2utf8.php: 
	
	short php tags

2006-03-04 Saturday 20:37  skodak

	* report.php: 
	
	incorrect usage of clean_filename() replaced with
	clean_param($text, PARAM_SAFEDIR)

2006-03-02 Thursday 11:02  patrickslee

	* db/migrate2utf8.php: 
	
	Missed undoing the changes to one line for the last revert

2006-03-02 Thursday 11:00  patrickslee

	* db/: migrate2utf8.php, migrate2utf8.xml: 
	
	Backup last commit regarding to the "quiz_" prefixes. There must
	been something wrong with the upgrade code that not renaming those
	tables.

2006-03-02 Thursday 10:25  patrickslee

	* db/: migrate2utf8.php, migrate2utf8.xml: 
	
	Added missing "quiz_" prefixes to table names

2006-03-02 Thursday 09:30  mjollnir_

	* db/postgres7.php: 
	
	Fixing up some RENAME tables in postgres for quiz

2006-03-01 Wednesday 18:42  gustav_delius

	* report/analysis/report.php: 
	
	Fixed incorrect function name, spotted by Penny

2006-03-01 Wednesday 17:30  gustav_delius

	* edit.php, index.php, tabs.php: 
	
	Improvement to tabbed interface

2006-03-01 Wednesday 15:02  gustav_delius

	* backuplib.php, edit.php, editlib.php, grading.php, lib.php,
	locallib.php, quizfile.php, restorelib.php, restorelibpre15.php,
	db/migrate2utf8.php, db/migrate2utf8.xml, db/mysql.php,
	db/mysql.sql, db/postgres7.php, db/postgres7.sql, version.php: 
	
	Some little fixes and more renaming to cleanly separate question
	code from quiz code
	
	Renaming tables: quiz_answers -> question_answers quiz_categories
	-> question_categories
	
	Renaming functions: quiz_get_category_menu ->
	question_category_menu quiz_get_category_coursename ->
	question_category_coursename quiz_categorylist ->
	question_categorylist

2006-03-01 Wednesday 11:00  mjollnir_

	* report/overview/report.php: 
	
	Updated the comments around the horrible sql construction in the
	quiz reports for overview & response

2006-03-01 Wednesday 10:44  mjollnir_

	* report/overview/report.php: 
	
	Tidyup of whitespace and commented out stuff from last commit

2006-03-01 Wednesday 10:20  mjollnir_

	* report/overview/report.php: 
	
	By popular request - quiz report now shows students with attempts
	only, students with no attempts only, students with attempts AND no
	attempts. This fixes bugs #4406 and #4353

2006-03-01 Wednesday 10:17  mjollnir_

	* version.php, db/postgres7.php: 
	
	Fixing up a badly named quiz table in postgres. PLEASE remember
	that you cannot just do RENAME - it breaks the sequences

2006-03-01 Wednesday 08:49  mjollnir_

	* report/overview/report.php: 
	
	Added comments in the horribly complicated sql around the quiz
	report (fixes bug # 4406)

2006-02-28 Tuesday 17:25  gustav_delius

	* attempt.php, backuplib.php, edit.php, editlib.php, grading.php,
	lib.php, locallib.php, quizfile.php, report.php, restorelib.php,
	restorelibpre15.php, review.php, reviewquestion.php, version.php,
	db/migrate2utf8.php, db/migrate2utf8.xml, db/mysql.php,
	db/mysql.sql, db/postgres7.sql, report/analysis/report.php,
	report/overview/report.php, report/regrade/report.php: 
	
	Towards removing reference to quiz module from the question code
	
	Renaming tables: quiz_questions -> question quiz_states ->
	question_states
	
	Renaming functions: quiz_delete_question -> delete_question
	quiz_get_question_options -> get_question_options quiz_get_states
	-> get_question_states quiz_restore_state -> restore_question_state
	quiz_save_question_session -> save_question_session
	quiz_state_is_graded -> question_state_is_graded
	quiz_extract_responses -> question_extract_responses
	quiz_regrade_question_in_attempt -> regrade_question_in_attempt
	quiz_process_responses -> question_process_responses
	quiz_isgradingevent -> question_isgradingevent($event)
	quiz_search_for_duplicate_responses ->
	question_search_for_duplicate_responses
	quiz_apply_penalty_and_timelimit ->
	question_apply_penalty_and_timelimit quiz_print_question_icon ->
	print_question_icon quiz_get_image -> get_question_image
	quiz_make_name_prefix -> question_make_name_prefix
	quiz_get_id_from_name_prefix -> question_get_id_from_name_prefix
	quiz_new_attempt_uniqueid -> question_new_attempt_uniqueid
	quiz_get_renderoptions -> question_get_renderoptions
	quiz_print_quiz_question -> print_question
	quiz_get_question_responses -> get_question_responses
	quiz_get_question_actual_response -> get_question_actual_response
	quiz_get_question_fraction_grade -> get_question_fraction_grade
	quiz_get_default_category -> get_default_question_category
	
	Renaming constants: QUIZ_EVENT.... -> QUESTION_EVENT.... 
	QUIZ_MAX_NUMBER_ANSWERS -> QUESTION_NUMANS

2006-02-26 Sunday 01:27  urs_hunkler

	* styles.php: 
	
	CSS enhancements and corrections

2006-02-25 Saturday 02:49  thepurpleblob

	* locallib.php: 
	
	Moving export default filename function.

2006-02-24 Friday 23:49  thepurpleblob

	* export.php, import.php, format.php: 
	
	Removed from old location

2006-02-24 Friday 23:46  thepurpleblob

	* locallib.php: 
	
	Removed import export functions

2006-02-24 Friday 23:00  urs_hunkler

	* styles.php: 
	
	class added to the submit button to be able to position it I
	optimized display.html and CSS same class name for different
	objects is problematic _ quiz table and question table must not be
	named with same class _ surrounding tabel: class="multichoice|etc"
	_ answer table: class="answer" I changed the classname of the
	"answer" div to class="ablock" (short from "answer-block") that it
	does not conflict with "answer" multichoice: _ changed first row to
	class="r0" _ added descriptive classes to the cells

2006-02-24 Friday 21:48  gustav_delius

	* config.html, edit.php, editlib.php, format.php, grading.php,
	quizfile.php, reviewquestion.php, db/mysql.php,
	report/analysis/report.php, report/overview/report.php,
	report/regrade/report.php: 
	
	Renamed QUIZ_QTYPES to QTYPES

2006-02-24 Friday 20:53  gustav_delius

	* locallib.php: 
	
	Moved function quiz_question_used from mod/quiz/locallib.php to
	question_used in lib/questionlib. Fixed some more links.

2006-02-24 Friday 18:50  gustav_delius

	* version.php: 
	
	Bumped version number (hadn't been done in a long time) in order to
	be able to require latest Moodle version in the quiz module.

2006-02-24 Friday 18:43  gustav_delius

	* category.php, category_class.php, constants.php, edit.php,
	editlib.php, export.php, import.php, locallib.php, preview.php,
	question.php, questionlib.php, restorelib.php, tabs.php,
	report/default.php, report/analysis/report.php: 
	
	Updated quiz scripts to work with the separate question scripts in
	moodle/question

2006-02-24 Friday 16:13  toyomoyo

	* db/migrate2utf8.php: 
	
	see changes for admin/utfdbmigrate.php

2006-02-24 Friday 09:10  martinlanghoff

	* backuplib.php: 
	
	mod/quiz/backuplib: tiny syntax fix - thanks Nigel

2006-02-24 Friday 03:16  gustav_delius

	* backuplib.php: 
	
	Backing up the 'originalquestion' field

2006-02-24 Friday 03:14  gustav_delius

	* restorelib.php: 
	
	Restoring the 'originalquestion' field

2006-02-24 Friday 03:12  gustav_delius

	* constants.php: 
	
	Experimenting with a new event type to accommodate teacher-marked
	questions. This is work in progress.

2006-02-24 Friday 00:55  thepurpleblob

	* category_class.php: 
	
	Whoops - ranges for categories on each page were incorrect. Plus
	added sesskey to page numbers.

2006-02-24 Friday 00:05  thepurpleblob

	* category.php, category_class.php: 
	
	Improvements to pagination. Linked to all actions now.

2006-02-23 Thursday 23:26  thepurpleblob

	* category.php, category_class.php: 
	
	Added some basic pagination to categories screen. Probably needs a
	bit more refinement.

2006-02-23 Thursday 03:19  gustav_delius

	* editlib.php: 
	
	Keep the action icons in the category questions list from wrapping.
	Eventually this editing page needs to be styled properly with css.

2006-02-23 Thursday 03:12  gustav_delius

	* version.php, db/mysql.php: 
	
	Some mysql versions appear not to be willing to convert an empty
	string into a float. So setting all empty fields to 0 first.

2006-02-22 Wednesday 18:47  thepurpleblob

	* category.php, category_class.php: 
	
	Split out category class, and moved display part of code to it's
	own section. About to make some changes related to large numbers of
	categories (pagination etc).

2006-02-22 Wednesday 08:17  gustav_delius

	* questionlib.php: 
	
	To determine whether a question has been graded we can now no
	longer look at wether the grade is the empty string because the
	grade is now always a number. Instead we use the
	$state->last_graded->event field.

2006-02-22 Wednesday 07:53  urs_hunkler

	* styles.php: 
	
	started to build the CSS for the new quizzes. While working on it I
	will write all into styles.php. When finished I will put the CSS
	into the standard themes. The quiz part in the standard theme is
	deactivated.

2006-02-21 Tuesday 05:10  gustav_delius

	* import.php: 
	
	Fix for bug 4810

2006-02-21 Tuesday 00:42  thepurpleblob

	* export.php: 
	
	added forcedownload=1 to exported file download.  Partly fixes
	problem with <pre> tags getting added by file.php

2006-02-20 Monday 17:04  gustav_delius

	* db/postgres7.sql: 
	
	Changed grade fields to type real, added missing essay question
	tables.

2006-02-20 Monday 09:41  toyomoyo

	* db/migrate2utf8.xml: 
	
	changed some grade fields into float type, see #4806

2006-02-20 Monday 07:15  mjollnir_

	* db/postgres7.php: 
	
	Fixed up a few tiny syntax errors in quiz upgrade

2006-02-20 Monday 07:08  gustav_delius

	* db/postgres7.php: 
	
	This way around will work better. Sorry, I am tired.

2006-02-20 Monday 07:06  gustav_delius

	* db/postgres7.php: 
	
	Tables for essay questions. Penny will check I didn't mess this up.

2006-02-20 Monday 06:49  gustav_delius

	* db/postgres7.php: 
	
	Changing grade fields to float for postgre

2006-02-20 Monday 06:19  gustav_delius

	* version.php, db/mysql.php, db/mysql.sql: 
	
	Changing grade fields to float for mysql. Asking Penny to do the
	same for postgreSQL

2006-02-20 Monday 05:47  gustav_delius

	* backuplib.php: 
	
	Backported fix for bug 4217  to STABLE

2006-02-20 Monday 05:46  gustav_delius

	* backuplib.php: 
	
	Revert the fix to $status because it turns out that for example
	backup_putid() returns false when called with an id that has
	already been added.

2006-02-20 Monday 01:41  gustav_delius

	* backuplib.php: 
	
	Fix for bug 4217

2006-02-20 Monday 00:34  gustav_delius

	* edit.php, editlib.php: 
	
	Added the much-requested question reordering tool

2006-02-19 Sunday 05:08  gustav_delius

	* questionlib.php: 
	
	get_image now only returns the link, leaving the formating of the
	img tag up to the template

2006-02-19 Sunday 05:07  gustav_delius

	* config.html, mod.html: 
	
	New defaults, strings and help files for shuffle options

2006-02-19 Sunday 03:03  gustav_delius

	* version.php: 
	
	updated required Moodle version in an attempt to stop people
	installing the unstable quiz module code (I use unstable in the
	sense of rapidly changing, not in the sense of buggy of course :-))

2006-02-19 Sunday 01:32  gustav_delius

	* questionlib.php: 
	
	First steps towards separating logic and layout in the printing of
	questions: the print_question() method in the default question type
	now uses the template question.html

2006-02-18 Saturday 23:11  gustav_delius

	* tabs.php: 
	
	The import tab has to provide the course id.

2006-02-18 Saturday 23:09  gustav_delius

	* editlib.php: 
	
	An additional sorting order for category question list

2006-02-18 Saturday 21:09  gustav_delius

	* import.php: 
	
	Make sure teachers can only import into categories for which they
	have editing rights.

2006-02-18 Saturday 01:15  gustav_delius

	* edit.php, question.php: 
	
	Changing headers to decoupling the question editing page from the
	quiz module.

2006-02-17 Friday 02:15  gustav_delius

	* backuplib.php: 
	
	As Eloy pointed out, my recent addition for including child
	categories used by random questions did not restrict to the course
	or the instances currently being backed up.

2006-02-16 Thursday 18:26  gustav_delius

	* category.php: 
	
	Changed language string "Move category to" to "Parent", see bug
	4727

2006-02-16 Thursday 08:30  michaelpenne

	* review.php, view.php: 
	
	Removed changes made earlier for ungraded essay questions.  Will
	try to find an alternate method.

2006-02-16 Thursday 06:30  gustav_delius

	* backuplib.php: 
	
	Now contains code to also backup those categories needed by random
	questions that recurse into child categories.  Fixed the way the
	$status flag is handled.

2006-02-16 Thursday 06:18  gustav_delius

	* category.php: 
	
	Fixed bug leading to warnings

2006-02-15 Wednesday 16:59  gustav_delius

	* locallib.php, db/mysql.php: 
	
	Applied fixes from bug 4319. Thanks to Jaroslav

2006-02-15 Wednesday 16:56  gustav_delius

	* db/mysql.php, locallib.php: 
	
	Applied fixes from bug 4319. Thanks to Jaroslav

2006-02-15 Wednesday 16:38  gustav_delius

	* version.php, db/mysql.php, db/postgres7.php: 
	
	Renamed table quiz_newest_states to question_sessions

2006-02-15 Wednesday 16:34  gustav_delius

	* attempt.php, backuplib.php, grading.php, lib.php, locallib.php,
	question.php, questionlib.php, restorelib.php, review.php,
	reviewquestion.php, version.php, view.php, db/migrate2utf8.xml,
	db/mysql.php, db/mysql.sql, db/postgres7.php, db/postgres7.sql,
	report/overview/report.php, report/regrade/report.php: 
	
	Renamed table quiz_newest_states to question_sessions

2006-02-15 Wednesday 16:13  gustav_delius

	* editlib.php: 
	
	Removed unnecessary code: questions are only deleted if they have
	no attempts.

2006-02-15 Wednesday 08:21  gustav_delius

	* locallib.php: 
	
	Sorry, I was a bit hasty in my last commit.

2006-02-15 Wednesday 08:19  gustav_delius

	* locallib.php: 
	
	Don't apply lateness check when teacher previews. Bug 4495

2006-02-15 Wednesday 08:16  gustav_delius

	* questionlib.php: 
	
	Don't apply lateness check when teacher previews.

2006-02-15 Wednesday 07:24  gustav_delius

	* report/overview/report.php: 
	
	removed a warning, see bug 4406

2006-02-15 Wednesday 07:08  gustav_delius

	* review.php: 
	
	Round also the raw score.

2006-02-15 Wednesday 06:55  gustav_delius

	* restorelib.php: 
	
	backported fixes from HEAD, closing bug 4688

2006-02-15 Wednesday 03:18  gustav_delius

	* locallib.php: 
	
	Rounding errors could lead to "Partially correct" for correct
	answers, see http://moodle.org/mod/forum/discuss.php?d=39548

2006-02-15 Wednesday 02:21  gustav_delius

	* mod.html: 
	
	Fixed submit buttons

2006-02-14 Tuesday 13:12  moodler

	* config.html: 
	
	Added new feature: time delay between quiz attempts

2006-02-14 Tuesday 10:01  mjollnir_

	* version.php, db/postgres7.php, db/postgres7.sql: 
	
	fixing bug # 4751 - adding unique key in postgres for mod/quiz for
	gustav

2006-02-14 Tuesday 07:34  gustav_delius

	* version.php, db/mysql.php, db/mysql.sql, db/postgres7.php,
	db/postgres7.sql: 
	
	convert sequence field to text to accomodate very long sequences,
	see bug 4257

2006-02-14 Tuesday 07:15  gustav_delius

	* version.php, db/mysql.php, db/mysql.sql, db/postgres7.php,
	db/postgres7.sql: 
	
	Matching questions now no longer give away the answer in the page
	source, see bug 694 (that is an old bug!)

2006-02-14 Tuesday 04:27  michaelpenne

	* review.php, view.php: 
	
	The following changes were made to help reduce confusion for
	students when essay questions are being used in a quiz.
	
	    - When a essay question has been submitted or being reviewed
	and has not been graded by the instructor, then the Marks are not
	shown and displays a message to the student instead of saying
	Incorrect. (changes to questiontypes/questiontype.php in functions
	print_question and print_question_grading_details).
	
	    - For students, in view.php, a notice is printed to inform
	him/her that s/he has ungraded essay question(s).
	    - For teachers, in view.php, a notice is printed to inform
	him/her that s/he has X number of ungraded essays for X number of
	studnets
	
	    - In review.php, next to the grade output, informs the viewer
	if X number of ungraded essays in this attempt.
	
	    - In questiontypes/essay/questiontype.php created a utility
	function to generate the numbers used in the above changes.
	
	    - In lang/en/quiz.php added new lang entries.
	
	So, hopefully the student will now understand that their grade does
	not include the ungraded essay questions.  Modification of lang
	entries might be needed to further drive this point.

2006-02-13 Monday 22:46  thepurpleblob

	* format.php: 
	
	Added initialisation method for question object. Permits setting of
	default values for required (but not imported) database fields. 
	Bug #4752

2006-02-13 Monday 21:20  gustav_delius

	* version.php, db/mysql.php, db/mysql.sql: 
	
	Added a unique index for attempt->uniqueid

2006-02-13 Monday 19:23  gustav_delius

	* view_js.php: 
	
	Fixing javascript, see bug 4418

2006-02-13 Monday 09:47  moodler

	* restorelib.php, backuplib.php: 
	
	Adding new feature: Time delay between quiz attempts

2006-02-13 Monday 09:45  moodler

	* config.html: 
	
	Adding new feature: delay between quiz attempts

2006-02-13 Monday 06:37  gustav_delius

	* question.php, question.php: 
	
	Added missing percentages to the grade selector, closing bug 4250

2006-02-13 Monday 05:50  gustav_delius

	* category.php: 
	
	Made page compatible with new tabbed interface and removed continue
	button as requested in bug 2919

2006-02-13 Monday 05:23  gustav_delius

	* locallib.php, mod.html: 
	
	Stopped using the language strings for the assignment module
	because that was requested in bug 4558.

2006-02-13 Monday 05:08  gustav_delius

	* lib.php, locallib.php, review.php, view.php,
	report/overview/report.php: 
	
	Avoid error messages in case $quiz->sumgrades is zero, closing bug
	4454. Merged from STABLE

2006-02-13 Monday 05:02  gustav_delius

	* lib.php, locallib.php, review.php, view.php,
	report/overview/report.php: 
	
	Avoid error messages in case $quiz->sumgrades is zero, closing bug
	4454

2006-02-12 Sunday 23:28  gustav_delius

	* db/mysql.php, db/mysql.sql, db/postgres7.php, db/postgres7.sql,
	version.php: 
	
	Added field to versioning table needed by new versioning table (to
	be committed later)

2006-02-12 Sunday 23:24  gustav_delius

	* questionlib.php: 
	
	quiz_delete_question() now recursively also deletes data associated
	with newer versions of the question.

2006-02-12 Sunday 17:46  gustav_delius

	* backuplib.php, restorelib.php, version.php, db/mysql.php,
	db/mysql.sql, db/postgres7.php, db/postgres7.sql: 
	
	shuffleanswers option can now also be set at the question level,
	see http://moodle.org/mod/forum/discuss.php?d=39371

2006-02-12 Sunday 06:37  gustav_delius

	* question.php: 
	
	Put the default grade option onto question edit forms, see
	http://moodle.org/mod/forum/discuss.php?d=39371#181767

2006-02-12 Sunday 05:07  gustav_delius

	* editlib.php, preview.php, version.php, db/mysql.php,
	db/postgres7.php: 
	
	Put the default grade option onto question edit forms, see
	http://moodle.org/mod/forum/discuss.php?d=39371#181767

2006-02-09 Thursday 21:57  gustav_delius

	* category.php, config.html, edit.php, export.php, import.php,
	mod.html, tabs.php: 
	
	Added a second row of tabs to the Edit tab: Questions, Categories,
	Import, Export, Settings Added phpdoc header to some files Improved
	language string and help file for decimal digits on grades

2006-02-09 Thursday 20:29  gustav_delius

	* db/mysql.sql: 
	
	Added defaults to database fields needed by msyql 5

2006-02-09 Thursday 19:50  thepurpleblob

	* category.php: 
	
	parameters all go through required_param() and optional_param()

2006-02-08 Wednesday 12:43  moodler

	* attempt.php, mod.html, defaults.php: 
	
	Added new feature, the time enforced delay on attempting quizzes

2006-02-08 Wednesday 12:41  moodler

	* db/: mysql.php, mysql.sql, postgres7.php, postgres7.sql: 
	
	Add two new fields for time enforced delay between two quizzes

2006-02-08 Wednesday 12:37  moodler

	* version.php: 
	
	Adding two new fields for time enforced delay between quiz

2006-02-07 Tuesday 08:44  gustav_delius

	* lib.php, questionlib.php: 
	
	Introduced function quiz_delete_question() and questiontype methods
	delete_question()

2006-02-07 Tuesday 07:28  gustav_delius

	* questionlib.php: 
	
	Silenced notices produced by flush() and ob_flush() in regrading
	code.

2006-02-07 Tuesday 07:25  gustav_delius

	* questionlib.php: 
	
	Another improvement on regrading. The code thought that grading for
	a question changed if the grade was like 1/3. The precision in the
	database is different than the newly calculated grade, so now we
	round both values to 5 decimal places, which should fix this
	problem. This was committed to STABLE  by Julian a long time ago

2006-02-07 Tuesday 05:41  gustav_delius

	* view.php: 
	
	Fixing wrong language string name, see bug 4254

2006-02-07 Tuesday 04:58  mjollnir_

	* report/overview/report.php: 
	
	Added back a field I missed when reworking the sql for quiz reports
	- qa.uniqueid as attemptuniqueid - after skype discussion with
	gustav

2006-02-07 Tuesday 04:54  mjollnir_

	* report/: analysis/report.php, overview/report.php: 
	
	Fixing bug #4345: quiz report perf issues I fixed last year not
	working on mysql 3.23.	We have JOIN ... ON for INNER JOIN but not
	JOIN in mysql 3.23.  Not merging to 1.6 as requirements are bumped

2006-02-07 Tuesday 04:44  gustav_delius

	* lib.php: 
	
	reverting change made by Martin D when going to version 1.230

2006-02-06 Monday 02:58  gustav_delius

	* questionlib.php: 
	
	Fixing image link, closing bug 4489

2006-02-06 Monday 02:31  gustav_delius

	* questionlib.php: 
	
	Reverting a change which Martin made in an attempt to encrypt
	information in the matching questiontype which unfortunately broke
	a lot of other question types.

2006-02-05 Sunday 08:34  gustav_delius

	* locallib.php, questionlib.php: 
	
	Fix for bug 4678 contributed by rwmoore

2006-01-31 Tuesday 10:11  moodler

	* db/migrate2utf8.php: 
	
	changed to use utfconvert function

2006-01-31 Tuesday 07:17  gustav_delius

	* view.php: 
	
	shortened language string name as requested in bug 4568

2006-01-31 Tuesday 05:09  gustav_delius

	* reviewoptions.html: 
	
	Fixed alignment of form elements in IE

2006-01-31 Tuesday 05:04  gustav_delius

	* reviewoptions.html: 
	
	Fixed alignment of form elements in IE

2006-01-23 Monday 13:41  moodler

	* db/migrate2utf8.php: 
	
	bug fixing

2006-01-17 Tuesday 15:31  moodler

	* db/: migrate2utf8.xml, mysql.sql: 
	
	Added default values where needed for columns in the MySQL creation
	script mysql.sql.  Added default values to migrate2utf8.xml, for
	any varchar and text field types, if the default values for these
	fields were not defined as '' in the MySQL table creation script.
	
	Committed by vyshane

2006-01-16 Monday 14:29  ikawhero

	* view.php: 
	
	Quiz summary text shouldn't be cleaned as only entered by teacher
	Merged from stable

2006-01-16 Monday 14:19  ikawhero

	* view.php: 
	
	Quiz summary text shouldn't be cleaned as only entered by teacher.

2006-01-16 Monday 05:09  mjollnir_

	* question.php, restorelib.php, restorelibpre15.php: 
	
	Abstracted a bit of the restore procedure to allow for silent
	restoring.  Added new function, import_backup_file_silently Changed
	everything that prints stuff to check for a constant first. 
	Backup_flush checks a different constant, this is so that output
	can still get flushed to the browser when necessary but not print
	<li>s everywhere.  Please test this!

2006-01-13 Friday 15:24  toyomoyo

	* db/: migrate2utf8.php, migrate2utf8.xml: 
	
	more bug fixes =(

2006-01-13 Friday 11:45  mjollnir_

	* backuplib.php, restorelib.php, restorelibpre15.php: 
	
	Granular backup & restore: This patch allows the much requested
	selection of individual instances of modules within a course to
	backup and restore.  It needs A LOT of testing and probably some
	prettyifying too.

2006-01-12 Thursday 10:35  toyomoyo

	* db/: migrate2utf8.php, migrate2utf8.xml: 
	
	some bug fixes

2006-01-11 Wednesday 09:46  toyomoyo

	* db/: migrate2utf8.php, migrate2utf8.xml: 
	
	added 2 fields in xml, addindex and dropindex, and bug fixes

2006-01-11 Wednesday 09:00  mjollnir_

	* view.php, view_js.php: 
	
	Quiz confirmation popup is now for limited attempts and/or
	timelimit, or a combination of the above

2006-01-09 Monday 14:06  toyomoyo

	* db/: migrate2utf8.php, migrate2utf8.xml: 
	
	utf8 migration support scripts

2006-01-09 Monday 09:25  toyomoyo

	* view.php, view_js.php: 
	
	bug fix for #4504

2006-01-06 Friday 15:26  moodler

	* styles.php: 
	
	Nicer presentation of quiz questions (merged from stable)

2006-01-06 Friday 15:24  moodler

	* styles.php: 
	
	Nicer presentation of quiz questions

2006-01-06 Friday 00:43  stronk7

	* report/: analysis/report.php, overview/report.php: 
	
	Now Quiz is using the new Excel generation API.
	
	Merged from MOODLE_16_UTF8. Abandoning the branch.

2006-01-05 Thursday 15:09  moodler

	* export.php, import.php: 
	
	Various old fixes that had not been checked in

2005-12-23 Friday 14:29  toyomoyo

	* view.php, view_js.php: 
	
	cookieless patch for quiz

2005-12-20 Tuesday 03:28  stronk7

	* report/: analysis/report.php, overview/report.php: 
	
	Now Quiz is using the new Excel generation API

2005-12-14 Wednesday 12:15  patrickslee

	* attempt.php, category.php, editlib.php, jstimer.php, lib.php,
	mod.html, pagelib.php, preview.php, questionlib.php,
	restorelib.php, restorelibpre15.php, styles.php, timer.js,
	version.php, view.php, db/postgres7.php,
	report/analysis/report.php, report/overview/report.php,
	report/regrade/report.php: 
	
	Merged with MOODLE_16_MULTIENROL_MP1

2005-12-07 Wednesday 05:01  patrickslee

	* category.php: 
	
	Fixed a typo in quiz_category_object->output_edit_single_table()
	Merged from MOODLE_15_STABLE

2005-12-07 Wednesday 05:01  patrickslee

	* category.php: 
	
	Fixed a typo in quiz_category_object->output_edit_single_table()

2005-12-07 Wednesday 04:49  patrickslee

	* locallib.php: 
	
	Fixed some kind of typo prevented sumgrades grounding to work

2005-12-05 Monday 14:15  moodler

	* preview.php: 
	
	Merged from stable, added autocomplete=off (Bug #4423 - Short
	Answer Quiz Q's Saving Form Entries)

2005-12-05 Monday 14:14  moodler

	* preview.php: 
	
	Added autocomplete=off in form tag to fix (Bug #4423 - Short Answer
	Quiz Q's Saving Form Entries)

2005-12-05 Monday 14:11  moodler

	* attempt.php: 
	
	Merged from stable (Bug #4423 - Short Answer Quiz Q's Saving Form
	Entries)

2005-12-05 Monday 14:05  moodler

	* attempt.php: 
	
	Added autocomplete=off in form tag to avoid browser autocomplete
	(bug:4423)

2005-11-28 Monday 12:21  moodler

	* locallib.php: 
	
	Added some more CSS hooks for the correctness feedback

2005-11-24 Thursday 06:22  defacer

	* lib.php: 
	
	
	The bug where an event was not created for
	closing-time-only-supplied quizzes also existed when updating a
	quiz instance (not only adding)...

2005-11-24 Thursday 05:34  defacer

	* lib.php: 
	
	
	Fix for bug 4358:
	
	No "Quiz closes" event was created for quizzes which ONLY had a
	closing date

2005-11-24 Thursday 05:16  defacer

	* mod.html: 
	
	
	Searching around in the langfile, it seems that these are the
	correct strings for the helpbuttons' title attribute. I added the
	first helpbutton back in as well (exists in 1.5.3+ but not in
	HEAD???).

2005-11-24 Thursday 05:00  defacer

	* mod.html: 
	
	
	Fixing one get_string() that didn't specify the Quiz langfile, and
	changing another to be uniform with the help file title.
	
	Some things in the langfile need fixing too, coming right up.

2005-11-23 Wednesday 17:46  stronk7

	* restorelib.php, restorelibpre15.php: 
	
	Log actions must be strored to DB without &amp; print_log() takes
	care of it! Bug 3853. 
	(http://moodle.org/bugs/bug.php?op=show&bugid=3853)
	
	Merged from MOODLE_15_STABLE

2005-11-23 Wednesday 17:39  stronk7

	* restorelib.php, restorelibpre15.php: 
	
	Log actions must be strored to DB without &amp; print_log() takes
	care of it! Bug 3853. 
	(http://moodle.org/bugs/bug.php?op=show&bugid=3853)

2005-11-19 Saturday 05:03  mjollnir_

	* report/overview/report.php: 
	
	Merged from MOODLE_15_STABLE: Fixing bug 4345: merging problem when
	fixing bug 4303

2005-11-19 Saturday 05:02  mjollnir_

	* report/overview/report.php: 
	
	Fixing bug 4345: merging problem when fixing bug 4303

2005-11-17 Thursday 00:35  skodak

	* editlib.php: 
	
	quoting typo; merged from MOODLE_15_STABLE

2005-11-17 Thursday 00:33  skodak

	* editlib.php: 
	
	quoting type

2005-11-16 Wednesday 09:38  mjollnir_

	* report/overview/report.php: 
	
	Merged from MOODLE_15_STABLE: Fixing merging problem in the quiz
	report fix ealier - disabling wrong checkbox for site course quizes

2005-11-16 Wednesday 09:37  mjollnir_

	* report/overview/report.php: 
	
	Fixing merging problem in the quiz report fix ealier - disabling
	wrong checkbox for site course quizes

2005-11-16 Wednesday 06:23  mjollnir_

	* report/: analysis/report.php, overview/report.php: 
	
	Merged from MOODLE_15_STABLE: Fixing bug 4303 - quiz reports dying
	on large enrolments - getting all users into an array and imploding
	it into an IN() replaced with joins. This changes the functionality
	SLIGHTLY in two ways - 1. show students with no attempts now JUST
	shows students with no attempts, rather than both.  Show students
	with no attempts is now disabled for the site course as is not
	really relevant and could be ridiculously large

2005-11-16 Wednesday 06:07  mjollnir_

	* report/: analysis/report.php, overview/report.php: 
	
	Fixing bug 4303 - quiz reports dying on large enrolments - getting
	all users into an array and imploding it into an IN() replaced with
	joins. This changes the functionality SLIGHTLY in two ways - 1.
	show students with no attempts now JUST shows students with no
	attempts, rather than both.  Show students with no attempts is now
	disabled for the site course as is not really relevant and could be
	ridiculously large

2005-11-10 Thursday 00:11  thepurpleblob

	* export.php, import.php: 
	
	Uneccessary call to build category list that was grinding systems
	to a halt with large numbers of categories.

2005-11-09 Wednesday 10:17  moodler

	* pagelib.php: 
	
	added pop up blocker checker

2005-11-09 Wednesday 10:16  moodler

	* view.php: 
	
	added popup checker in quiz

2005-11-08 Tuesday 14:56  moodler

	* questionlib.php: 
	
	Added encryption to the select form names so that it's a lot more
	difficult to cheat on these questions by looking at HTML source.  
	SC178

2005-11-04 Friday 18:04  thepurpleblob

	* editlib.php, export.php: 
	
	Brought in line with HEAD version to get rid of data_submitted()
	function.  A bit of HTML cleaning up too. Fixes incompatibility
	with secureforms.

2005-11-01 Tuesday 11:29  moodler

	* lib.php, report/regrade/report.php: 
	
	Merged changes from STABLE.
	
	Not sure I did the right thing on
	questiontypes/calculated/questiontype.php Hope I didn't create a
	bug there.
	
	(can people please remember to merge changes into head whenever
	they change stable?)

2005-10-31 Monday 15:44  moodler

	* view.php: 
	
	Language key [[guestno]] corrected to [[guestsno]] (bug 4254).

2005-10-28 Friday 11:54  moodler

	* report/overview/report.php: 
	
	Fix for incorrect order of question numbers when downloading
	detailed results as Excel spreadsheet. Merged from STABLE. (SE)

2005-10-28 Friday 11:30  ikawhero

	* report/overview/report.php: 
	
	Question numbers in the header were in the incorrect order when
	downloading results as an Excel spreadsheet.

2005-10-28 Friday 10:22  patrickslee

	* report/overview/report.php: 
	
	Fixed dis-ordered displaying for quiz overview report when no
	soring is specified (Merged from MOODLE_15_STABLE)

2005-10-28 Friday 10:12  patrickslee

	* report/overview/report.php: 
	
	Fixed dis-ordered displaying for quiz overview report when no
	soring is specified

2005-10-22 Saturday 23:46  urs_hunkler

	* jstimer.php, styles.php, timer.js: 
	
	merged from 1.5

2005-10-22 Saturday 23:29  urs_hunkler

	* jstimer.php, styles.php, timer.js: 
	
	I reworked the timer JavaScript and the CSS properties. The
	floating of  the timer now works in MSIE, Firefox and Opera the
	same way. The first correction was not sufficient.

2005-10-20 Thursday 15:58  thepurpleblob

	* editlib.php: 
	
	& should have been &amp; (of course)

2005-10-19 Wednesday 13:41  thepurpleblob

	* editlib.php, export.php: 
	
	Strange missing parameter - bug #4121

2005-10-17 Monday 09:18  patrickslee

	* report/regrade/report.php: 
	
	Fixed a small bug which displays quiz name incorrectly in quiz
	regrade report

2005-10-05 Wednesday 09:36  mjollnir_

	* version.php, db/postgres7.php: 
	
	Merged from MOODLE_15_STABLE (ish): Fixing the mass migrate
	postgres upgrade to be silent in quiz. Added a fix to a previous
	rename table that breaks pg_dump & pg_restore (incorrectly named
	sequence)

2005-10-05 Wednesday 09:35  mjollnir_

	* version.php, db/postgres7.php: 
	
	Fixing the mass migrate postgres upgrade to be silent in quiz.
	Added a fix to a previous rename table that breaks pg_dump &
	pg_restore (incorrectly named sequence)

2005-10-03 Monday 06:03  patrickslee

	* questionlib.php: 
	
	Improved number rounding for grades fix (Merged from
	MOODLE_15_STABLE

2005-10-03 Monday 05:57  patrickslee

	* locallib.php: 
	
	Improved number rounding for grades fix

2005-10-01 Saturday 19:07  mindforge

	* locallib.php: 
	
	Changed the review 'scores' option to also take effect on the
	standard feedback displayed at the bottom of a question.

2005-09-29 Thursday 19:06  mindforge

	* locallib.php: 
	
	Fixed addslashes and stripslashes of responses. Now slashes are
	stripped in quiz_extract_responses, leading to an improvement in
	grading (before " a man's world" would have been graded as "a
	man\'s world").
	
	In order for the responses to be written to the database correctly
	the function quiz_save_question_sessions adds slashes again before
	writing the data to the database (and before passing it to the
	questiontype method save_session_and_responses) and strips them
	again after all the work is done, thus leaving the responses fields
	unmodified for the subsequent code.
	
	An additional benefit of this change is that answer fields that are
	automatically filled after a submit don't get more and more slashes
	added (e.g. ' used to become \' after the first and \\\' after the
	second commit).

2005-09-29 Thursday 06:35  mindforge

	* lib.php: 
	
	Added code to delete records from quiz_newest_states when a quiz
	instance is deleted.

2005-09-26 Monday 20:31  mindforge

	* report/regrade/report.php: 
	
	A better fix for bug #4110 and the previous one undone.

2005-09-26 Monday 19:22  mindforge

	* report/regrade/report.php: 
	
	Possible fix for bug #4110.

2005-09-26 Monday 17:18  mindforge

	* locallib.php: 
	
	Another improvement on regrading. The code thought that grading for
	a question changed if the grade was like 1/3. The precision in the
	database is different than the newly calculated grade, so now we
	round both values to 5 decimal places, which should fix this
	problem.

2005-09-26 Monday 17:14  mindforge

	* locallib.php: 
	
	Improved regrading (raw_grades were compared in order to determine
	whether the grading of a question changed, now grade is used, which
	also catches if penalties are turned on/off in the quiz settings)

2005-09-26 Monday 17:10  mindforge

	* locallib.php, report/regrade/report.php: 
	
	Silenced notices produced by flush() and ob_flush() in regrading
	code.

2005-09-21 Wednesday 22:23  urs_hunkler

	* styles.php: 
	
	Added CSS properties for Firefox for fixed placement of the timer.
	It is a preliminarily fix. Please follow Bug #4053.

2005-09-21 Wednesday 22:15  urs_hunkler

	* styles.php: 
	
	Added CSS properties for Firefox for fixed placement of the timer.
	It is a preliminarily fix. Please follow Bug #4053.

2005-09-20 Tuesday 06:40  michaelpenne

	* grading.php: 
	
	Changes the save button from 'Save' to 'Save Changes'.	More
	moodley :)

2005-09-20 Tuesday 06:38  michaelpenne

	* backuplib.php, restorelib.php: 
	
	Added backup/restore code for essay question type.  In the process
	of testing, fixed several other bugs in the quiz restore code
	regarding state restoration.

2005-09-20 Tuesday 06:35  michaelpenne

	* lib.php: 
	
	When one deletes a course, essay records in the quiz_essay are now
	deleted

2005-09-20 Tuesday 03:12  michaelpenne

	* db/: mysql.sql, postgres7.sql: 
	
	The two .sql scripts were missing the uniqueid column in the
	quiz_attempts table.

2005-09-19 Monday 08:26  patrickslee

	* questionlib.php: 
	
	Added some number rounding for grades to prevent PostgreSQL errors
	(Merged from MOODLE_15_STABLE mod/quiz/locallib.php)

2005-09-19 Monday 08:25  patrickslee

	* lib.php: 
	
	Corrected some table/field names (Merged from MOODLE_15_STABLE)

2005-09-19 Monday 08:09  patrickslee

	* locallib.php: 
	
	Added some number rounding for grades to prevent PostgreSQL errors

2005-09-19 Monday 08:07  patrickslee

	* lib.php: 
	
	Corrected some table/field names

2005-09-17 Saturday 21:09  gustav_delius

	* report/overview/report.php: 
	
	Fix for bug 3995

2005-09-17 Saturday 21:03  gustav_delius

	* report/overview/report.php: 
	
	Fix for bug 3995

2005-09-17 Saturday 20:33  gustav_delius

	* report/analysis/report.php: 
	
	Fix for bug 4019

2005-09-17 Saturday 20:28  gustav_delius

	* report/analysis/report.php: 
	
	Fix for bug 4019 and some other XHTML issues

2005-09-17 Saturday 20:10  gustav_delius

	* editlib.php: 
	
	Fix for bug 4052

2005-09-17 Saturday 20:00  gustav_delius

	* editlib.php, locallib.php: 
	
	Fixed bug 4052

2005-09-16 Friday 18:02  thepurpleblob

	* export.php: 
	
	Fixed problem with courseid not being passed.

2005-09-14 Wednesday 19:17  mindforge

	* edit.php, editlib.php: 
	
	Merged from 1.5.

2005-09-14 Wednesday 19:09  mindforge

	* edit.php, editlib.php: 
	
	Added dropdown to allow sorting the question list on the quiz
	editing page in different ways. This also allows defining a custom
	sortorder in the URL.

2005-09-01 Thursday 12:14  mjollnir_

	* lib.php: 
	
	Initial checkin of stats (from processing the log table).  I will
	write up some information about it for the developers wiki.

2005-09-01 Thursday 00:32  gustav_delius

	* editlib.php: 
	
	Merged from STABLE.

2005-08-31 Wednesday 17:30  thepurpleblob

	* import.php: 
	
	Incorrect variable name - not sure why this worked!

2005-08-30 Tuesday 23:13  thepurpleblob

	* editlib.php, export.php: 
	
	Export now saves file in correct course file area (ie, the current
	one).  Export now works for published courses where the teacher is
	not a teacher on the 'remote' course.  See bug #3996 and bug #3985

2005-08-27 Saturday 04:46  gustav_delius

	* editlib.php: 
	
	Fix for missing action icons, reported in
	http://moodle.org/mod/forum/discuss.php?d=28466#139179

2005-08-27 Saturday 03:24  gustav_delius

	* review.php: 
	
	Fix so that secure window closes itself even when no review is
	allowed, see bug 3891

2005-08-27 Saturday 03:12  gustav_delius

	* config.html, defaults.php, lib.php, mod.html: 
	
	A bit of code cleanup as suggested by Olaf Rempel in bug 3881

2005-08-27 Saturday 02:51  gustav_delius

	* config.html: 
	
	removed unnecessary code as suggested by Olaf Rempel in bug 3850

2005-08-27 Saturday 02:47  gustav_delius

	* config.html, lib.php, mod.html: 
	
	Removed the restriction that the quiz timelimit has to be less than
	the session timeout

2005-08-27 Saturday 01:57  gustav_delius

	* lib.php, mod.html: 
	
	Removed the restriction that the quiz timelimit has to be less than
	the session timeout

2005-08-26 Friday 19:35  thepurpleblob

	* format.php, import.php: 
	
	Merged from STABLE

2005-08-26 Friday 19:33  thepurpleblob

	* format.php, import.php: 
	
	Import now passes $course object to import/export format object.

2005-08-26 Friday 16:56  gustav_delius

	* attempt.php: 
	
	Fixed bug 3950

2005-08-26 Friday 16:53  gustav_delius

	* attempt.php: 
	
	Fixed bug 3950

2005-08-26 Friday 16:00  gustav_delius

	* report/: analysis/report.php, overview/report.php: 
	
	fix for bug 3953 provided by Jean-Michel

2005-08-26 Friday 15:56  gustav_delius

	* report/: analysis/report.php, overview/report.php: 
	
	fix for bug 3953 provided by Jean-Michel

2005-08-26 Friday 12:53  mjollnir_

	* backuplib.php: 
	
	Merged from MOODLE_15_STABLE: Fixing typo in call to get_record
	that was causing a lot of noise in the db error log

2005-08-26 Friday 12:53  mjollnir_

	* backuplib.php: 
	
	Fixing typo in call to get_record that was causing a lot of noise
	in the db error log

2005-08-16 Tuesday 20:43  mindforge

	* locallib.php: 
	
	Fixed bug #3884.

2005-08-16 Tuesday 07:17  patrickslee

	* db/: postgres7.php, postgres7.sql: 
	
	Mass cleanup of bad postgres upgrade scripts(merged from 15_stable)

2005-08-16 Tuesday 06:30  patrickslee

	* db/: postgres7.php, postgres7.sql: 
	
	Mass cleanup of bad postgres upgrade scripts

2005-08-15 Monday 19:36  mindforge

	* locallib.php, questionlib.php: 
	
	Fix for the bug described in the discussions
	http://moodle.org/mod/forum/discuss.php?d=26526 and
	http://moodle.org/mod/forum/discuss.php?d=27274

2005-08-11 Thursday 11:38  mjollnir_

	* timer.js: 
	
	Merged from MOODLE_15_STABLE: Changing the js timer in quiz to call
	the form by name rather than index. People who have forms in the
	headers (ie logout buttons) run into problems otherwise

2005-08-11 Thursday 11:38  mjollnir_

	* timer.js: 
	
	Changing the js timer in quiz to call the form by name rather than
	index. People who have forms in the headers (ie logout buttons) run
	into problems otherwise

2005-08-11 Thursday 04:43  urs_hunkler

	* styles.php: 
	
	added ".mod-quiz " to three properties because the quiz style was
	in conflict with other Moodle pages.

2005-08-11 Thursday 04:39  urs_hunkler

	* styles.php: 
	
	added ".mod-quiz " to three properties because the quiz style was
	in conflict with other Moodle pages.

2005-08-10 Wednesday 17:56  thepurpleblob

	* export.php: 
	
	Fixed bug introduced by _variable to _param change - default export
	file name was not being generated due to isset rather than empty
	check.

2005-07-28 Thursday 01:22  gustav_delius

	* attempt.php: 
	
	fix for bug 3822 provided by razzor

2005-07-28 Thursday 01:19  gustav_delius

	* attempt.php: 
	
	fix for bug 3822 provided by razzor

2005-07-25 Monday 22:16  gustav_delius

	* locallib.php, locallib.php: 
	
	Fix for question numbering provided by razzor, bug 3807

2005-07-23 Saturday 17:31  gustav_delius

	* locallib.php: 
	
	Merged from STABLE

2005-07-23 Saturday 17:12  gustav_delius

	* report/analysis/report.php: 
	
	The fixes for the item analysis plug-in that were assembled by
	Jean-Michel, see http://moodle.org/mod/forum/discuss.php?d=27553

2005-07-23 Saturday 15:46  gustav_delius

	* report/analysis/report.php: 
	
	The fixes for the item analysis plug-in that were assembled by
	Jean-Michel, see http://moodle.org/mod/forum/discuss.php?d=27553

2005-07-23 Saturday 04:40  gustav_delius

	* report/regrade/: report.php, report.php: 
	
	Resetting the timout counter to avoid the timeouts reported at
	http://moodle.org/mod/forum/discuss.php?d=24790#129431

2005-07-22 Friday 19:41  gustav_delius

	* styles.php: 
	
	New report plug-in contributed by Jean-Michel, see
	http://moodle.org/mod/forum/discuss.php?d=27730

2005-07-22 Friday 17:43  gustav_delius

	* report/overview/report.php: 
	
	Improvements contributed by Jean-Michel Vedrine, see
	http://moodle.org/mod/forum/post.php?reply=130818.  - you can
	change # of attempts per page displayed on screen - you can
	download results to Excel/text file, including detailed grades if
	you check this option.

2005-07-22 Friday 17:24  gustav_delius

	* report/overview/report.php: 
	
	Improvements contributed by Jean-Michel Vedrine, see
	http://moodle.org/mod/forum/post.php?reply=130818.  - you can
	change # of attempts per page displayed on screen - you can
	download results to Excel/text file, including detailed grades if
	you check this option.

2005-07-21 Thursday 17:26  thepurpleblob

	* export.php: 
	
	merged from STABLE

2005-07-21 Thursday 17:25  thepurpleblob

	* export.php: 
	
	Fixed bug where path to exported file could be incorrect in non en
	languages.

2005-07-21 Thursday 16:48  thepurpleblob

	* locallib.php: 
	
	Tidy up of import/export function layout to match coding standard

2005-07-14 Thursday 17:42  gustav_delius

	* db/mysql.sql: 
	
	Fixed a table comment

2005-07-14 Thursday 15:00  gustav_delius

	* questionlib.php: 
	
	Forgot to convert a $quiz to $cmoptions. Fixes bug 3749

2005-07-14 Thursday 01:37  gustav_delius

	* grading.php: 
	
	Fixed bug reported in
	http://moodle.org/mod/forum/discuss.php?d=27344

2005-07-12 Tuesday 16:00  moodler

	* restorelib.php: 
	
	Merged SC139 from stable

2005-07-12 Tuesday 15:53  moodler

	* restorelib.php: 
	
	Escaped text output during relinking, as per SC 139

2005-07-08 Friday 08:21  gustav_delius

	* db/mysql.php: 
	
	fixed typo, see bug 3687

2005-07-08 Friday 02:34  gustav_delius

	* locallib.php, review.php: 
	
	Merging from STABLE

2005-07-08 Friday 01:16  gustav_delius

	* attempt.php, index.php, lib.php, locallib.php, mod.html,
	questionlib.php, review.php, reviewquestion.php, view.php: 
	
	Due date and start date are now optional, as requested in bug 867
	and bug 3635

2005-07-07 Thursday 22:57  gustav_delius

	* db/mysql.php: 
	
	Fixed bug 3687

2005-07-07 Thursday 22:53  gustav_delius

	* review.php: 
	
	Added another 'continue' (or 'close this window') button towards
	the top of the review page, as requested in bug 3695

2005-07-07 Thursday 22:41  gustav_delius

	* attempt.php: 
	
	Merged from STABLE, satsifying bug 3696

2005-07-07 Thursday 22:39  gustav_delius

	* attempt.php: 
	
	Quiz title and attempt number are now shown on one line as
	requested in bug 3696

2005-07-07 Thursday 06:34  gustav_delius

	* locallib.php: 
	
	There was a bug when a student reattempted a quiz based on a
	previous attempt that was already correct. Now fixed.

2005-07-07 Thursday 03:26  gustav_delius

	* locallib.php: 
	
	Fixed bug 3684

2005-07-06 Wednesday 17:05  stronk7

	* backuplib.php, restorelib.php: 
	
	Latest changes merged from MOODLE_15_STABLE Moving the MERGED tag
	for the whole quiz directory as talked with Gustav...

2005-07-06 Wednesday 15:53  gustav_delius

	* attempt.php, edit.php, editlib.php, db/mysql.php: 
	
	Merged from STABLE

2005-07-06 Wednesday 15:32  gustav_delius

	* edit.php, editlib.php: 
	
	In the past questions on the right hand side of the editing screen
	were previewed with the default settings whereas those on the left
	hand side were previewed with the quiz settings. That did create
	confusion among users so now questions will always be previewed
	with the quiz settings.

2005-07-06 Wednesday 14:44  gustav_delius

	* constants.php, defaults.php, lib.php, questionlib.php: 
	
	Moved constants into constants.php so that they can be loaded where
	needed.

2005-07-06 Wednesday 08:36  defacer

	* view.php: 
	
	
	Merging from STABLE: Fix for bug 3616:
	
	layout-table wasn't closed correctly for teachers and guests.

2005-07-06 Wednesday 08:35  defacer

	* view.php: 
	
	
	Fix for bug 3616:
	
	layout-table wasn't closed correctly for teachers and guests.

2005-07-05 Tuesday 23:00  thepurpleblob

	* report.php: 
	
	Changed _variabl() functions to _param() functions.

2005-07-05 Tuesday 18:53  thepurpleblob

	* import.php: 
	
	data_submitted() replaced with appropriate _param() style
	functions, HTML output tidied up and sesskey checking added.

2005-07-05 Tuesday 18:35  thepurpleblob

	* export.php: 
	
	Changed _variable() to _param throughout. Improved look of output
	HTML and added sesskey checking.

2005-07-05 Tuesday 01:34  stronk7

	* backuplib.php, restorelib.php: 
	
	Improved automatic relinking in backup and restore. Credits go to
	skodak.  Complete refactoring of the system that was really awful
	(my fault!).  Now everything is in its place and working like a
	charm, making things really easier to be implemented and amplied.
	Bug 3678 (http://moodle.org/bugs/bug.php?op=show&bugid=3678)
	(http://moodle.org/mod/forum/discuss.php?d=26530)

2005-07-03 Sunday 17:53  gustav_delius

	* lib.php, locallib.php, questionlib.php, restorelib.php,
	restorelibpre15.php: 
	
	More steps towards the separation of questions from the quiz
	module.

2005-07-03 Sunday 02:14  gustav_delius

	* attempt.php, backuplib.php, editlib.php, grading.php, lib.php,
	locallib.php, question.php, questionlib.php, report.php,
	restorelib.php, restorelibpre15.php, review.php,
	reviewquestion.php, version.php, db/mysql.php,
	report/overview/report.php, report/regrade/report.php: 
	
	I have introduced the new field $attempt->uniqueid, see
	http://mantis.york.ac.uk/moodle/mod/forum/discuss.php?d=852#3380

2005-07-03 Sunday 00:06  gustav_delius

	* attempt.php, locallib.php, preview.php, questionlib.php,
	review.php, report/analysis/report.php: 
	
	Two name changes: 1) in all module-indpendent code the variable
	$quiz has been renamed to $cmoptions (it holds the options set by
	the course module which does not necessarily have to be a quiz, it
	could be a lesson for example).  2)
	quiz_restore_question_sessions() has the simpler name
	quiz_get_states Also got rid of the quizfile.php in favour of
	file.php

2005-07-02 Saturday 19:42  gustav_delius

	* category.php, locallib.php, questionlib.php: 
	
	I have started on the re-organisation to allow other modules to use
	the questiontypes.  Moved all code that is not specific to the quiz
	module out of locallib.php into questionlib.php.  The default
	questiontype class is now defined in
	quiz/questiontypes/questiontype.php.  See
	http://mantis.york.ac.uk/moodle/mod/forum/discuss.php?d=852

2005-07-01 Friday 17:19  mindforge

	* locallib.php: 
	
	Fixed problem with automatic feedback, when 3x 33.33% didn't yield
	"Correct" but "Partially correct". Now the displayed
	(rounded)values are used, so the text should be in sync with the
	awarded grade. See also
	http://moodle.org/mod/forum/discuss.php?d=26584

2005-06-30 Thursday 07:56  michaelpenne

	* grading.php: 
	
	Found 4 mdl_ in some sql statements.  Changed it from mdl_ to
	$CFG->prefix

2005-06-28 Tuesday 20:43  mindforge

	* backuplib.php, restorelib.php: 
	
	Partial fix for bug #3604. Fixed backup/restore for multianswer
	questions. States still don't get restored correctly!

2005-06-27 Monday 00:21  gustav_delius

	* db/mysql.php, editlib.php, grading.php, locallib.php, styles.php,
	tabs.php, version.php, db/mysql.sql: 
	
	I am committing the essay question type contributed by Mark
	Nielsen, see http://moodle.org/mod/forum/discuss.php?d=25845.

2005-06-25 Saturday 00:23  gustav_delius

	* attempt.php: 
	
	Removed the "Continue" button from the attempt page, see
	http://moodle.org/mod/forum/discuss.php?d=25972

2005-06-21 Tuesday 15:05  gustav_delius

	* db/mysql.php: 
	
	fixed error in sql syntax

2005-06-21 Tuesday 14:57  gustav_delius

	* config.html, mod.html: 
	
	merged from stable

2005-06-20 Monday 05:38  mjollnir_

	* db/postgres7.php: 
	
	Merged from MOODLE_15_STABLE: Fixing postgres upgrade to match
	postgres7.sql (bug 3547)

2005-06-20 Monday 05:38  mjollnir_

	* db/postgres7.php: 
	
	Fixing postgres upgrade to match postgres7.sql (bug 3547)

2005-06-20 Monday 05:31  mjollnir_

	* db/postgres7.sql: 
	
	Merged from MOODLE_15_STABLE: Fixing typo on index for rqp type
	(bug 3547)

2005-06-20 Monday 05:30  mjollnir_

	* db/postgres7.sql: 
	
	Renaming index to match table (rqp_type) more on 3547

2005-06-20 Monday 05:27  mjollnir_

	* db/postgres7.sql: 
	
	Fixing typo on index for rqp type (bug 3547)

2005-06-16 Thursday 06:49  mjollnir_

	* editlib.php, version.php, db/postgres7.php, db/postgres7.sql: 
	
	Merged from MOODLE_15_STABLE: Fixing bug 3502 - 2 postgres problems
	- one in db creation (my fault) and one in '' instead of 0 for int
	in sql query

2005-06-16 Thursday 06:36  mjollnir_

	* editlib.php, version.php, db/postgres7.php, db/postgres7.sql: 
	
	Fixing bug 3502 - 2 postgres problems - one in db creation (my
	fault) and one in '' instead of 0 for int in sql query

2005-06-14 Tuesday 06:06  gustav_delius

	* config.html, mod.html: 
	
	changed more relative filenames to absolute, see bug 3483

2005-06-12 Sunday 17:57  gustav_delius

	* locallib.php, db/postgres7.php, report/analysis/report.php: 
	
	merged from stable

2005-06-11 Saturday 02:42  ecastrolt

	* report/analysis/report.php: 
	
	[no log message]

2005-06-11 Saturday 01:04  ecastrolt

	* report/analysis/report.php: 
	
	[no log message]

2005-06-08 Wednesday 05:43  gustav_delius

	* attempt.php: 
	
	Fixed a typo

2005-06-08 Wednesday 04:44  gustav_delius

	* locallib.php: 
	
	Temporarily switching off "Save as new question" button until bug
	3445 is fixed

2005-06-08 Wednesday 01:30  paca70

	* db/postgres7.php: 
	
	Added missing as junk words

2005-06-07 Tuesday 02:14  ecastrolt

	* report/analysis/: report.php, report.php: 
	
	[no log message]

2005-06-07 Tuesday 02:04  ecastrolt

	* report/analysis/report.php: 
	
	[no log message]

2005-06-06 Monday 04:51  gustav_delius

	* attempt.php, backuplib.php, edit.php, locallib.php, question.php,
	restorelib.php, reviewquestion.php, view.php, db/mysql.sql,
	report/regrade/report.php: 
	
	Merged from stable

2005-06-06 Monday 04:37  gustav_delius

	* locallib.php, report/regrade/report.php: 
	
	Regrading now used the proper session mechanism. Also it now works
	with old-style attempts which have only a single state.

2005-06-06 Monday 04:25  gustav_delius

	* restorelib.php: 
	
	Restoring of user attempts and states disabled for now, see bug
	3159

2005-06-06 Monday 04:19  gustav_delius

	* backuplib.php: 
	
	Fixed typo

2005-06-05 Sunday 23:52  gustav_delius

	* db/mysql.sql: 
	
	removed some unnecessary fields

2005-06-05 Sunday 23:37  gustav_delius

	* db/mysql.sql: 
	
	just fixing some comments

2005-06-05 Sunday 23:08  gustav_delius

	* locallib.php: 
	
	taken out a notice to temporarily fix bug 3130

2005-06-05 Sunday 19:49  gustav_delius

	* attempt.php, locallib.php, reviewquestion.php,
	report/regrade/report.php: 
	
	Change to when newly created states get saved Changes to what is
	printed during regrade

2005-06-05 Sunday 06:14  gustav_delius

	* report/default.php: 
	
	merged Enrique's correction from stable

2005-06-05 Sunday 05:14  ecastrolt

	* report/analysis/report.php: 
	
	[no log message]

2005-06-05 Sunday 05:07  ecastrolt

	* report/analysis/report.php: 
	
	[no log message]

2005-06-05 Sunday 05:04  ecastrolt

	* report/default.php: 
	
	[no log message]

2005-06-05 Sunday 01:53  defacer

	* report/overview/report.php: 
	
	
	Merging from STABLE:
	
	Fixing all Tidy warnings in this page. This has to be A Good Thing.

2005-06-05 Sunday 01:43  defacer

	* report/overview/report.php: 
	
	
	Fixing all Tidy warnings in this page. This has to be A Good Thing.

2005-06-04 Saturday 23:42  stronk7

	* lib.php: 
	
	Changed name of the container category a bit and avoided one
	notice.
	
	Merged from MOODLE_15_STABLE

2005-06-04 Saturday 23:37  stronk7

	* lib.php: 
	
	Changed name of the container category a bit and avoided one
	notice.

2005-06-04 Saturday 19:40  gustav_delius

	* edit.php: 
	
	slight improvement of layout

2005-06-04 Saturday 19:16  gustav_delius

	* attempt.php: 
	
	Print notice on preview when secure window will be used for
	students

2005-06-04 Saturday 19:10  gustav_delius

	* view.php: 
	
	Show link to attempts list only if student attemtps exist.

2005-06-04 Saturday 19:04  mindforge

	* locallib.php: 
	
	Cleaned up and documented regrading code.

2005-06-04 Saturday 18:58  mindforge

	* locallib.php, question.php, report/regrade/report.php: 
	
	Manual regrading page implemented.

2005-06-04 Saturday 17:58  gustav_delius

	* attempt.php, config.html, edit.php, editlib.php, index.php,
	locallib.php, attempts.php, mod.html, report.php, review.php,
	reviewquestion.php, styles.php, tabs.php, view.php,
	report/analysis/report.php, report/overview/report.php,
	report/regrade/report.php: 
	
	Merged from stable

2005-06-04 Saturday 17:10  gustav_delius

	* attempts.php: 
	
	attempts.php has moved to report/overview/report.php

2005-06-04 Saturday 16:55  gustav_delius

	* report/overview/report.php: 
	
	put back the overview report folder

2005-06-04 Saturday 16:54  gustav_delius

	* report/regrade/report.php: 
	
	added regrading page

2005-06-04 Saturday 16:47  gustav_delius

	* locallib.php: 
	
	Fixed bug 3410. Admins are no longer shown ALL categories in
	drop-down menu.

2005-06-04 Saturday 16:30  gustav_delius

	* config.html, edit.php, index.php, mod.html, report.php,
	review.php, reviewquestion.php, styles.php, tabs.php, view.php,
	report/analysis/report.php: 
	
	Improve alignment in table in mod.html for IE Missing questions
	lead to notice rather than fatal error Attempts report now moved to
	reports/overview put in empty regrading page for Julian to complete
	Moved some of the styles out of styles.php into standard style
	Fixed error on reviewquestion.php put infobox on reviewquestion.php
	fixed <form> tag on item analysis report

2005-06-04 Saturday 08:21  defacer

	* attempts.php: 
	
	
	Merging from STABLE:
	
	Fix for bug 3316: Now students which have attempted the quiz but
	have since been unenrolled from the course are shown with a dimmed
	style.
	
	Also merging Gustav's nicer error messages (the MERGED tag wasn't
	up to date)

2005-06-04 Saturday 08:18  defacer

	* attempts.php: 
	
	
	Fix for bug 3316: Now students which have attempted the quiz but
	have since been unenrolled from the course are shown with a dimmed
	style.

2005-06-04 Saturday 04:43  gustav_delius

	* edit.php: 
	
	The popup window didn't always close.

2005-06-03 Friday 20:56  mindforge

	* attempt.php, locallib.php: 
	
	Fix for bug #3357. Random questions now check properly if a
	question is already in use.

2005-06-03 Friday 20:53  stronk7

	* version.php: 
	
	Bump!
	
	Deletion (or move to site course) of orphan categories executed in
	the upgrade process. Now we shouldn't have such orphans anymore!
	B-)
	
	Part of bug 2459
	(http://moodle.org/bugs/bug.php?op=show&bugid=2459)
	
	Important NOTE: In the upgrade code for postgreSQL I've included   
		     some steps that weren't up to date. They seem to	   
		  standard SQL code but they should be tested		   
	  properly.... hope all works!
	
	Merged from MOODLE_15_STABLE

2005-06-03 Friday 20:52  stronk7

	* db/: mysql.php, postgres7.php: 
	
	Deletion (or move to site course) of orphan categories executed in
	the upgrade process. Now we shouldn't have such orphans anymore!
	B-)
	
	Part of bug 2459
	(http://moodle.org/bugs/bug.php?op=show&bugid=2459)
	
	Important NOTE: In the upgrade code for postgreSQL I've included   
		     some steps that weren't up to date. They seem to	   
		  standard SQL code but they should be tested		   
	  properly.... hope all works!
	
	Merged from MOODLE_15_STABLE

2005-06-03 Friday 20:49  stronk7

	* version.php: 
	
	Bump!
	
	Deletion (or move to site course) of orphan categories executed in
	the upgrade process. Now we shouldn't have such orphans anymore!
	B-)
	
	Part of bug 2459
	(http://moodle.org/bugs/bug.php?op=show&bugid=2459)
	
	Important NOTE: In the upgrade code for postgreSQL I've included   
		     some steps that weren't up to date. They seem to	   
		  standard SQL code but they should be tested		   
	  properly.... hope all works!

2005-06-03 Friday 20:47  stronk7

	* db/: mysql.php, postgres7.php: 
	
	Deletion (or move to site course) of orphan categories executed in
	the upgrade process. Now we shouldn't have such orphans anymore!
	B-)
	
	Part of bug 2459
	(http://moodle.org/bugs/bug.php?op=show&bugid=2459)
	
	Important NOTE: In the upgrade code for postgreSQL I've included   
		     some steps that weren't up to date. They seem to	   
		  standard SQL code but they should be tested		   
	  properly.... hope all works!

2005-06-02 Thursday 04:07  gustav_delius

	* edit.php, editlib.php: 
	
	Fixed bug 3393

2005-06-02 Thursday 02:34  gustav_delius

	* review.php: 
	
	replaced some error() by redirect()

2005-06-02 Thursday 02:16  gustav_delius

	* attempt.php, attempts.php, report.php, review.php, view.php: 
	
	Improved error messages a bit

2005-06-01 Wednesday 16:15  moodler

	* attempts.php, question.php, review.php: 
	
	Merging fixes from MOODLE_15_STABLE

2005-06-01 Wednesday 16:08  moodler

	* attempts.php: 
	
	SQL should not assume mdl_ prefix on tables  (bug 3390)

2005-06-01 Wednesday 14:44  gustav_delius

	* attempt.php: 
	
	merged fix of bug 3377

2005-06-01 Wednesday 13:56  gustav_delius

	* attempt.php: 
	
	A missing ! led to bug 3377

2005-06-01 Wednesday 06:35  stronk7

	* lib.php: 
	
	Complete refactor of quiz_delete_course()
	
	Now this function works following this: - Iterate over every quiz
	category in the course (following parent-child relationships).	-
	If the category is being used*, move it to site level (under a
	container category) and       mark it as published.  - If the
	category isn't being used, remove** it completely (questions,
	instances...) and	re-parent its child categories.  - Feedback
	is shown in a table detailing all the changes performed.
	
	* One category is being used if it has one question that is being
	used in any quiz,   independently of its publish status.  **
	Removal of categories (and associated questions) has benn improved
	but, it won't	be perfect until bug 3366 was solved.
	
	Tested against some large courses with reused questions and
	multiple levels of categories. Seems to work but
	
	PLEASE TEST IT AND SEND ANY FEEDBACK TO BUG 2459
	(http://moodle.org/bugs/bug.php?op=show&bugid=2459)
	
	Exactly this function is going to be used in the upgrade script to
	solve the orphan categories issue and it must work perfectly!
	
	Merged from MOODLE_15_STABLE

2005-06-01 Wednesday 06:31  stronk7

	* lib.php: 
	
	Complete refactor of quiz_delete_course()
	
	Now this function works following this: - Iterate over every quiz
	category in the course (following parent-child relationships).	-
	If the category is being used*, move it to site level (under a
	container category) and       mark it as published.  - If the
	category isn't being used, remove** it completely (questions,
	instances...) and	re-parent its child categories.  - Feedback
	is shown in a table detailing all the changes performed.
	
	* One category is being used if it has one question that is being
	used in any quiz,   independently of its publish status.  **
	Removal of categories (and associated questions) has benn improved
	but, it won't	be perfect until bug 3366 was solved.
	
	Tested against some large courses with reused questions and
	multiple levels of categories. Seems to work but
	
	PLEASE TEST IT AND SEND ANY FEEDBACK TO BUG 2459
	(http://moodle.org/bugs/bug.php?op=show&bugid=2459)
	
	Exactly this function is going to be used in the upgrade script to
	solve the orphan categories issue and it must work perfectly!

2005-06-01 Wednesday 00:33  stronk7

	* locallib.php: 
	
	Simplify the quizzes_category_used() function.	I was using the
	$excluded parameter to avoid loops between categories. A->B->A.
	Think we can assume such loops won't exist, so I've deleted the
	$excluded use.
	
	Merged from MOODLE_15_STABLE

2005-06-01 Wednesday 00:30  stronk7

	* locallib.php: 
	
	Simplify the quizzes_category_used() function.	I was using the
	$excluded parameter to avoid loops between categories. A->B->A.
	Think we can assume such loops won't exist, so I've deleted the
	$excluded use.

2005-05-31 Tuesday 22:22  thepurpleblob

	* styles.php: 
	
	Merged changes from STABLE

2005-05-31 Tuesday 22:21  thepurpleblob

	* styles.php: 
	
	Fixed incorrect !important tags in CSS

2005-05-31 Tuesday 21:35  thepurpleblob

	* locallib.php: 
	
	Merged from STABLE

2005-05-31 Tuesday 21:34  thepurpleblob

	* locallib.php: 
	
	'Fixed' quizzes_category_used declaration to make it work. Based on
	it only being called in one place. Might need a 'proper' fix
	though, but this gets us moving!

2005-05-31 Tuesday 18:04  thepurpleblob

	* locallib.php: 
	
	Merged changes from STABLE

2005-05-31 Tuesday 18:02  thepurpleblob

	* locallib.php: 
	
	Checks import/export class file actually exists before trying to
	include it.

2005-05-31 Tuesday 07:59  stronk7

	* locallib.php: 
	
	Added the sort_categories_by_tree() function that returns an
	ordered array of categories following the parent-child
	relationships. It doesn't forget any category and returns all the
	categories passed although their parent were incorrect. Try to
	build as much tree structure as possible.
	
	Merged from MOODLE_15_STABLE

2005-05-31 Tuesday 07:56  stronk7

	* locallib.php: 
	
	Added the sort_categories_by_tree() function that returns an
	ordered array of categories following the parent-child
	relationships. It doesn't forget any category and returns all the
	categories passed although their parent were incorrect. Try to
	build as much tree structure as possible.

2005-05-31 Tuesday 06:29  stronk7

	* locallib.php: 
	
	Now the quizzes_category_used() function supports searching for
	uses recursively plus an array of excluded categories.
	
	Needed to solve bug 2459...in progress.
	
	Merged from MOODLE_15_STABLE

2005-05-31 Tuesday 06:27  stronk7

	* locallib.php: 
	
	Deleting one debug message...

2005-05-31 Tuesday 06:25  stronk7

	* locallib.php: 
	
	Now the quizzes_category_used() function supports searching for
	uses recursively plus an array of excluded categories.
	
	Needed to solve bug 2459...in progress.

2005-05-30 Monday 07:53  ecastrolt

	* report/analysis/report.php: 
	
	[no log message]

2005-05-30 Monday 04:50  ecastrolt

	* report/analysis/report.php: 
	
	[no log message]

2005-05-30 Monday 03:45  ecastrolt

	* report/analysis/report.php: 
	
	[no log message]

2005-05-30 Monday 03:36  ecastrolt

	* report/analysis/report.php: 
	
	[no log message]

2005-05-30 Monday 03:02  stronk7

	* locallib.php: 
	
	Added the quizzes_category_used() to detect the list of quizzes
	that are using questions from one category.
	
	It relies in the quizzes_question_used() function. Will be use in
	the 'orphan_categories' bug (#2459)
	
	(http://moodle.org/bugs/bug.php?op=show&bugid=2459)
	
	Merged from MOODLE_15_STABLE
	
	With some previously unmerged changes added too!! Please check them
	Gustav!!

2005-05-30 Monday 02:58  stronk7

	* locallib.php: 
	
	Added the quizzes_category_used() to detect the list of quizzes
	that are using questions from one category.  It relies in the
	quizzes_question_used() function. Will be use in the
	'orphan_categories' bug (#2459)
	
	(http://moodle.org/bugs/bug.php?op=show&bugid=2459)

2005-05-26 Thursday 15:18  gustav_delius

	* locallib.php: 
	
	Better name for the new function

2005-05-26 Thursday 15:11  gustav_delius

	* locallib.php, question.php: 
	
	Disabled versioning and re-grading until it is fixed.

2005-05-26 Thursday 05:41  gustav_delius

	* review.php: 
	
	reverted to version before Julian's attempt at fixing bug 3311

2005-05-26 Thursday 01:57  defacer

	* attempts.php: 
	
	
	Merging bugfix for 3334 (if at first you don't succeed edition)

2005-05-26 Thursday 01:54  defacer

	* attempts.php: 
	
	
	Er, fix for bug 3334 once more.
	
	If at first you don't succeed...

2005-05-25 Wednesday 22:38  defacer

	* attempts.php: 
	
	
	Merging fix for bug 3334 from 1.5 STABLE branch.

2005-05-25 Wednesday 22:26  defacer

	* attempts.php: 
	
	
	Fixing the other half of bug 3334.

2005-05-25 Wednesday 22:22  defacer

	* attempts.php: 
	
	
	Fixing one half of bug 3334 with the patch provided by the
	reporter.
	
	Also fixing another unfriendly behavior in that screen.

2005-05-25 Wednesday 14:15  gustav_delius

	* db/mysql.sql: 
	
	updated database creation by exporting from my database that was
	created by updating from 1.4. Merge from 1.5

2005-05-25 Wednesday 14:02  gustav_delius

	* db/mysql.sql: 
	
	updated database creation by exporting from my database that was
	created by updating from 1.4

2005-05-25 Wednesday 00:11  gustav_delius

	* editlib.php: 
	
	merged fix for bug 3329

2005-05-25 Wednesday 00:07  gustav_delius

	* editlib.php: 
	
	fixed bug 3329

2005-05-24 Tuesday 04:52  gustav_delius

	* attempts.php, report.php: 
	
	Upgrade all attempts at a quiz to the Moodle 1.5 model on
	attempts.php and report.php

2005-05-23 Monday 18:48  mindforge

	* review.php: 
	
	Fix for bug 3311 in review.php

2005-05-23 Monday 15:25  gustav_delius

	* locallib.php, report/default.php, report/analysis/report.php: 
	
	New version of item analysis from Enrique

2005-05-23 Monday 15:16  gustav_delius

	* version.php: 
	
	Forgot to commit this earlier

2005-05-23 Monday 05:43  defacer

	* attempts.php: 
	
	
	Fixed invalid use of GROUP BY and (mostly) fixed sorting by
	question grade.
	
	There was a compatibility break before/after the Big Quiz Refactor
	it seems that won't allow before/after attempts to coexist in the
	same table sorted as they should. Will open a bug.

2005-05-23 Monday 03:25  stronk7

	* restorelib.php: 
	
	Now restore code for quizzes is enabled again. pre15 restore seems
	to work and 1.5 backup 1.5 is in being done by Gustav's team.

2005-05-21 Saturday 06:56  stronk7

	* restorelibpre15.php: 
	
	Being a bit more exact, I've replaced the 1, 2, .... n ordered
	asumption when restoring multianswer responses and now it checks
	for the real positionky (like the upgrade)

2005-05-21 Saturday 05:39  gustav_delius

	* db/mysql.php: 
	
	implemented Eloy's fix to the duplicate records problem, closing
	bug 3293

2005-05-20 Friday 19:44  mindforge

	* locallib.php: 
	
	In locallib the function quiz_restore_question_sessions did not
	load the timestamp field for states. This was fixed by replacing
	the list of fields in the query by a s.*

2005-05-20 Friday 18:36  mindforge

	* attempt.php: 
	
	Fixed typo.

2005-05-20 Friday 16:52  gustav_delius

	* report.php, report/analysis/report.php: 
	
	Printing of header moved into plugins themselves to allow them to
	provide export functionality which does not want a header printed.
	Thanks to Enrique for doing this.

2005-05-20 Friday 01:04  stronk7

	* restorelib.php: 
	
	Old file I forgot to commit, sorry Gustav. Should fix Bug 3293
	(http://moodle.org/bugs/bug.php?op=show&bugid=3293)

2005-05-19 Thursday 16:05  gustav_delius

	* edit.php: 
	
	Questoin edit popup window now closes itself automatically, see bug
	3140. Thank you Eloy for the lesson in javascript.

2005-05-19 Thursday 15:54  gustav_delius

	* db/mysql.php: 
	
	Improved reporting during upgrade, see bug 3297

2005-05-19 Thursday 07:53  stronk7

	* restorelibpre15.php: 
	
	Now length is correctly set and stored to DB (bug 3290)
	(http://moodle.org/bugs/bug.php?op=show&bugid=3290)
	
	plus some added bits to handle the hidden field properly

2005-05-19 Thursday 03:59  gustav_delius

	* locallib.php: 
	
	Some code cleanup: the function extract_response() is not used any
	more

2005-05-19 Thursday 03:52  gustav_delius

	* report/analysis/report.php: 
	
	Updated version of item analysis report from Enrique

2005-05-18 Wednesday 11:34  gustav_delius

	* db/mysql.php: 
	
	Switched off the verbose feedback and removed some old code

2005-05-18 Wednesday 11:00  gustav_delius

	* locallib.php: 
	
	Avoid break between answer and feedback in multiple choice question

2005-05-18 Wednesday 06:22  gustav_delius

	* edit.php: 
	
	temporary fix to bug 3140

2005-05-18 Wednesday 06:18  gustav_delius

	* db/mysql.php: 
	
	fixed typo in the wiki to markdown upgrade

2005-05-18 Wednesday 05:51  mjollnir_

	* version.php, db/postgres7.php, db/postgres7.sql: 
	
	Merged from MOODLE_14_STABLE. Merging in my last unmerged patch.
	Corrects a bad constraint name in postgres for quiz. Bumped quiz
	version

2005-05-17 Tuesday 06:51  stronk7

	* backuplib.php, category.php, edit.php, editlib.php, locallib.php,
	question.php, restorelib.php, restorelibpre15.php: 
	
	Replaced some (not all) tabs to spaces.  I've leave unmodified
	formats and nusoap library

2005-05-17 Tuesday 06:12  gustav_delius

	* view.php: 
	
	Put link to attempts on info page

2005-05-17 Tuesday 05:49  gustav_delius

	* config.html: 
	
	Cleaned up config.html a bit

2005-05-17 Tuesday 03:21  gustav_delius

	* locallib.php: 
	
	quiz_upgrade_states() now creates entries in the quiz_newest_states
	table only for states that are associated to those questions that
	are listed in $attempt->layout.

2005-05-17 Tuesday 01:01  mindforge

	* db/: mysql.php, postgres7.php: 
	
	Modified DB update to adapt multianswer states to the new storage.
	
	ATTENTION: This currently only works for upgrades that upgrade from
	quiz versions pre 2005042900!

2005-05-16 Monday 15:50  thepurpleblob

	* imsattempt.php: 
	
	File is not used or required.

2005-05-16 Monday 13:26  gustav_delius

	* db/mysql.php: 
	
	removed doubled-up code, thanks Eloy

2005-05-16 Monday 08:05  stronk7

	* restorelibpre15.php: 
	
	STEP 2 seems to be working relatively nice!! quizzes, instances,
	versions, attempts, states and grades for pre15 are now restored.
	Not fully tested, so I'm sure it will need some adjustments but,
	basically, it's done.	CVS:
	-------------------------------------------------------------------
	---

2005-05-16 Monday 05:40  stronk7

	* restorelibpre15.php: 
	
	Now STEP1 is 100% completed.
	
	Remap of multianswers isn't necessary because, under Moodle 1.5, it
	seems to be always a  1..n collection of pairs and responses pairs
	are always ordered from {#1} to {#n}.
	
	If this isn't true we should look for an alternatice method of
	restore attempts... :-(
	
	For more info, bug 3252 has more info
	(http://moodle.org/bugs/bug.php?op=show&bugid=3252)

2005-05-16 Monday 03:37  gustav_delius

	* locallib.php, report/analysis/report.php: 
	
	Removed some notices, some polishing.  No need to load all users
	and then remove teachers, can simply load all students.

2005-05-16 Monday 00:06  gustav_delius

	* locallib.php: 
	
	fixed bug 3258

2005-05-15 Sunday 22:40  gustav_delius

	* locallib.php, styles.php, report/analysis/report.php: 
	
	item analysis report contributed by Enrique Castro

2005-05-15 Sunday 19:45  gustav_delius

	* attempt.php, locallib.php, preview.php: 
	
	Cleaned up issues to do with timing. So for example late
	submissions are now detected correctly.

2005-05-15 Sunday 16:02  gustav_delius

	* editlib.php: 
	
	improved display of paging bar on edit page

2005-05-15 Sunday 15:54  gustav_delius

	* edit.php: 
	
	edit page now remembers the paging for the question list

2005-05-15 Sunday 07:44  stronk7

	* restorelib.php, restorelibpre15.php: 
	
	Latest change of function name solved !

2005-05-15 Sunday 07:43  stronk7

	* restorelib.php, restorelibpre15.php: 
	
	Now the restore of quiz_categories use the new
	restore_get_best_category() function.

2005-05-15 Sunday 04:16  gustav_delius

	* editlib.php: 
	
	my stupid editor has been eating whitespace

2005-05-15 Sunday 03:20  gustav_delius

	* locallib.php: 
	
	Don't show penalty info if penaltyscheme is off.

2005-05-15 Sunday 01:28  mindforge

	* db/: mysql.sql, postgres7.php, postgres7.sql: 
	
	The remaining DB files for the previous fix.

2005-05-15 Sunday 01:08  mindforge

	* db/mysql.php, version.php: 
	
	Reverted some changes to the numerical questiontype and adapted the
	update script accordingly.  Fixes bugs 3168, 3225 and 3226.

2005-05-15 Sunday 00:38  stronk7

	* restorelibpre15.php: 
	
	Some debug is out and the missing decode of answers->question has
	been included.

2005-05-15 Sunday 00:21  gustav_delius

	* editlib.php, db/mysql.php, locallib.php, question.php,
	version.php: 
	
	There can now be an arbitrary number of rqp servers of each type. 
	The remote question types do show up on the editing drop-down like
	any other question type.  I have disabled rqp on php < 5 for the
	time being.

2005-05-15 Sunday 00:07  stronk7

	* restorelibpre15.php: 
	
	Not finished but multianswer questions are now properly converted
	to their new schema. Good milestone to save changes to CVS.

2005-05-13 Friday 23:49  gustav_delius

	* version.php, db/mysql.php, db/postgres7.php: 
	
	Fixed the mess I made with a type in version.php. Thanks Eloy.

2005-05-13 Friday 00:51  gustav_delius

	* restorelib.php: 
	
	fixed my careless search and replace that got rid of all
	question_datasets

2005-05-12 Thursday 07:13  stronk7

	* restorelibpre15.php: 
	
	Work in progress!!
	
	I doesn't work at all but near every question type has been checked
	and changed if needed. Tomorrow I'll start with the
	quiz->attempts... part
	
	Anyway I've some IMPORTANT doubts about how this questions are
	currently implemented:
	
	- NUMERICAL: Can the answer field have more than one answer? -
	MULTIANSWER: What are the differences. Why, in the upgrade process,
	     all of them are deleted and recreated? Why some fields have
	been	  deleted? Why the questiontext for this type is set to ''
	in the	    upgrade processs - CALCULATED: Why the
	quiz_question_datasets table is now simply "s" in      the restore
	process? A typo, I hope.
	
	I've written this here to avoid forgetting it and, if someone in
	the quiz's team can answer me...
	
	Now, just zzzZZZzzzZZZ. Ciao :-)

2005-05-12 Thursday 05:54  stronk7

	* backuplib.php: 
	
	Changed backup of numerical questions to use the new DB model

2005-05-12 Thursday 05:45  stronk7

	* restorelib.php: 
	
	Avoid recode of category->parent from quiz/restorelib.php because
	it's done globally after restoring all the categories by
	restore_create_questions() in backup/restorelib.php
	
	Modify the restore of numericalquestions to work with its new 1.5
	structure.

2005-05-12 Thursday 00:47  stronk7

	* restorelib.php, restorelibpre15.php: 
	
	We must have editing rights in existing course, owner of the
	published cat, not it the one being restored. ;-)

2005-05-11 Wednesday 17:56  thepurpleblob

	* format.php: 
	
	Questions with parents are no longer exported.

2005-05-11 Wednesday 17:55  thepurpleblob

	* locallib.php: 
	
	Altered quiz export get_category_questions function to (optionally)
	reject questions with parents.

2005-05-11 Wednesday 03:48  stronk7

	* restorelib.php: 
	
	Hooks to call pre15 restore included.  (not working yet) Hard work
	starts now! ;-)

2005-05-10 Tuesday 23:51  gustav_delius

	* locallib.php: 
	
	grading details should be shown in non-adaptive mode

2005-05-10 Tuesday 23:34  gustav_delius

	* locallib.php: 
	
	just fixing my earlier fix

2005-05-10 Tuesday 23:00  gustav_delius

	* editlib.php, locallib.php, question.php: 
	
	Fixed bug reported at
	http://moodle.org/mod/forum/discuss.php?d=23526

2005-05-10 Tuesday 18:12  gustav_delius

	* category.php, edit.php: 
	
	fixed bug 3191

2005-05-10 Tuesday 17:59  gustav_delius

	* category.php: 
	
	fixed bug 3190

2005-05-10 Tuesday 17:49  gustav_delius

	* backuplib.php, restorelib.php: 
	
	Made sure the questions that can be parent questions are backed up
	and restored first so that the recoding of the parent field will
	work.

2005-05-10 Tuesday 17:37  gustav_delius

	* backuplib.php, restorelib.php: 
	
	Towards a Moodle 1.5 quiz backup and restore. Not tested yet.  I
	moved some quiz speicific functions out of backup/backuplib.php
	into mod/quiz/backuplib.php

2005-05-10 Tuesday 03:46  stronk7

	* restorelibpre15.php: 
	
	Simply rename everyfunction.
	
	Some of them will be deleted later...but from now...

2005-05-09 Monday 21:33  stronk7

	* restorelib.php: 
	
	Disable temporary the restore of quiz questions and attempts to
	avoid moodlers filling their DBs (not always test servers!) with
	non-consistent data.
	
	Can be enabled by setting $CFG->enablerestorequiz = true;
	
	(while working on it both Gustav's team and I, obviously this will
	be removed once stabilished)

2005-05-09 Monday 21:07  thepurpleblob

	* edit.php: 
	
	Show a link to edit the questions in categories if the quiz has
	already been attempted.

2005-05-09 Monday 19:07  stronk7

	* restorelibpre15.php: 
	
	Splitted restorelib.php to work together in both 1.5 and pre 1.5
	restore code.  Gustav's team is goingo to handle 1.5 whereas I'm
	going to handle old backups.
	
	I'll try to change every function name to be able to merge both
	libs again at the end of the process.

2005-05-09 Monday 18:20  thepurpleblob

	* locallib.php: 
	
	Removed functions that build objects for question export. Now done
	using existing functions in questiontype classes.

2005-05-09 Monday 16:40  thepurpleblob

	* locallib.php: 
	
	Oops! It's a call by reference!

2005-05-09 Monday 16:28  thepurpleblob

	* locallib.php: 
	
	Now calls get_question_option() in appropriate question_type to get
	question objects for quiz export. Bad news is that format is
	different, so all export classes will need modifying. Will remove
	old code when complete.

2005-05-09 Monday 13:34  gustav_delius

	* restorelib.php: 
	
	reverted back to restorelib from before the merge. Removes the
	duplicate function definitions reported on the forums. Also I think
	this is the best version to start with.

2005-05-09 Monday 05:28  mjollnir_

	* db/postgres7.php: 
	
	Updating postgres.php to match mysql.php with max-min/2 rather than
	min+max/2

2005-05-09 Monday 05:11  gustav_delius

	* reviewoptions.html: 
	
	removed spurious <tr>

2005-05-09 Monday 05:06  gustav_delius

	* db/mysql.php: 
	
	fixed problem with update of tolerance reported by Miles, see
	http://moodle.org/mod/forum/discuss.php?d=23288#110469

2005-05-08 Sunday 23:11  gustav_delius

	* backuplib.php, restorelib.php: 
	
	updated the database diagrams

2005-05-08 Sunday 22:33  gustav_delius

	* backuplib.php: 
	
	upgraded backuplib.php. Outstanding issues: quiz_rqp_type table and
	all of Julian's question-type specific stuff.

2005-05-08 Sunday 19:24  gustav_delius

	* review.php, view.php: 
	
	fixed bug 3146 about secure popup window for review screen.

2005-05-08 Sunday 18:38  mjollnir_

	* db/: postgres7.php, postgres7.sql: 
	
	Change new to newest for quiz_newest_states (reserved word)

2005-05-08 Sunday 18:34  gustav_delius

	* attempt.php, locallib.php, reviewquestion.php, version.php,
	db/mysql.php, db/mysql.sql: 
	
	Changed table field name 'new' to 'newest' for postgres
	compatibility

2005-05-08 Sunday 02:50  gustav_delius

	* locallib.php, mod.html: 
	
	"Attempt builds on last" feature reenabled

2005-05-08 Sunday 01:18  gustav_delius

	* locallib.php: 
	
	Some corrections in the documentation

2005-05-07 Saturday 22:29  gustav_delius

	* defaults.php, locallib.php: 
	
	enabled penalties for all question types

2005-05-07 Saturday 22:28  gustav_delius

	* config.html: 
	
	this got a bit messed up in the merge

2005-05-07 Saturday 21:48  gustav_delius

	* attempts.php, lib.php, locallib.php, review.php, view.php: 
	
	Use round() instead of format_float() to limit decimal points to a
	MAXIMUM of $quiz->decimalpoints. format_float() always displays
	EXACTLY that number of digits after the decimal point which is not
	really desirable.

2005-05-07 Saturday 21:30  gustav_delius

	* config.html, edit.php, locallib.php, mod.html, styles.php: 
	
	Some work on the penalty mechanism. Took out the multiplicative
	scheme because it is just too difficult to understand. Made all
	question types print grading details when quiz is in adaptive mode.
	Made improvements to the presentation of the grading details.
	Enabled the penalty mechanism in a few more (on my way towards
	doing it for all).

2005-05-07 Saturday 10:38  mjollnir_

	* db/postgres7.php: 
	
	Porting quiz upgrade to postgres. Still one bug remains - see 3148

2005-05-07 Saturday 08:23  mjollnir_

	* db/postgres7.sql: 
	
	New postgres7.sql for quiz -- There is a bug in this to do with
	reserved words (see bug #3148) but committing anyway as is clean
	apart from this.

2005-05-07 Saturday 01:07  gustav_delius

	* category.php: 
	
	Make it impossible to create a category in one course as the child
	of a category in another course, fixing bug 2940

2005-05-07 Saturday 00:43  gustav_delius

	* view.php: 
	
	Use the grade highlighting only if the maximum grade scheme is
	used, see bug 2545

2005-05-07 Saturday 00:27  gustav_delius

	* edit.php: 
	
	Fixed error message that created a warning

2005-05-06 Friday 19:21  gustav_delius

	* locallib.php: 
	
	Fix tooltip on question edit link, see bug 3139

2005-05-06 Friday 18:50  gustav_delius

	* db/mysql.php: 
	
	loops in upgrade script no longer produce output

2005-05-06 Friday 15:36  gustav_delius

	* locallib.php: 
	
	In non-adaptive mode the mark is printed as in the old days and not
	as --/n

2005-05-06 Friday 15:03  gustav_delius

	* editlib.php: 
	
	"Go" buttons are now enclosed in <noscript> tags.

2005-05-06 Friday 14:24  gustav_delius

	* report/overview/report.php: 
	
	file report.php was added on branch MOODLE_15_STABLE on 2005-06-04
	08:55:37 +0000

2005-05-06 Friday 14:24  gustav_delius

	* report/regrade/report.php: 
	
	file report.php was added on branch MOODLE_15_STABLE on 2005-06-04
	08:54:56 +0000

2005-05-06 Friday 14:23  gustav_delius

	* attempt.php, attempt_close_js.php, backuplib.php, category.php,
	config.html, defaults.php, edit.php, index.php, jsclock.php,
	jstimer.php, lib.php, locallib.php, mod.html, pagelib.php,
	preview.php, question.php, report.php, attempts.php, editlib.php,
	restorelib.php, review.php, reviewoptions.html, reviewquestion.php,
	styles.php, tabs.php, timer.js, version.php, view.php, view_js.php,
	multiple.php, db/mysql.php, db/mysql.sql,
	report/overview/report.php, report/regrade/report.php: 
	
	Merging in from the MOODLE_15_QUIZREFACTOR branch.  The quiz module
	now can handle adaptive questions and can render remote questions
	via RQP web services.

2005-05-06 Friday 03:40  gustav_delius

	* review.php: 
	
	Update this Quiz button now on also on review page

2005-05-06 Friday 03:31  gustav_delius

	* attempt.php: 
	
	Don't calculate quiz grade for preview attempts

2005-05-06 Friday 03:15  gustav_delius

	* db/mysql.php: 
	
	I decided to set the preview field during upgrade after all because
	otherwise it would lead to confusion afterwards.

2005-05-06 Friday 02:36  gustav_delius

	* db/mysql.php: 
	
	I had forgotten to repaginate $quiz->questions

2005-05-06 Friday 02:19  gustav_delius

	* review.php: 
	
	In the review of a preview only show the history as the student
	sees it.

2005-05-06 Friday 02:15  gustav_delius

	* db/mysql.php: 
	
	removed (harmless) notices from upgrade script.  We'll have to
	remember to switch off all that reporting once the upgrade has been
	sufficiently tested

2005-05-05 Thursday 16:11  gustav_delius

	* locallib.php: 
	
	misprint

2005-05-05 Thursday 15:48  gustav_delius

	* locallib.php: 
	
	deal with the fact that not all questions have a penalty field yet

2005-05-05 Thursday 15:41  gustav_delius

	* db/mysql.php, locallib.php, db/mysql.sql, question.php,
	version.php: 
	
	Added penalty field to quiz_questions Enabled penalties for
	shortanswer question Fixed question replace code in question.php
	Re-enabled old error mechanism for question setup form Penalties
	out of the range 0-1 gives an error

2005-05-05 Thursday 14:11  gustav_delius

	* edit.php, tabs.php: 
	
	Edit page now reuses session modform whenever it can Changed labels
	on tabs

2005-05-05 Thursday 14:09  gustav_delius

	* locallib.php: 
	
	fixed calculation of multiplicative penalty scheme. I actually
	think we should drop this scheme, it is too complicated to explain
	and unnecessary.

2005-05-05 Thursday 04:51  gustav_delius

	* locallib.php, review.php, reviewquestion.php: 
	
	students only want to see graded states in the response history

2005-05-05 Thursday 04:13  gustav_delius

	* view.php: 
	
	students were able to avoid secure screen by clicking on grades.
	now fixed.

2005-05-05 Thursday 03:53  gustav_delius

	* view.php: 
	
	use $quiz->decimalpoints also to format raw marks.

2005-05-05 Thursday 03:44  gustav_delius

	* view.php: 
	
	continue button when no more attempts are allowed

2005-05-05 Thursday 03:37  gustav_delius

	* locallib.php, preview.php: 
	
	some streamlining

2005-05-05 Thursday 03:37  gustav_delius

	* attempt.php: 
	
	semicolon

2005-05-05 Thursday 03:34  gustav_delius

	* attempt.php: 
	
	attempt.php now uses quiz_extract_responses() rather than
	duplicating that code

2005-05-05 Thursday 03:31  gustav_delius

	* db/mysql.php: 
	
	fixed missing semicolon

2005-05-05 Thursday 01:41  gustav_delius

	* db/mysql.sql: 
	
	newly created mysql.sql file

2005-05-04 Wednesday 15:08  gustav_delius

	* db/mysql.php, version.php: 
	
	during update also update $CFG->review

2005-05-04 Wednesday 14:24  gustav_delius

	* attempt.php, defaults.php, locallib.php, preview.php: 
	
	use same render options for attempts and previews.

2005-05-04 Wednesday 13:40  gustav_delius

	* locallib.php: 
	
	don't print success message

2005-05-04 Wednesday 04:22  gustav_delius

	* attempts.php: 
	
	grade details now also works for non-upgraded attempts

2005-05-04 Wednesday 03:36  gustav_delius

	* attempt.php, attempts.php, editlib.php, locallib.php, review.php,
	version.php, db/mysql.php, report/overview/report.php: 
	
	introduce $question->length field to allow simple calculation of
	question number.

2005-05-04 Wednesday 02:31  gustav_delius

	* locallib.php, review.php, reviewquestion.php: 
	
	make sure teachers see feedback and correct_answers during review

2005-05-03 Tuesday 16:07  gustav_delius

	* db/mysql.php, locallib.php: 
	
	two tiny fixes, not finished

2005-05-03 Tuesday 04:41  gustav_delius

	* db/mysql.php, locallib.php, review.php: 
	
	improvements to upgrade, still far from finished

2005-05-03 Tuesday 03:40  gustav_delius

	* db/mysql.php, reviewquestion.php: 
	
	untested upgrade script

2005-05-03 Tuesday 00:42  mindforge

	* question.php: 
	
	Fixed bug 3088.

2005-05-02 Monday 01:29  mindforge

	* locallib.php, question.php: 
	
	Upgraded calculated questiontype to new quiz model.  This required
	minimal changes to question.php to reanable the wizard, an addition
	to the default questiontype (also for wizard support) and changes
	to datasetdependent, calculated and numerical (because some
	functionality of numerical is reused) questiontypes.

2005-04-30 Saturday 02:38  mindforge

	* db/mysql.php: 
	
	Some cosmetic changes to mysql.php

2005-04-30 Saturday 02:08  mindforge

	* category.php, edit.php, editlib.php, locallib.php, question.php,
	db/mysql.php, db/mysql.sql, db/postgres7.php, db/postgres7.sql: 
	
	Upgraded multianswer questiontype to new quiz model.  At the same
	time the model was slightly extended to better accomodate questions
	that wrap other questions. This was achieved by adding the field
	'parent' to the quiz_questions table (that's why there are changes
	in many files), which has two purposes: 1. Questions that are part
	of another question (i.e. children) point to their parent.  2. Any
	question with parent != 0 is NOT displayed in the edit lists etc.

2005-04-30 Saturday 00:19  gustav_delius

	* attempt.php, locallib.php, preview.php: 
	
	some small fixes

2005-04-29 Friday 22:14  gustav_delius

	* config.html, defaults.php, lib.php, mod.html: 
	
	fix handling of adaptive option

2005-04-29 Friday 21:42  gustav_delius

	* reviewoptions.html: 
	
	file reviewoptions.html was initially added on branch
	MOODLE_15_QUIZREFACTOR.

2005-04-29 Friday 21:42  gustav_delius

	* reviewoptions.html: 
	
	added missing file

2005-04-29 Friday 21:40  gustav_delius

	* config.html: 
	
	small changes

2005-04-29 Friday 19:25  gustav_delius

	* attempt.php, category.php, config.html, defaults.php, edit.php,
	lib.php, locallib.php, mod.html, pagelib.php, review.php,
	reviewquestion.php, tabs.php, version.php, view.php, db/mysql.php: 
	
	introduced new review options scheme, see
	http://moodle.org/mod/forum/discuss.php?d=16709 tabs also on
	category.php new field optionflags in quiz table to provide a more
	practical way of handling large numbers of yes/no options delete
	old teacher preview attempts when the quiz is modified removed
	unnecessary question->lenght field state sequences numbers start at
	zero taken out "Edit questions" button from view.php (its a tab
	now) $quiz->markindividual is now called $quiz->adaptive and is
	stored in $quiz->optionflags sometimes we want none of the tabs
	selected mysql.php is in a state of transition.

2005-04-28 Thursday 01:45  gustav_delius

	* edit.php, editlib.php: 
	
	Better handling of display options on edit page

2005-04-28 Thursday 00:58  gustav_delius

	* attempt.php, preview.php, review.php, tabs.php: 
	
	Teacher preview fixed

2005-04-27 Wednesday 21:27  mindforge

	* locallib.php: 
	
	Modified match questiontype and upgraded randomsamatch to new quiz
	model.

2005-04-27 Wednesday 16:02  gustav_delius

	* tabs.php: 
	
	fixed problem with tabs when $cm is not defined

2005-04-26 Tuesday 14:59  gustav_delius

	* attempt.php, config.html, locallib.php, mod.html, preview.php,
	review.php, db/mysql.php, db/postgres7.php: 
	
	constant names now start with QUIZ_ as mandated by the coding
	guidelines

2005-04-25 Monday 23:11  gustav_delius

	* lib.php: 
	
	quiz_user_complete contributed by Hiroto Kagotani

2005-04-25 Monday 14:37  gustav_delius

	* styles.php: 
	
	file styles.php was initially added on branch
	MOODLE_15_QUIZREFACTOR.

2005-04-25 Monday 14:37  gustav_delius

	* tabs.php: 
	
	file tabs.php was initially added on branch MOODLE_15_QUIZREFACTOR.

2005-04-25 Monday 14:37  gustav_delius

	* attempts.php: 
	
	file attempts.php was initially added on branch
	MOODLE_15_QUIZREFACTOR.

2005-04-25 Monday 14:37  gustav_delius

	* reviewquestion.php: 
	
	file reviewquestion.php was initially added on branch
	MOODLE_15_QUIZREFACTOR.

2005-04-25 Monday 14:37  gustav_delius

	* edit.php, index.php, locallib.php, attempts.php, report.php,
	reviewquestion.php, view.php, styles.php, tabs.php: 
	
	Committed the tabs.php file for the tabs that I forgot earlier Now
	can review individual question in a popup using reviewquestion.php
	List of attempts now has its own tab and is produced by
	attempts.php Multiplicative penalty scheme is now handled correctly
	Improvement to question response history Save space on teacher
	pages by not printing heading with quiz name Given quiz module its
	own styles file but not much in there yet

2005-04-25 Monday 00:23  gustav_delius

	* locallib.php: 
	
	I got rid of the rather misleadingly named question-type dependent
	function apply_penalty which, unlike quiz_apply_penalty, did not
	actually apply but only return the penalty.

2005-04-24 Sunday 23:43  gustav_delius

	* locallib.php, review.php: 
	
	Now displaying a summary of previous responses at a question on the
	review page.  Review page now has an option to display all
	questions on one page

2005-04-24 Sunday 20:51  gustav_delius

	* report.php, review.php, view.php, report/overview/report.php: 
	
	reinstated report plug-in architecture but the statistics reports
	have not yet been updated.

2005-04-24 Sunday 20:37  gustav_delius

	* report/regrade/report.php: 
	
	regrading is now done automatically

2005-04-24 Sunday 18:54  gustav_delius

	* attempt.php, attempt_close_js.php, edit.php, report.php,
	review.php, view_js.php: 
	
	teacher interface now uses tabs

2005-04-24 Sunday 15:03  gustav_delius

	* attempt.php, version.php, db/mysql.php: 
	
	fixed stupidities from previous commit

2005-04-24 Sunday 14:42  gustav_delius

	* attempt.php, db/mysql.php: 
	
	attempts and previews are now logged. Continuation of an attempt is
	logged only if at least 10 minutes have elapsed since the last
	attempt.

2005-04-24 Sunday 06:19  gustav_delius

	* mod.html, view.php: 
	
	re-enabled the secure popup window. It did not work with the latest
	version of view.php so I reverted to older code. If Julian likes he
	can see if he can rescue some of his later changes.

2005-04-24 Sunday 04:55  gustav_delius

	* attempt.php, timer.js: 
	
	fixed automatic submission when time is up

2005-04-24 Sunday 01:26  gustav_delius

	* locallib.php: 
	
	use $quiz->decimalpoints whenever printing grades, closing bug 3012

2005-04-23 Saturday 23:23  mindforge

	* locallib.php: 
	
	Upgraded match questiontype to new quiz model. -> Re-enabled match
	questiontype in locallib.php.

2005-04-23 Saturday 01:52  gustav_delius

	* editlib.php, multiple.php: 
	
	editlib holds functions only used on edit.php.	multiple.php is no
	longer needed because random questions are added from edit.php

2005-04-23 Saturday 01:52  gustav_delius

	* editlib.php: 
	
	file editlib.php was initially added on branch
	MOODLE_15_QUIZREFACTOR.

2005-04-22 Friday 19:29  gustav_delius

	* edit.php, locallib.php, preview.php, question.php, report.php,
	report/overview/report.php: 
	
	repagination of quizzes implemented shuffling of questions
	implemented random questions re-enabled preview links are now icons
	some more documentation

2005-04-22 Friday 19:24  gustav_delius

	* attempt.php: 
	
	fixed a language string

2005-04-22 Friday 04:32  gustav_delius

	* locallib.php: 
	
	The STACK question type is not in CVS but RQP is

2005-04-20 Wednesday 19:32  gustav_delius

	* view.php: 
	
	using 'counteditems' language string to help finnish translators,
	closing bug 2530

2005-04-20 Wednesday 17:08  thepurpleblob

	* export.php, format.php, import.php, locallib.php: 
	
	Import/export changed so that available formats are automatically
	detected.  Classes now have discrete names and methods to identify
	import/export capability added. Detecting function factored out
	into locallib.php

2005-04-20 Wednesday 13:31  gustav_delius

	* edit.php, index.php: 
	
	Fixed counting of students who have attempted quiz

2005-04-20 Wednesday 13:19  moodler

	* version.php, db/mysql.php, db/mysql.sql, db/oci8po.php,
	db/oci8po.sql, db/postgres7.php, db/postgres7.sql: 
	
	Allow answer choices of any length. Bug 2814. (SE)

2005-04-20 Wednesday 06:44  mjollnir_

	* export.php, import.php: 
	
	Backporting Howard's commit fixing bug #2963 for import/export
	dropdown from HEAD

2005-04-20 Wednesday 06:03  mjollnir_

	* export.php, import.php: 
	
	Backporting Howard's commit fixing bug #2963 where course dir
	missing from HEAD

2005-04-20 Wednesday 04:52  skodak

	* import.php: 
	
	fixed file uploading - SC#60

2005-04-19 Tuesday 23:34  thepurpleblob

	* import.php: 
	
	Import formats now hard coded so only available ones appear in the
	list.

2005-04-19 Tuesday 23:26  thepurpleblob

	* export.php: 
	
	Now only displays available export formats. List is now hard-coded
	in this file.

2005-04-19 Tuesday 23:19  gustav_delius

	* attempt.php, category.php, edit.php, lib.php, locallib.php,
	mod.html, review.php, view.php, report/overview/report.php: 
	
	Made some error strings translateable Let teachers know if they
	preview a quiz that is not available to students forcing new
	attempt no only works when quiz is password protected Don't print
	quiz intro on attempt page On category edit page show only
	categories that belong to the current course Allow hiding of page
	breaks Don't show question numbers on edit page if questions are
	shuffled randomly Move functions used only on edit.php out of
	locallib.php onto edit.php Towards taking questionsperpage into
	account when adding questions Preview link on report.php no longer
	opens popup Fixed bug with paging on review page Only one
	"Continue" button on review page and also renamed it to "Close
	review"

2005-04-19 Tuesday 20:30  thepurpleblob

	* import.php: 
	
	Ensure course files area exists and create if not.

2005-04-19 Tuesday 20:27  thepurpleblob

	* export.php: 
	
	Export checks that the course files area is created (and creates it
	if not!)

2005-04-19 Tuesday 08:41  mjollnir_

	* locallib.php: 
	
	Small fixes to quiz for postgres compatibility

2005-04-15 Friday 14:39  gustav_delius

	* locallib.php: 
	
	Make sure 0 is not mistaken for ''

2005-04-15 Friday 14:38  gustav_delius

	* question.php: 
	
	slight changes to error handling

2005-04-15 Friday 03:39  stronk7

	* restorelib.php: 
	
	Fixed typo and don't use constants here to avoid more files to be
	included.

2005-04-14 Thursday 16:16  gustav_delius

	* report/overview/report.php: 
	
	fixed the drop-down menu for deleting attempts that I broke myself
	earlier

2005-04-14 Thursday 04:27  gustav_delius

	* locallib.php: 
	
	Make sure that question is not marked if student has not yet
	responded

2005-04-14 Thursday 02:38  gustav_delius

	* view.php: 
	
	removed dead end for guests

2005-04-14 Thursday 00:35  gustav_delius

	* locallib.php: 
	
	Disable random questions until they have been updated to the new
	code

2005-04-14 Thursday 00:18  gustav_delius

	* db/mysql.php, db/postgres7.php, locallib.php, multiple.php,
	restorelib.php, version.php: 
	
	random questions should always be hidden

2005-04-14 Thursday 00:05  gustav_delius

	* db/postgres7.php: 
	
	forgot something in the last commit

2005-04-14 Thursday 00:02  gustav_delius

	* category.php, multiple.php, restorelib.php, version.php,
	db/mysql.php, db/postgres7.php: 
	
	Random questions should be hidden

2005-04-13 Wednesday 18:36  gustav_delius

	* category.php, report/overview/report.php: 
	
	small change to the display of the selection menu on
	overview/report.php fix to the counting of questions on
	category.php merged from head

2005-04-13 Wednesday 18:32  thepurpleblob

	* export.php: 
	
	Added direct link to download exported file rather than having to
	search for it.

2005-04-13 Wednesday 17:07  gustav_delius

	* category.php: 
	
	Closed some <input> tags for xhtml compliance

2005-04-13 Wednesday 16:48  gustav_delius

	* category.php: 
	
	Fixed the problem reported in bug 2900 that the question count on
	the category page also counted old questions.

2005-04-13 Wednesday 16:17  gustav_delius

	* config.html, defaults.php, mod.html, review.php,
	report/overview/report.php: 
	
	grade now shown on review.php small changes in language strings
	quiz maximumgrade defaults to 10 or whatever the admin sets.

2005-04-13 Wednesday 15:45  moodler

	* view.php: 
	
	Added some reportlink classed to the report links

2005-04-13 Wednesday 14:08  gustav_delius

	* attempt.php: 
	
	Changed confirmation string for closing of attempt

2005-04-13 Wednesday 07:42  stronk7

	* restorelib.php: 
	
	Now all the wiki formated texts are converted to markdown by the
	restore process. Such conversion is performed for every backup file
	prior to 2005041100.  Wiki internal links are dinamically changed
	and then, converted to Markdown. Bye, Wiki! ;-)

2005-04-13 Wednesday 05:31  gustav_delius

	* report/overview/report.php: 
	
	Fixed grade details on report.php

2005-04-13 Wednesday 04:04  thepurpleblob

	* db/: mysql.php, postgres7.php: 
	
	Whoops - forgot the db prefix in the where clause

2005-04-13 Wednesday 03:52  gustav_delius

	* attempt.php, edit.php, index.php, locallib.php, version.php,
	view.php, db/mysql.php, db/mysql.sql, db/postgres7.php,
	db/postgres7.sql, report/overview/report.php: 
	
	Introduced 'preview' field to quiz_attempts table to mark all those
	attempts which are really teacher previews. This is used in several
	places to count the number of attempts at the quiz.

2005-04-12 Tuesday 23:02  gustav_delius

	* locallib.php: 
	
	Some cosmetic changes to the display

2005-04-12 Tuesday 22:59  gustav_delius

	* edit.php: 
	
	Fixed a bug in adding of questions to quiz

2005-04-12 Tuesday 17:09  gustav_delius

	* edit.php: 
	
	navigation bar now uses appropriate strings for editing quesitons
	or editing quiz.

2005-04-12 Tuesday 16:48  gustav_delius

	* edit.php: 
	
	navigation bar now uses appropriate strings for editing quesitons
	or editing quiz.

2005-04-12 Tuesday 16:15  gustav_delius

	* category.php: 
	
	Thanks to a suggestion by Martin published categories are printed
	with class="published" and unpublished ones with
	class="unpublished".

2005-04-12 Tuesday 15:53  thepurpleblob

	* version.php: 
	
	Update wiki-like text format to Markdown.

2005-04-12 Tuesday 15:52  thepurpleblob

	* db/: mysql.php, postgres7.php: 
	
	Update wiki-like text format to Markdown

2005-04-12 Tuesday 14:50  gustav_delius

	* category.php, category.php: 
	
	Ordinary unpublished categories were greyed out. That was confusing
	and I have now removed it.

2005-04-12 Tuesday 13:44  gustav_delius

	* mod.html: 
	
	quiz_decimalpoints now works correctly as advanced option

2005-04-12 Tuesday 12:48  gustav_delius

	* mod.html: 
	
	quiz_decimalpoints now works correctly also as an advanced option.

2005-04-11 Monday 23:07  gustav_delius

	* edit.php: 
	
	fixed bug allowing first question to be added again.

2005-04-11 Monday 22:16  gustav_delius

	* attempt.php: 
	
	print paging bar below submit buttons

2005-04-11 Monday 18:49  gustav_delius

	* attempt.php, mod.html: 
	
	actual page layout should always overrule quiz_questionsperpage. I
	have also temporarily disabled quiz_questionsperpage on the quiz
	setup page.

2005-04-11 Monday 13:56  gustav_delius

	* config.html: 
	
	fixed error in name of form elements preventing the saving of
	options

2005-04-10 Sunday 18:41  gustav_delius

	* attempt.php, locallib.php: 
	
	Changed some aspects of how questions are printed

2005-04-09 Saturday 21:20  gustav_delius

	* index.php, locallib.php, review.php, report/overview/report.php: 
	
	XHTML improvements

2005-04-09 Saturday 21:19  gustav_delius

	* category.php: 
	
	Fixed save_question_options() for rqp question type after breaking
	it myself

2005-04-09 Saturday 17:26  gustav_delius

	* attempt.php, backuplib.php, edit.php, imsattempt.php, index.php,
	jsclock.php, lib.php, locallib.php, pagelib.php, question.php,
	report.php, restorelib.php, review.php, version.php, view.php,
	db/mysql.php, db/mysql.sql, db/postgres7.php, db/postgres7.sql,
	report/overview/report.php: 
	
	Merged from HEAD

2005-04-09 Saturday 15:35  gustav_delius

	* attempt.php: 
	
	Changing string on save button

2005-04-09 Saturday 13:20  gustav_delius

	* view.php: 
	
	fixed spurious </form>

2005-04-08 Friday 03:54  madalex

	* locallib.php, preview.php: 
	
	Fixed various bugs in the preview code. Some of the fixes rely on
	the new PHP5 object code which makes cloning an object clone all
	sub-objects.

2005-04-06 Wednesday 10:04  mjollnir_

	* db/postgres7.php: 
	
	Fixing postgres upgrade for quiz

2005-04-05 Tuesday 21:34  moodler

	* quizfile.php, question.php: 
	
	Fixed paths on includes (we must always use absolute paths because
	some servers are buggy)

2005-04-05 Tuesday 07:22  madalex

	* version.php: 
	
	Bumped the quiz module version number to activate the database
	upgrade for the RQP question type change

2005-04-05 Tuesday 07:19  madalex

	* locallib.php, db/mysql.php, db/mysql.sql, db/postgres7.php,
	db/postgres7.sql: 
	
	Fixed the RQP question type to scale the raw grade returned from
	the server according to the maximum grade set in moodle

2005-04-03 Sunday 08:18  stronk7

	* attempt.php, edit.php, imsattempt.php, index.php, jsclock.php,
	locallib.php, pagelib.php, report.php, restorelib.php, review.php,
	view.php: 
	
	Now quiz->name supports filterall.

2005-04-03 Sunday 07:19  stronk7

	* lib.php: 
	
	Now xxx_print_recent_mod_activity() supports filterall. 
	(assignment, forum, quiz and workshop)

2005-04-02 Saturday 19:32  stronk7

	* lib.php: 
	
	Now course/recent.php works under PHP5.  See bug 2828
	(http://moodle.org/bugs/bug.php?op=show&bugid=2828)
	
	Merged from MOODLE_14_STABLE

2005-04-02 Saturday 19:24  stronk7

	* lib.php: 
	
	Now course/recent.php works under PHP5.  See bug 2828
	(http://moodle.org/bugs/bug.php?op=show&bugid=2828)

2005-04-02 Saturday 08:32  ikawhero

	* question.php: 
	
	Added a 1/7 grade.

2005-04-02 Saturday 02:16  madalex

	* preview.php: 
	
	Fixed a bug affecting the validation of responses in the question
	preview

2005-04-01 Friday 23:48  gustav_delius

	* report.php, view.php: 
	
	Teacher is redirected to edit.php if no questions have been added
	to quiz yet.

2005-04-01 Friday 06:34  gustav_delius

	* mod.html: 
	
	temporarily disabled options that have not yet been fully converted
	to the new code

2005-04-01 Friday 06:13  gustav_delius

	* report.php, review.php, report/overview/report.php: 
	
	Various small improvements to review and report pages.

2005-04-01 Friday 04:01  gustav_delius

	* report/overview/report.php: 
	
	Julian has fixed "Attempted on" and "Time taken" display and
	removed a javascript error.

2005-04-01 Friday 03:33  gustav_delius

	* edit.php: 
	
	added coursemodule id to modform so that it is available for
	update_module_button

2005-04-01 Friday 03:26  mindforge

	* review.php: 
	
	Fixed buttons display.

2005-04-01 Friday 02:48  mindforge

	* report/overview/report.php, review.php: 
	
	Fixed bad time display and a javascript error in
	overview/report.php, Fixed display of 'Close preview' button in
	review.php Added grade string

2005-04-01 Friday 02:07  mindforge

	* attempt.php, locallib.php, mod.html, preview.php, review.php: 
	
	- added strings to language file - added 'close preview' buttons to
	attempt.php and review.php - fixed some other issues

2005-04-01 Friday 01:43  gustav_delius

	* attempt.php: 
	
	After closing an attempt bring user to review.php

2005-04-01 Friday 01:29  gustav_delius

	* attempt.php: 
	
	When a teacher starts a new attempt all previous attempts are
	deleted.

2005-04-01 Friday 01:12  mindforge

	* edit.php, locallib.php, mod.html, report.php, review.php,
	view.php: 
	
	Changes to use attempt.php as teacher preview: - redirect the
	teacher from view.php to report.php - added preview quiz button to
	edit.php - added edit questions button on report.php - added update
	quiz button on edit.php - commented out tabs on report.php, because
	there is only the overview works so far
	
	Also commented out the secure popup window option and some other
	fixes (moved validation button in RQP questiontype, fixed bug in
	multichoice qtype).

2005-03-31 Thursday 22:17  mindforge

	* edit.php: 
	
	Fixed a bug that prevented questions with no states to be removed
	from quizzes.

2005-03-31 Thursday 19:12  mindforge

	* locallib.php: 
	
	Disabled questiontypes that don't work with the new code yet.

2005-03-31 Thursday 18:27  gustav_delius

	* config.html: 
	
	defined options for all drop-down menus

2005-03-31 Thursday 08:10  madalex

	* locallib.php: 
	
	Fixed a couple of minor bugs in the penalty handling which affected
	the question preview

2005-03-31 Thursday 07:19  madalex

	* locallib.php, version.php, db/mysql.php, db/mysql.sql,
	db/postgres7.php, db/postgres7.sql: 
	
	Updated the RQP question type to work with the new quiz module code
	and prepared the RQP layer for RQP 0.3

2005-03-31 Thursday 02:01  mindforge

	* attempt.php: 
	
	Let's start on page 1 not on page 2.

2005-03-31 Thursday 00:12  mindforge

	* locallib.php: 
	
	- Fixed loading of lastgraded states.  - Fixed navigation.

2005-03-30 Wednesday 23:45  mindforge

	* db/: mysql.php, mysql.sql, postgres7.php, postgres7.sql: 
	
	Hopefully fixed the DB scripts!

2005-03-30 Wednesday 20:51  madalex

	* db/: mysql.php, mysql.sql, postgres7.php, postgres7.sql: 
	
	Removed the GUID from the RQP tables in the database

2005-03-30 Wednesday 03:24  gustav_delius

	* mod.html: 
	
	fixed bug 2782

2005-03-29 Tuesday 21:32  gustav_delius

	* locallib.php: 
	
	fixed double definition of a var

2005-03-29 Tuesday 17:15  gustav_delius

	* attempt.php, locallib.php, review.php: 
	
	Adapted description question type and fixed handling of question
	numbers.

2005-03-28 Monday 20:17  mindforge

	* db/: mysql.php, mysql.sql, postgres7.php, postgres7.sql: 
	
	Fixed DB scripts for numerical type.

2005-03-28 Monday 05:42  gustav_delius

	* review.php: 
	
	A first simple review.php. This still lacks the history of question
	states.

2005-03-27 Sunday 22:09  gustav_delius

	* config.html, edit.php, locallib.php, mod.html: 
	
	Moved maximum grade setting from mod.html to edit.php

2005-03-27 Sunday 05:51  gustav_delius

	* attempt.php: 
	
	fixed bug 54

2005-03-26 Saturday 21:41  defacer

	* report/overview/report.php: 
	
	
	Fix for bug 2793: Unfinished quiz attempts no longer shown in the
	overview table.

2005-03-26 Saturday 14:38  gustav_delius

	* attempt.php, edit.php, locallib.php, db/mysql.php: 
	
	A range of small changes. For example page breaks are now displayed
	and can be moved around on edit.php. Also fixed bug 55

2005-03-26 Saturday 07:24  mindforge

	* version.php, db/mysql.php: 
	
	The DB changes for the numerical type and the updated version.php.
	Attention: the update script still loses some information!!! Also
	the mysql.sql file needs to be updated.

2005-03-26 Saturday 07:18  mindforge

	* locallib.php: 
	
	More fixes

2005-03-26 Saturday 02:58  mindforge

	* db/: mysql.php, mysql.sql: 
	
	Changed "mdl_" to "prefix_"

2005-03-26 Saturday 01:48  mindforge

	* attempt.php: 
	
	Two little fixes to attempt.php

2005-03-25 Friday 21:03  mindforge

	* locallib.php: 
	
	Fixed a bug locallib.php in the function
	quiz_restore_question_sessions. It did not set the last_graded
	state correctly in the case when it does not exist.

2005-03-24 Thursday 07:32  stronk7

	* backuplib.php, restorelib.php: 
	
	Avoided some excess of "QUESTION_VERSIONS" ;-)

2005-03-24 Thursday 04:59  gustav_delius

	* backuplib.php, lib.php, question.php, restorelib.php,
	version.php, db/mysql.php, db/mysql.sql, db/postgres7.php,
	db/postgres7.sql: 
	
	Renamed quiz_question_version to quiz_question_versions as
	suggested by Eloy in bug 2777

2005-03-24 Thursday 04:09  mindforge

	* locallib.php, preview.php, question.php: 
	
	- Updated the multichoice questiontype - Fixed correct answer
	highlighting in truefalse questiontype - Minor other fixes

2005-03-23 Wednesday 21:42  mindforge

	* question.php: 
	
	Fixed notices when new questions are created. The versioning block
	is now (quite sensibly) by-passed when a new quetsion is created.

2005-03-23 Wednesday 19:00  mindforge

	* locallib.php: 
	
	Removed some debug messages.

2005-03-23 Wednesday 07:23  gustav_delius

	* db/mysql.php, db/mysql.sql, locallib.php, version.php: 
	
	I am now using a new table quiz_newest_states to keep track of
	which states are the newest states and the newest graded states.
	Also added some more commenting.

2005-03-23 Wednesday 03:05  mindforge

	* question.php: 
	
	Forgot to take out some debugging stuff.

2005-03-23 Wednesday 02:58  mindforge

	* locallib.php, question.php: 
	
	Regrading is now implemented and automatically called from
	question.php upon editing. Currently it works for the truefalse
	questiontype only.

2005-03-22 Tuesday 22:47  gustav_delius

	* locallib.php: 
	
	Some more commenting

2005-03-22 Tuesday 21:00  gustav_delius

	* view.php: 
	
	fixed bug which prevented showing of unfinished attempt if there
	were no finished ones.

2005-03-22 Tuesday 18:12  gustav_delius

	* attempt.php, locallib.php, preview.php: 
	
	in the process of improving documentation

2005-03-22 Tuesday 13:36  mjollnir_

	* db/postgres7.php: 
	
	Another fix for my old fix for a postgres constraint that was
	missing a prefix.  This time we don't create it with the silly name
	in the first place

2005-03-22 Tuesday 03:27  mindforge

	* locallib.php, question.php: 
	
	First part of the regrading code. Still commented out.

2005-03-22 Tuesday 02:59  gustav_delius

	* backuplib.php, edit.php, lib.php, locallib.php, restorelib.php,
	version.php, db/mysql.php, db/mysql.sql, db/postgres7.php,
	db/postgres7.sql, report/overview/report.php,
	report/overview/utility.js: 
	
	Merged from HEAD

2005-03-22 Tuesday 02:42  gustav_delius

	* preview.php: 
	
	Polishing of preview

2005-03-22 Tuesday 02:34  gustav_delius

	* attempt.php, locallib.php, preview.php: 
	
	Preview working again

2005-03-22 Tuesday 00:00  gustav_delius

	* attempt.php, locallib.php: 
	
	First tryt at marking all unmarked questions when an attempt is
	closed.

2005-03-21 Monday 23:39  mindforge

	* locallib.php: 
	
	More changes to quiz_process_responses.

2005-03-21 Monday 23:15  gustav_delius

	* attempt.php, locallib.php: 
	
	[no log message]

2005-03-21 Monday 22:53  gustav_delius

	* attempt.php, locallib.php: 
	
	fixed grading in quiz_process_responses

2005-03-21 Monday 22:03  mindforge

	* locallib.php: 
	
	quiz_process_responses revamped

2005-03-21 Monday 21:54  gustav_delius

	* locallib.php: 
	
	Make sure that states created for closed attempts are marked as
	EVENTCLOSE

2005-03-21 Monday 18:49  gustav_delius

	* attempt.php, locallib.php: 
	
	got rid of get_answers

2005-03-21 Monday 17:37  gustav_delius

	* attempt.php, locallib.php, db/mysql.php, db/mysql.sql,
	db/postgres7.php: 
	
	Gustav's current version, unfinished.

2005-03-21 Monday 08:06  gustav_delius

	* db/: mysql.sql, postgres7.sql: 
	
	Fixed log, bug 2778

2005-03-21 Monday 07:39  stronk7

	* restorelib.php: 
	
	Now working in restore: - quiz_questions->hidden -
	quiz_responses->originalquestion - quiz_question_version table -
	editquestions log action (although Bug 2778) needs to be solved!
	
	Please, test, test....

2005-03-21 Monday 07:36  gustav_delius

	* edit.php, version.php, db/mysql.php, db/postgres7.php: 
	
	Fixed log, bug 2778

2005-03-21 Monday 04:00  stronk7

	* backuplib.php, lib.php: 
	
	Now, at backup time (not restore yet): - quiz_questions->hidden -
	quiz_responses->originalquestion - quiz_question_version table are
	properly exported. Restore code coming soon.

2005-03-20 Sunday 20:17  gustav_delius

	* attempt.php, edit.php, locallib.php, report/overview/report.php: 
	
	A simplified intermediate version. To keep it simple the partially
	implemented wrapped questions feature is gone. This has simplified
	the navigation code dramatically.

2005-03-20 Sunday 01:54  gustav_delius

	* attempt.php, edit.php, locallib.php, question.php: 
	
	This is in an intermediate state. I will work more on it tonight.

2005-03-19 Saturday 03:34  gustav_delius

	* attempt.php: 
	
	towards a working attempt.php

2005-03-19 Saturday 03:29  mindforge

	* locallib.php: 
	
	Added functions to locallib.php that should replace
	quiz_process_responses eventually.

2005-03-18 Friday 22:46  defacer

	* locallib.php: 
	
	
	Fixing the behavior of (de)select all javascript links, closing bug
	2688.
	
	Also, some very slight HTML improvements on the way there.

2005-03-18 Friday 22:38  defacer

	* report/overview/utility.js: 
	
	
	Obsolete.

2005-03-18 Friday 22:38  defacer

	* report/overview/report.php: 
	
	
	Use global code in javascript-static.php instead of utility.js

2005-03-18 Friday 22:23  defacer

	* report/overview/: report.php, utility.js: 
	
	
	Fixing behavior of (de)select all commands and some issues with
	non-JS-enabled clients.

2005-03-18 Friday 21:21  gustav_delius

	* attempt.php: 
	
	redesign of attempt.php which separates form processing from form
	printing.

2005-03-18 Friday 17:21  gustav_delius

	* locallib.php: 
	
	Select all / Deselect all look better as links

2005-03-18 Friday 02:02  mindforge

	* attempt.php, view.php: 
	
	Rudimentary attempt.php

2005-03-18 Friday 00:51  mindforge

	* view.php: 
	
	Fixed the display of startattempt button.

2005-03-18 Friday 00:48  gustav_delius

	* edit.php, multiple.php, pagelib.php, question.php, report.php,
	view.php: 
	
	Merged in bug fixes from HEAD

2005-03-17 Thursday 23:42  mindforge

	* view.php: 
	
	Fixed the display of startattempt button.

2005-03-17 Thursday 23:12  gustav_delius

	* attempt.php, multiple.php: 
	
	Print course in footer

2005-03-17 Thursday 08:29  gustav_delius

	* question.php: 
	
	Fix for bug 2749

2005-03-17 Thursday 05:51  gustav_delius

	* attempt.php, backuplib.php, config.html, defaults.php, edit.php,
	jsclock.php, jstimer.php, lib.php, locallib.php, mod.html,
	multiple.php, pagelib.php, preview.php, question.php, report.php,
	restorelib.php, review.php, timer.js, version.php, view.php,
	view_js.php, db/mysql.php, db/mysql.sql, db/oci8po.sql,
	db/postgres7.php, db/postgres7.sql, report/overview/report.php: 
	
	First commit of Julian and Alex's new quiz module code. Still
	unfinished.

2005-03-16 Wednesday 20:35  gustav_delius

	* edit.php: 
	
	implemented fix for bug 2745 contributed by kagotani

2005-03-16 Wednesday 11:26  defacer

	* pagelib.php, view.php: 
	
	
	Respect $CFG->showblocksonmodpages.

2005-03-15 Tuesday 17:55  moodler

	* report.php: 
	
	Spiffy tabs!! :-)

2005-03-14 Monday 15:56  gustav_delius

	* export.php: 
	
	Applied patch supplied by Brian King to remove the non-functional
	category selection menu from the export form. Closing bug 1945.

2005-03-14 Monday 14:55  gustav_delius

	* edit.php: 
	
	When removing question from quiz delete all responses for that
	question in that quiz

2005-03-14 Monday 14:22  gustav_delius

	* edit.php: 
	
	I had forgotten to check that single questions are added only once
	to quiz

2005-03-14 Monday 09:34  moodler

	* pagelib.php: 
	
	New strings to turn Blocks editing on and off

2005-03-14 Monday 00:17  moodler

	* view.php: 
	
	Standardise the intro box using an ID

2005-03-11 Friday 11:29  defacer

	* report/overview/report.php: 
	
	
	IE doesn't display anything after a script include tag that closes
	with />.  Please close all your script tags like <script></script>
	or else.
	
	Disgusting.

2005-03-11 Friday 00:40  defacer

	* report/overview/report.php: 
	
	
	Updating the overview screen "sort by question grade" hack to work
	with the multiple sort column suppport.

2005-03-09 Wednesday 02:49  defacer

	* report/overview/: report.php, utility.js: 
	
	
	Checking in the code for the "improvements to the quiz results
	overview page" project, commissioned by the University of York.
	Enjoy!

2005-03-08 Tuesday 17:31  gustav_delius

	* locallib.php: 
	
	called table column 'Action' consistently, fixing bug 2698

2005-03-08 Tuesday 03:45  gustav_delius

	* edit.php, locallib.php: 
	
	small fix to the versioning code

2005-03-07 Monday 19:32  moodler

	* question.php, quizfile.php: 
	
	Removed files/mimetype.php and put it into lib/filelib.php instead
	where it always should have been.

2005-03-06 Sunday 20:00  gustav_delius

	* edit.php, locallib.php, question.php: 
	
	The teacher can now move selected questions to a chosen category or
	delete them, see http://moodle.org/mod/forum/discuss.php?d=16239
	and http://moodle.org/mod/forum/discuss.php?d=19734
	
	There is also a 'Deselect all' button which I implemented
	provisionally by putting an extra function checknone() into
	javascript-static.js. This should be cleaned up by someone who
	knows javascript.

2005-03-06 Sunday 00:03  gustav_delius

	* locallib.php, question.php: 
	
	Questions that are in use are now only deleted from the category
	list but not from quizzes or old attempts.

2005-03-05 Saturday 20:55  gustav_delius

	* edit.php, locallib.php: 
	
	Now can add a single question to quiz with a single click.

2005-03-05 Saturday 20:09  gustav_delius

	* question.php: 
	
	clone is PHP5 only and also wasn't really needed here

2005-03-05 Saturday 19:52  gustav_delius

	* preview.php: 
	
	fixed notice in preview

2005-03-03 Thursday 23:17  gustav_delius

	* edit.php, locallib.php, db/mysql.php, db/mysql.sql,
	db/postgres7.php, db/postgres7.sql, question.php, version.php: 
	
	Versioning of questions: when editing questions the teacher is told
	about the quizzes in which the question is used and is asked
	whether to replace them with the new version or not. If there are
	already attempts at a question than the original version is always
	kept in the database for audit purposes. More details at
	http://moodle.org/mod/forum/discuss.php?d=16479

2005-03-03 Thursday 19:52  thepurpleblob

	* locallib.php: 
	
	Export know knows about random questions so it can ignore them

2005-03-03 Thursday 19:51  thepurpleblob

	* format.php: 
	
	Now ignores random questions when exporting.

2005-03-03 Thursday 16:42  moodler

	* attempt.php, imsattempt.php: 
	
	Fixed timesincestart stuff, I think.   bug 2466

2005-03-03 Thursday 14:24  moodler

	* category.php: 
	
	Fixes for bug 2591 - wrong strings being used

2005-03-03 Thursday 14:18  moodler

	* category.php: 
	
	FIxed up the display of this page significantly

2005-03-03 Thursday 13:13  moodler

	* restorelib.php: 
	
	Last string fix for bug 2591

2005-03-03 Thursday 06:35  defacer

	* pagelib.php: 
	
	
	Fix for bug 2669:
	
	Quizzes and Chats in the front page had the site shortname twice in
	the navbar.

2005-03-02 Wednesday 13:56  defacer

	* view.php: 
	
	
	You know you are beyond hope of redemption when you make "API
	uniformity" changes. ;-)

2005-03-02 Wednesday 13:47  defacer

	* view.php: 
	
	
	Since $PAGE knows where the adminblock should be printed, let it do
	the printing.

2005-03-02 Wednesday 13:19  defacer

	* view.php: 
	
	
	Simplifying to death using the new blocks_setup()

2005-02-28 Monday 12:23  defacer

	* lib.php: 
	
	
	Added require_once for pagelib.php.
	
	Now deleting courses with these activities in works just fine once
	more!

2005-02-28 Monday 12:18  defacer

	* lib.php: 
	
	
	Each mod is responsible to deleting its own blocks; what I had in
	mind for centralizing this wouldn't work out. Use the flexible
	page_import_types so that we don't create one more dependency when
	writing new code.

2005-02-28 Monday 11:59  defacer

	* pagelib.php: 
	
	
	Add hooks for exporting the page types used by each module.

2005-02-28 Monday 11:59  defacer

	* lib.php: 
	
	
	Quiz doesn't attempt to delete blocks placed in deleted quiz view
	pages anymore; this is going to be taken care of from
	course/mod.php.

2005-02-21 Monday 02:02  stronk7

	* restorelib.php: 
	
	Now parent and sortorder is supported at restore too.

2005-02-21 Monday 01:17  stronk7

	* backuplib.php: 
	
	Now quiz_categories' parent and sortoreder is supported in backup. 
	A mechanish to detect all the ancestors and to recover orphaned
	categories is now running ar backup time to force backups to be
	consistent.

2005-02-19 Saturday 22:38  moodler

	* config.html: 
	
	Use new advancedsettings help file and title

2005-02-19 Saturday 09:24  stronk7

	* backuplib.php, restorelib.php: 
	
	Now questionsperpage is in backup & restore

2005-02-19 Saturday 01:20  gustav_delius

	* config.html, defaults.php, mod.html, version.php: 
	
	made appearance of quiz setup page look like the resource setup
	pages, see bug 2587. Also added the new variable
	quiz_questionsperpage properly.

2005-02-18 Friday 22:42  defacer

	* lib.php: 
	
	
	Fix for bug 2584:
	
	All floatval() calls changed to (float) casts.

2005-02-17 Thursday 22:41  thepurpleblob

	* imsattempt.php: 
	
	Dumps a question as an IMS QTI Manifest. Can be called from
	external programs requiring this data. Submitted by Brian King.

2005-02-16 Wednesday 18:40  gustav_delius

	* attempt.php, category.php, edit.php, export.php, import.php,
	multiple.php, question.php, report.php, review.php, version.php,
	view.php: 
	
	In order to ensure that when a teacher hides a resource or an
	activity that students really can't get at it, even if they know
	the direct links to its pages, I have given an optional third
	argument $cm to the functions  require_login() and
	require_course_login(). Pages showing information about a
	particular course module now pass the course module object in this
	third argument. The login functions will then test if either the
	course module is visible or the user is a teacher. If neither is
	the case then the user is redirected to the course homepage after
	being shown a message "Sorry, this activity is currently hidden".
	
	(While I was at it I also turned the autologinguests off for most
	module pages, except on the index.php pages and the view.php pages
	for those modules that allow guests)

2005-02-15 Tuesday 09:39  defacer

	* view.php: 
	
	
	Fix a notice if $attemptmark doesn't get set.

2005-02-15 Tuesday 03:57  stronk7

	* lib.php: 
	
	One more use of decimalpoints

2005-02-15 Tuesday 03:41  stronk7

	* index.php, locallib.php, view.php, report/overview/report.php: 
	
	Now decimalpoints is used to show grades (I had to modify
	quiz_get_best_grade() slighty)

2005-02-15 Tuesday 03:05  stronk7

	* backuplib.php, restorelib.php: 
	
	Added backup and restore support for decimalpoints

2005-02-15 Tuesday 02:56  stronk7

	* config.html, defaults.php, mod.html: 
	
	Added configuration support for decimalpoints

2005-02-15 Tuesday 02:23  stronk7

	* db/mysql.php, db/mysql.sql, db/oci8po.sql, db/postgres7.php,
	db/postgres7.sql, version.php: 
	
	New quiz option addded: decimalpoints (used to decide the number of
	decimals showed in grades)

2005-02-13 Sunday 22:58  gustav_delius

	* locallib.php: 
	
	Made the quiz paging bar look more like the standard one, see bug
	2443.

2005-02-13 Sunday 08:42  stronk7

	* lib.php: 
	
	Now retrieving only needed fields!

2005-02-13 Sunday 05:41  gustav_delius

	* mod.html: 
	
	Activities can now be hidden/shown from the activity editing page.
	Also for modules that know about groups the groupmode can be set
	from there. See bug 2533. This required adding to the mod.html
	files calls to new functions print_visible_setting() and
	print_groupmode_setting() which are combined in
	print_standard_coursemodule_settings().
	
	The visibility of coursemodules is now always set through the
	function set_coursemodule_visible() in order to make sure that the
	associated events get updated in the calendar appropriately.
	
	If moving a coursemodule to a hidden section then the module is set
	to hidden as well and its events are hidden in the calendar.
	
	If deleting a coursemodule its events are deleted from the
	calendar.
	
	The function choose_from_menu() has an extra optional argument
	$disabled which, when set to true, will disable the menu.
	
	For the sake of consistency the function set_groupmode_for_module
	has been renamed to set_coursemodule_groupmode and the functions
	show_course_module() and hide_course_module() have been combined to
	set_coursemodule_visible().

2005-02-12 Saturday 19:37  defacer

	* view.php: 
	
	
	Vastly improved styles, lots of inline styles removed, markup
	improved.

2005-02-12 Saturday 03:51  gustav_delius

	* view.php: 
	
	The table on view.php now also shows the marks achieved in each
	attempt in addition to the rescaled grade.

2005-02-10 Thursday 18:41  moodler

	* config.html: 
	
	Removing the THEME variable and adding in classes where appropriate

2005-02-10 Thursday 13:13  moodler

	* attempt.php: 
	
	No message popups during secure quizzes

2005-02-10 Thursday 09:59  defacer

	* pagelib.php, view.php: 
	
	
	Bringing Quiz in line with Martin's "make Chat into a showcase for
	pages" idea.

2005-02-09 Wednesday 23:42  defacer

	* view.php: 
	
	
	Removing bad slashes from HTML.

2005-02-09 Wednesday 23:31  defacer

	* view.php: 
	
	
	Oops! Wrong optional_param() calls.

2005-02-09 Wednesday 23:30  defacer

	* view.php: 
	
	
	Bring the param checking to the modern standard.

2005-02-09 Wednesday 23:08  defacer

	* view.php: 
	
	
	Let $PAGE print the header, as it should be, instead of doing it
	manually.

2005-02-08 Tuesday 07:45  stronk7

	* restorelib.php: 
	
	One minor problem restoring categories in XHTML solved

2005-02-08 Tuesday 07:33  stronk7

	* restorelib.php: 
	
	Some minor changes to each module to XHTMLise the restore process

2005-02-06 Sunday 23:18  gustav_delius

	* locallib.php: 
	
	replaced href="#" by href="javascript:void()" as suggested in bug
	#1980

2005-02-06 Sunday 18:42  gustav_delius

	* locallib.php: 
	
	I have changed the icon for removing a question from a quiz from X
	to >> and changed the label from 'Delete' to 'Remove'  because it
	does not delete the question but only removes it from the quiz.

2005-02-06 Sunday 15:55  gustav_delius

	* locallib.php: 
	
	edit column in question tables on edit.php are now wide enough to
	hold all icons without line break

2005-02-06 Sunday 15:45  gustav_delius

	* edit.php: 
	
	If a question is removed from a quiz then also all existing
	responses (e.g. from teacher attempts) are removed. Thanks to Eloy
	for pointing out that this was missing,
	http://moodle.org/mod/forum/discuss.php?d=17167#83331

2005-02-06 Sunday 05:03  gustav_delius

	* edit.php, locallib.php: 
	
	It is now no longer possible to add or delete questions in a quiz
	that students have already attempted, see
	http://moodle.org/mod/forum/discuss.php?d=16479#86488

2005-02-06 Sunday 04:00  gustav_delius

	* lib.php: 
	
	fixed my own type (missing ;)

2005-02-06 Sunday 01:28  gustav_delius

	* edit.php, export.php, import.php, lib.php, locallib.php,
	multiple.php: 
	
	Taken out some $THEME

2005-02-04 Friday 02:04  gustav_delius

	* multiple.php: 
	
	fixed stupid bug in code for adding random questions

2005-02-02 Wednesday 10:46  defacer

	* view.php: 
	
	
	Update for the new APIs and simplification.

2005-02-01 Tuesday 16:35  defacer

	* view.php: 
	
	
	Polishing that Add/Edit Blocks button

2005-02-01 Tuesday 15:40  defacer

	* lib.php: 
	
	
	Don't forget to kill all our block instances if we are deleted.

2005-02-01 Tuesday 15:16  defacer

	* view.php: 
	
	
	All right, we can now have blocks in quiz pages! Let's test it a
	while and see what we learn from it.

2005-01-29 Saturday 22:18  skodak

	* view_js.php: 
	
	direct access to script forbidden SC#58, merged from
	MOODLE_14_STABLE

2005-01-29 Saturday 22:16  skodak

	* view_js.php: 
	
	direct access to script forbidden SC#58

2005-01-29 Saturday 22:09  skodak

	* jsclock.php, jstimer.php: 
	
	direct access to script forbidden SC#58, merged from
	MOODLE_14_STABLE

2005-01-29 Saturday 22:06  skodak

	* jsclock.php, jstimer.php: 
	
	direct access to script forbidden SC#58

2005-01-28 Friday 00:40  thepurpleblob

	* category.php: 
	
	fixed some incorrect xhtml in the delete bit - missing quotes

2005-01-28 Friday 00:18  thepurpleblob

	* question.php: 
	
	factored out functionality to check if question is in use on delete
	will be using this to delete whole categories of questions (or not)

2005-01-28 Friday 00:10  thepurpleblob

	* locallib.php: 
	
	factored out function to see if question is used in quiz into the
	library

2005-01-27 Thursday 11:14  defacer

	* locallib.php: 
	
	
	Switching back to an interger-rounded retrieved best grade. Will
	probably be more human-friendly on screen.
	
	e.g. "What does 66.67 out of 100 mean?"

2005-01-27 Thursday 11:10  defacer

	* version.php, db/mysql.php, db/mysql.sql, db/postgres7.php,
	db/postgres7.sql: 
	
	
	Changing that despicable grade column from mdl_quiz_grades to a
	floating point data type, as it should be.

2005-01-27 Thursday 10:45  defacer

	* locallib.php: 
	
	
	It seems that grades are saved with two decimal points of precision
	while they are being retrieved as integers. Changed it to two
	decimals everywhere and continuing to go about it...

2005-01-27 Thursday 10:39  defacer

	* index.php, locallib.php: 
	
	
	Semantically it's better if quiz_get_best_grade returns NULL if
	there is no such grade.

2005-01-27 Thursday 10:30  defacer

	* lib.php: 
	
	
	Double quotes to single and blah blah.

2005-01-27 Thursday 10:28  defacer

	* lib.php: 
	
	
	Minor beautification, plus a detail: if the grade is 0.0, this
	function would return a grade of 0, which is obviously not the
	intent here.

2005-01-27 Thursday 10:26  defacer

	* index.php: 
	
	
	This was pulling out all those records and doing absolutely nothing
	with them. Sanitized the place a bit.

2005-01-25 Tuesday 17:39  moodler

	* mod.html: 
	
	Changes for XHTML and accessibility compatibility.  Tidied up
	layout and other minor changes.

2005-01-24 Monday 05:38  defacer

	* preview.php, quizfile.php: 
	
	
	According to the final comments in SC#65:
	
	Made isteacher() require that the first parameter (course id) be
	specified and non-empty. If it is empty, [i.e., 0, which was used
	to simulate what has now become isteacherinanycourse()], then the
	return value IS correct but a warning is printed on screen. This
	should allow us to track down any such calls in legacy modules
	without breaking Moodle.
	
	The correct way to check for teacher status in ANY course is now to
	call isteacherinanycourse().

2005-01-23 Sunday 17:10  gustav_delius

	* question.php: 
	
	fixed sesskey bug reported by Eloy. Thanks Eloy.

2005-01-23 Sunday 06:27  gustav_delius

	* config.html, locallib.php: 
	
	There is now a mechanism by which question types can have their own
	setup options. Because this does not change anything unless it is
	used I hope it is o.k. that I am submitting this without asking
	first. This is based on code by Mad Alex.

2005-01-23 Sunday 04:08  gustav_delius

	* question.php: 
	
	question.php now uses sesskey. This means that all question type
	plug-ins will have to add it to their edit forms.

2005-01-23 Sunday 03:14  gustav_delius

	* locallib.php, multiple.php: 
	
	made multiple.php save to database in addition to $SESSION->modform
	and also introduced sesskey

2005-01-23 Sunday 03:03  gustav_delius

	* category.php: 
	
	better parameter validation and some code cleanup for category.php

2005-01-23 Sunday 02:59  gustav_delius

	* edit.php: 
	
	if the current category is deleted then revert back to the default
	category

2005-01-23 Sunday 02:53  stronk7

	* mod.html: 
	
	Modify sesskey behaviour. SC#73

2005-01-23 Sunday 02:17  gustav_delius

	* edit.php, lib.php, locallib.php: 
	
	better parameter validation and general code cleanup for edit.php

2005-01-23 Sunday 00:13  gustav_delius

	* edit.php: 
	
	previously I had forgotten to save sumgrades

2005-01-22 Saturday 23:42  gustav_delius

	* edit.php, lib.php, locallib.php: 
	
	quiz edit.php now saves changes to the quiz in the database as soon
	as the teacher makes them, see
	http://moodle.org/mod/forum/discuss.php?d=17167

2005-01-19 Wednesday 17:50  gustav_delius

	* locallib.php, question.php: 
	
	It is now possible to base new questions on existing ones, see
	get_string('editingquestion', 'quiz');

2005-01-19 Wednesday 16:11  gustav_delius

	* category.php: 
	
	fixed missing courseid in breadcrumbs

2005-01-15 Saturday 00:45  moodler

	* multiple.php: 
	
	FIxed a missing brace (bug 2386)

2005-01-13 Thursday 11:04  moodler

	* lib.php, locallib.php: 
	
	Recent activity functions should have been in lib.php, not
	locallib.php

2005-01-13 Thursday 10:55  moodler

	* lib.php: 
	
	isteacher() was called incorrectly (bug #2379)

2005-01-12 Wednesday 15:03  gustav_delius

	* mod.html: 
	
	When setting up a new quiz the teacher is always redirected to the
	question edit page so there is no need for two buttons on mod.html

2005-01-12 Wednesday 14:30  gustav_delius

	* locallib.php: 
	
	Just some comment text to explain the $QUIZ_QUESTION_TYPE array.

2005-01-11 Tuesday 05:32  skodak

	* db/postgres7.sql: 
	
	fixed typo

2005-01-09 Sunday 04:05  gustav_delius

	* attempt.php, category.php, edit.php, export.php, import.php,
	index.php, lib.php, locallib.php, mod.html, multiple.php,
	preview.php, question.php, quizfile.php, report.php, review.php,
	view.php: 
	
	split quiz lib.php into a locallib.php for functions that are only
	used from within the quiz module and a much smaller lib.php for
	functions that are used from elsewhere in Moodle.

2005-01-06 Thursday 16:46  moodler

	* edit.php: 
	
	Fixed my erroneous fix from last checkin

2005-01-06 Thursday 10:38  moodler

	* edit.php: 
	
	This bug stopped this page from even working ....

2005-01-06 Thursday 01:47  moodler

	* db/: mysql.php, postgres7.php: 
	
	Er, made a typo myself.  This works now.

2005-01-06 Thursday 01:42  moodler

	* db/: mysql.php, postgres7.php: 
	
	Fix faulty call to table_column

2005-01-06 Thursday 01:27  gustav_delius

	* category.php, edit.php, lib.php, multiple.php: 
	
	It is now possible to have also questions in all subcategories
	listed on edit.php. Because there can be a large number of
	questions the list of questions is now paged.
	
	The random questions have another option specifying whether they
	can choose their questions also from subcategories or not. This
	option is stored in the unused questiontext field.

2005-01-03 Monday 08:31  kaipe

	* attempt.php, lib.php, mod.html, version.php, db/mysql.php,
	db/mysql.sql, db/postgres7.php, db/postgres7.sql: 
	
	New feature: Maximum-number-of-questions-per-page

2005-01-02 Sunday 23:10  gustav_delius

	* category.php, lib.php, version.php, db/mysql.php, db/mysql.sql,
	db/postgres7.php, db/postgres7.sql: 
	
	Hierarchical question categories from mediagonal, see
	http://moodle.org/bugs/bug.php?op=show&bugid=1947

2005-01-02 Sunday 15:15  gustav_delius

	* attempt.php, attempt_close_js.php, config.html, defaults.php,
	edit.php, lib.php, mod.html, review.php, view.php, view_js.php: 
	
	The teacher now can choose whether to see the advanced quiz options
	or not. This is handled as in the resource module. The "Show
	advanced options" button is only shown if the admin has chosen to
	declare some of the options as advanced.
	
	There are now 4 review options as suggested by Martin in
	http://moodle.org/mod/forum/discuss.php?d=16709
	
	Provides separate buttons "Update this quiz" and "Edit questions",
	see http://moodle.org/mod/forum/discuss.php?d=16708. To make this
	possible edit.php can now be called with a quiz id and it saves its
	data itself rather than relying on mod.php.
	
	mod.html now has a "Save changes" and a "Save changes and edit
	questions" button.
	
	"Attempt quiz now" button gets a different language string for
	re-attempts. This is currently set to "Re-attempt quiz".
	
	After viewing the feedback for an attempt the "Continue" button
	leads back to the course homepage, as requested in bugs 1224 and
	1976. If there is no feedback the user is brought straight to
	quiz/view.php.

2004-12-31 Friday 06:51  gustav_delius

	* preview.php: 
	
	removed many php warnings and streamlined code

2004-12-30 Thursday 16:28  moodler

	* lib.php: 
	
	Use the proper preview image 11x11

2004-12-30 Thursday 06:57  gustav_delius

	* lib.php, multiple.php: 
	
	Changed user interface for adding multiple random questions, see
	http://moodle.org/mod/forum/discuss.php?d=16531#78785

2004-12-29 Wednesday 18:03  gustav_delius

	* lib.php: 
	
	added alt text to icons

2004-12-29 Wednesday 17:22  gustav_delius

	* view.php: 
	
	avoid division by zero when the sum of grades is zero

2004-12-29 Wednesday 15:21  gustav_delius

	* format.php: 
	
	avoids error when exporting 0 questions

2004-12-29 Wednesday 15:19  gustav_delius

	* lib.php: 
	
	sort category question list by type then name as suggested in
	http://moodle.org/bugs/bug.php?op=show&bugid=2045 Also removed a
	PHP notice

2004-12-27 Monday 22:52  moodler

	* lib.php: 
	
	When teachers view quizzes (attempting or reviewing) they see a
	small link with the actual question id of that question.  The link
	creates a popup so that they can edit that question directly.

2004-12-27 Monday 22:34  moodler

	* question.php: 
	
	Fixed a string name

2004-12-26 Sunday 22:55  gustav_delius

	* question.php: 
	
	fixed missing string error that I introduced when improving the
	breadcrumbs.

2004-12-23 Thursday 15:28  gustav_delius

	* lib.php: 
	
	Fixed event handling. Events must be deleted with delete_event.
	
	Instead of modifying event dates the quiz module currently deletes
	them and adds new ones. This could be improved in the future.

2004-12-23 Thursday 15:09  gustav_delius

	* config.html, defaults.php, mod.html: 
	
	New quiz config page to allow admin to set defaults and hide
	options on the quiz setup page.

2004-12-20 Monday 22:26  gustav_delius

	* edit.php, question.php: 
	
	Improved breadcrumbs on editing pages

2004-12-18 Saturday 21:55  kaipe

	* lib.php: 
	
	Question type RANDOM now stores responses just like any other
	question type.	Therefore all workarounds are removed from lib.php
	and an isolated workaround is included in random/questiontype.php
	in order to ensure backward compability.

2004-12-16 Thursday 19:54  moodler

	* protect_js.php: 
	
	Added blank printing style
	(http://moodle.org/mod/forum/discuss.php?d=13071&parent=77710)

2004-12-16 Thursday 19:51  moodler

	* review.php: 
	
	Protect review page as well

2004-12-16 Thursday 16:05  moodler

	* attempt.php, attempt_close_js.php, mod.html, protect_js.php,
	view.php, view_js.php: 
	
	Quizzes can now be opened in a popup window. Javascript must be
	enabled.  An attempt has been made to make the popup as secure as
	possible by disabling various browser capabilities through
	javascript.

2004-12-15 Wednesday 03:07  skodak

	* lib.php: 
	
	preparation for new handling of uploaded files (to simplify testing
	of new code from 1.5dev)

2004-12-15 Wednesday 02:57  skodak

	* lib.php, quizfile.php: 
	
	new handling of uploaded files, please TEST, TEST, TEST

2004-12-14 Tuesday 14:43  moodler

	* backuplib.php, restorelib.php, version.php, db/mysql.php,
	db/mysql.sql, db/postgres7.php, db/postgres7.sql: 
	
	New field popup to control new feature:  launch quiz in fullscreen
	popup window

2004-12-12 Sunday 15:09  moodler

	* quizfile.php: 
	
	Merged fix SC22 from STABLE, even though this file will be
	rewritten with Petr's new file handling soon!  :-)

2004-12-12 Sunday 15:08  moodler

	* quizfile.php: 
	
	Added fix from SC22 to check arguments better.

2004-12-05 Sunday 20:56  kaipe

	* backuplib.php, restorelib.php, version.php, db/mysql.php,
	db/mysql.sql, db/postgres7.php, db/postgres7.sql: 
	
	Updating database and backup/restore in order to make it possible
	for teachers to choose number of decimals for calculated questions.
	 Can someone please check if the database update for postgres7
	turns out alright?

2004-11-25 Thursday 18:01  moodler

	* lib.php: 
	
	Changes for XHTML and accessibility compatibility

2004-11-23 Tuesday 13:04  mjollnir_

	* version.php, db/postgres7.php: 
	
	Merged from MOODLE_14_STABLE: Attempt to fix the unique index on
	quiz_attemptonlast_datasets for postgres (requires version bump in
	quiz AND requires bump in quiz for the getting rid of adodb
	feedback in execute_sql

2004-11-23 Tuesday 12:59  mjollnir_

	* version.php, db/postgres7.php: 
	
	Attempt to fix the unique index on quiz_attemptonlast_datasets for
	postgres (requires version bump in quiz AND requires bump in quiz
	for the getting rid of adodb feedback in execute_sql

2004-11-23 Tuesday 10:47  moodler

	* preview.php: 
	
	Minor HTML fixes

2004-11-23 Tuesday 10:46  moodler

	* preview.php: 
	
	Updated version with bug fixes (see bug 2179)

2004-11-23 Tuesday 10:41  moodler

	* preview.php: 
	
	Just a code tidy up

2004-11-23 Tuesday 08:02  martinlanghoff

	* preview.php: 
	
	Committing backported patch from Pavel (paolo@psychpan.waw.pl). See
	http://moodle.org/bugs/bug.php?op=show&bugid=2168

2004-11-23 Tuesday 00:25  moodler

	* preview.php: 
	
	I've not tested this at all :-(  but it was sent to me by the
	original author of this feature as a bug fix.
	
	PLEASE TEST!   (See bug 2179 for example)

2004-11-19 Friday 12:14  mjollnir_

	* version.php, db/mysql.php, db/mysql.sql, db/postgres7.php,
	db/postgres7.sql: 
	
	Merged from MOODLE_14_STABLE: Indexes for quiz and version bump
	(honoring partial freeze)

2004-11-19 Friday 11:23  mjollnir_

	* version.php, db/mysql.php, db/mysql.sql, db/postgres7.php,
	db/postgres7.sql: 
	
	Indexes for quiz and version bump (honoring partial freeze)

2004-11-18 Thursday 15:32  moodler

	* lib.php: 
	
	Merged default categpory fix from stable

2004-11-18 Thursday 15:31  moodler

	* lib.php: 
	
	First quiz edit in a new course now always has a default category
	defined

2004-11-14 Sunday 03:25  kaipe

	* db/mysql.php, db/mysql.sql, db/postgres7.php, db/postgres7.sql,
	version.php: 
	
	The previous update was supposed to be an enlargement of answer in
	quiz_responses (not quiz_answers) It is now correct and the mistake
	never made it to the stable version :-)

2004-11-11 Thursday 20:06  moodler

	* attempt.php, category.php, lib.php, mod.html, view.php,
	report/overview/report.php: 
	
	Changes for XHTML and accessibility compliance

2004-11-11 Thursday 15:42  moodler

	* restorelib.php: 
	
	Merged changes from stable

2004-11-11 Thursday 10:22  moodler

	* attempt.php, view.php: 
	
	Merged fix to allow teacher to always take quiz

2004-11-11 Thursday 10:21  moodler

	* attempt.php, view.php: 
	
	Allow teachers to always try quizzes, even when it's not open yet

2004-11-10 Wednesday 22:06  moodler

	* lib.php: 
	
	Merged robustness check from stable

2004-11-10 Wednesday 22:05  moodler

	* lib.php: 
	
	A robustness check when dealing with unexpected question data.
	
	Shouldn't ever be needed, but I can't yet see what is causing the
	situation I'm seeing on a couple of sites where a question doesn't
	have a type, and this solves it neatly.

2004-10-17 Sunday 12:08  moodler

	* version.php, db/mysql.php, db/mysql.sql, db/postgres7.php,
	db/postgres7.sql: 
	
	Enlarge answer field to TEXT (see
	http://moodle.org/mod/forum/discuss.php?d=10333)

2004-10-17 Sunday 01:30  moodler

	* lib.php: 
	
	Merged from stable

2004-10-16 Saturday 18:15  moodler

	* lib.php: 
	
	Added some robustness

2004-10-09 Saturday 12:38  moodler

	* restorelib.php: 
	
	Removed a notice

2004-10-04 Monday 19:47  moodler

	* report/overview/report.php: 
	
	Prevented two divide-by-zero errors (bug 2043)

2004-10-01 Friday 10:16  moodler

	* quizfile.php: 
	
	Merged fix from stable

2004-10-01 Friday 10:15  moodler

	* quizfile.php: 
	
	Clean pathname before showing an error

2004-09-29 Wednesday 15:02  moodler

	* report.php: 
	
	Merged pathname checking from stable

2004-09-29 Wednesday 15:01  moodler

	* report.php: 
	
	Checkig pathnames for security

2004-09-29 Wednesday 14:52  moodler

	* export.php, import.php: 
	
	Merged pathname checks from stable

2004-09-29 Wednesday 14:51  moodler

	* export.php, import.php: 
	
	Check filenames before including files

2004-09-25 Saturday 07:18  dhawes

	* multiple.php: 
	
	Double quote strings converted to single quote literals  - inspired
	by missing escapes on quote characters inside echo strings found by
	ottenhoff and noted in comment to bug 1981

2004-09-24 Friday 16:20  paca70

	* db/postgres7.sql: 
	
	Fixes for new postgresql database creation

2004-09-24 Friday 15:49  paca70

	* db/postgres7.sql: 
	
	Fixes for new postgres database creation

2004-09-19 Sunday 06:36  skodak

	* jstimer.php: 
	
	short php tags - Bug #1956

2004-09-19 Sunday 06:31  skodak

	* jstimer.php: 
	
	short php tags - Bug #1956

2004-09-17 Friday 13:46  mjollnir_

	* version.php: 
	
	bumps for version and requires for modules that use new upload
	class

2004-09-17 Friday 01:13  gustav_delius

	* attempt.php, category.php, lib.php, question.php, report.php,
	restorelib.php, review.php, view.php, report/overview/report.php: 
	
	XHTML compliance - fixed (hopefully) all <img> tags - global
	replace on <br> to <br /> - &amp; in URLs - got the forum module
	XHTML compliant Julian Sedding

2004-09-16 Thursday 14:35  kaipe

	* lib.php: 
	
	Fixes bug #1854

2004-09-16 Thursday 12:42  mjollnir_

	* import.php: 
	
	Integration of upload code with quiz import
	
	These patches are maintained in an publicly accessible Arch
	repository, see:
	http://lists.eduforge.org/cgi-bin/archzoom.cgi/arch-eduforge@cataly
	st.net.nz--2004-MIRROR/moodle--eduforge--1.3.3
	
	Index of arch patches in this commit:
	
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	70     2004-09-16 04:41:12 GMT	   Penny Leach
	<penny@catalyst.net.nz>     upload class integration with quiz
	import
	
	Full logs:
	
	Revision: moodle--eduforge--1.3.3--patch-70 Archive:
	arch-eduforge@catalyst.net.nz--2004 Creator: Penny Leach
	<penny@catalyst.net.nz> Date: Thu Sep 16 16:41:12 NZST 2004
	Standard-date: 2004-09-16 04:41:12 GMT Modified-files:
	mod/quiz/import.php New-patches:
	arch-eduforge@catalyst.net.nz--2004/moodle--eduforge--1.3.3--patch-
	70 Summary: upload class integration with quiz import Keywords:

2004-09-13 Monday 06:29  gustav_delius

	* category.php: 
	
	closed some br tags

2004-09-13 Monday 00:55  gustav_delius

	* attempt.php, backuplib.php, category.php, edit.php, export.php,
	format.php, import.php, index.php, lib.php, mod.html, multiple.php,
	preview.php, question.php, quizfile.php, report.php,
	restorelib.php, review.php, version.php, view.php, db/mysql.php,
	db/oci8po.php, db/postgres7.php, report/default.php,
	report/overview/report.php, report/regrade/report.php: 
	
	fixed capitalization and quoting of attribute values

2004-09-12 Sunday 22:41  gustav_delius

	* attempt.php, backuplib.php, category.php, edit.php, export.php,
	format.php, import.php, lib.php, mod.html, multiple.php,
	preview.php, restorelib.php, db/mysql.php, db/postgres7.php,
	report/overview/report.php: 
	
	closed <input /> <br /> <hr />

2004-09-04 Saturday 19:30  paca70

	* attempt.php: 
	
	Use getremoteaddr() in place of getenv("REMOTE_ADDR") and
	$_SERVER["REMOTE_ADDR"]

2004-08-26 Thursday 00:03  moodler

	* lib.php: 
	
	This hack doesn't work, and it doesn't matter, but I'm leaving it
	in in case someone can fix it later

2004-08-24 Tuesday 18:13  gustav_delius

	* version.php: 
	
	All the modules in which I made changes require the latest version
	of datalib.php.

2004-08-24 Tuesday 00:46  moodler

	* export.php, lib.php: 
	
	Tidying up Howard's wierd indenting.   ;-)

2004-08-24 Tuesday 00:36  moodler

	* export.php: 
	
	Straightened up a button

2004-08-23 Monday 20:35  moodler

	* attempt.php, view.php: 
	
	Don't print empty intros

2004-08-23 Monday 20:29  moodler

	* edit.php: 
	
	MOre tolerant of empty fields, and fixed heading

2004-08-23 Monday 03:21  gustav_delius

	* question.php: 
	
	fixed phantom question bug #1299

2004-08-22 Sunday 22:38  gustav_delius

	* category.php, edit.php, export.php, import.php, multiple.php,
	question.php: 
	
	All modules are now suitable for the site page. They now all follow
	the same rules, namely that any students enrolled in at least one
	course is considered to be a student on the site.
	
	All the page headers work correctly also on the site course.
	
	On the site page the modules don't require login unless necessary
	or required by $CFG->forcelogin.

2004-08-22 Sunday 04:20  gustav_delius

	* attempt.php, index.php, report.php, review.php, view.php: 
	
	Removed notices by introducing new function print_header_simple()
	which works on site as well as in courses without extra logic.

2004-08-17 Tuesday 13:47  moodler

	* report/overview/report.php: 
	
	Use the same rounding for highest grade as other scores  bug 1707

2004-08-16 Monday 23:16  moodler

	* lib.php, preview.php: 
	
	Added a new preview/test feature for quiz questions, sent in by
	
	  Pavel <paolo@psychpan.waw.pl>
	
	Thanks to Przemyslaw, too!

2004-08-14 Saturday 20:42  moodler

	* lib.php: 
	
	Fixed some notices

2004-08-11 Wednesday 18:27  paca70

	* db/: postgres7.php, postgres7.sql: 
	
	Quickly tested updates for postgresql. (seems to work here)

2004-08-09 Monday 21:56  thepurpleblob

	* format.php: 
	
	Added overidable method presave_process - allows last minute
	modification of data to be exported to file. Done to get xml output
	working.

2004-08-08 Sunday 23:09  moodler

	* lib.php: 
	
	And some more

2004-08-08 Sunday 23:08  moodler

	* lib.php: 
	
	Fixed bug when calling instance_is_visible()

2004-08-07 Saturday 07:43  stronk7

	* backuplib.php, restorelib.php: 
	
	Now CALCULATED questions are in backup & restore.  It was difficult
	to understand but easy to implement :-) Some mechanisms has been
	added to avoid to duplicate quiz_dataset_definitions (confirmed
	from Henrik).
	
	Please, test, test, test, test....

2004-08-06 Friday 19:11  thepurpleblob

	* lib.php: 
	
	export filename does not now have .txt extension - this is selected
	by overridable method on format.php

2004-08-06 Friday 19:11  thepurpleblob

	* export.php: 
	
	fixed bug that must have crept in during recent refactor. $course
	not being passed to export format object.  export file extension
	can now be selected by overriding method in format.php

2004-08-06 Friday 19:09  thepurpleblob

	* format.php: 
	
	Changed export part so that export file extension can be changed by
	overriding export_file_extension() method

2004-08-06 Friday 07:11  stronk7

	* backuplib.php, restorelib.php: 
	
	Now numerical_units support has been added to backup and restore. 
	Currently only working with numerical questions...

2004-08-05 Thursday 13:31  moodler

	* lib.php, question.php: 
	
	No checking is now done on question name and question text.
	
	If question name is empty, then it's assigned to be same as the
	question text.
	
	The question text can now be empty if people want that.

2004-08-05 Thursday 13:27  moodler

	* review.php: 
	
	Removed a notice

2004-08-05 Thursday 07:35  kaipe

	* lib.php, quizfile.php: 
	
	Took care of some issues concerning the use of individual quiz
	files in datasetdependent questions

2004-08-04 Wednesday 15:04  moodler

	* review.php: 
	
	Fixed some notices

2004-08-02 Monday 14:46  moodler

	* lib.php: 
	
	Fixes for some cases where shortanswer responses contain commas

2004-07-31 Saturday 17:33  moodler

	* lib.php: 
	
	Changed an error() to a notify() so things can continue as much as
	possible

2004-07-30 Friday 22:50  kaipe

	* lib.php: 
	
	New generic tools that allow the creation of dataset-dependent
	questions as well as the new question type Calculated that uses
	this generic support.

2004-07-30 Friday 22:40  kaipe

	* db/mysql.php, version.php, db/mysql.sql: 
	
	Database update to support new question type Calculated as well as
	units for Calculated and Numerical questions

2004-07-29 Thursday 14:15  moodler

	* lib.php, question.php: 
	
	Some cleanups with formatting and so on.

2004-07-29 Thursday 11:43  moodler

	* mod.html: 
	
	Fixed a notice

2004-07-28 Wednesday 16:51  paca70

	* db/postgres7.php: 
	
	Wery quickly tested and untested  versions for Postgresql.

2004-07-27 Tuesday 21:19  moodler

	* lib.php: 
	
	Merged fix from stable

2004-07-27 Tuesday 17:31  moodler

	* lib.php: 
	
	Fixes a very rare glitch with attempt numbers that I've seen on one
	site and could not find the cause for

2004-07-27 Tuesday 16:29  moodler

	* lib.php: 
	
	Fixed bad regular expression logic in short answer

2004-07-27 Tuesday 10:03  julmis

	* report/regrade/report.php: 
	
	Quiztimer stuff added - Skip regrading if attempt is overdued

2004-07-26 Monday 06:17  julmis

	* review.php: 
	
	Time limit stuff added - Show overdue time - Reset grandes when
	overdue.

2004-07-21 Wednesday 21:15  moodler

	* version.php: 
	
	Just to delineate the refactored version

2004-07-21 Wednesday 21:02  moodler

	* description.html, editmultianswer.php, match.html,
	multichoice.html, numerical.html, random.html, randomsamatch.html,
	shortanswer.html, truefalse.html: 
	
	Removing some old files

2004-07-21 Wednesday 21:01  moodler

	* attempt.php, format.php, lib.php, question.php, review.php,
	report/regrade/report.php: 
	
	Quiz refactoring is now merged into the main development code!
	
	I've done some basic testing using existing quizzes trying as much
	as I could think of, and it all worked well!
	
	Well done, Henrik!  Great job!
	
	Still, this should be regarded as unstable at least until more
	people have had a try.	Please test this thing solidly on new and
	old quizzes.

2004-07-20 Tuesday 04:04  stronk7

	* backuplib.php, restorelib.php: 
	
	Added support to timelimit, password and subnet in backup &
	restore.

2004-07-17 Saturday 07:10  kaipe

	* format.php, lib.php, question.php: 
	
	Moved all question type dependency concerning question editing to
	their respective questiontypes directories.  In most cases it has
	only been a matter of moving around some code but for question type
	MULTIANSWER (i.e. cloze) some recoding was made in order to have
	the question type fit into the same pattern as all the other
	question types.

2004-07-15 Thursday 18:57  kaipe

	* attempt.php, lib.php, review.php, report/regrade/report.php: 
	
	The major refactoring check-in I have completly reworked
	attempt.php and review.php and their framework in order to
	establish a more generic solution.  The only obvious workaround
	still in place is for the question type RANDOM, because it uses two
	rows in quiz_responses for what is only one question.  The report
	'Regrade attempts' has been reworked the same way.  Still have not
	done anything about the question editing but that should not be too
	difficult.

2004-07-08 Thursday 17:18  kaipe

	* attempt.php, lib.php: 
	
	Refactored the question-type dependent attempt and review
	functionality.
	
	Except for a few temporary workarounds, attempt.php can now treat
	all question types the same way. The reason is a new common pattern
	for naming the form inputs in a quiz attempt. All question types
	now obey this more comprehensive notation. When there comes up a
	chance to refactor the database storage as well it would be very
	generic if the response storage could reflect the attempt form
	precisely instead of having multiple responses on a single question
	be stored in a comma-separated list as it is today...
	
	I have also done some small tweaking and debugging in the way
	different question types appear in an attempt or review but that
	can easily be retweaked again. One the changes is the use of
	readonly in the review.

2004-07-08 Thursday 16:28  moodler

	* attempt.php: 
	
	FIxed small bug in password checking

2004-07-08 Thursday 16:08  moodler

	* attempt.php: 
	
	Tidied up attemptpage with password

2004-07-08 Thursday 15:53  moodler

	* version.php: 
	
	Update requirement for address_in_subnet function in moodlelib.php

2004-07-08 Thursday 15:50  moodler

	* attempt.php, lib.php, mod.html, view.php: 
	
	Two new features for quizzes!  (Thanks Shane)
	
	 1)  Quizzes can be restricted by subnet
	
	 2)  Quizzes can require a password to be entered before attempts

2004-07-07 Wednesday 15:47  moodler

	* version.php, db/mysql.php, db/mysql.sql, db/postgres7.php,
	db/postgres7.sql: 
	
	Added new fields for quiz password and subnet restrictions

2004-07-06 Tuesday 22:28  thepurpleblob

	* lib.php: 
	
	Added missing handler for exporting Cloze type questions

2004-07-06 Tuesday 22:27  thepurpleblob

	* format.php: 
	
	Changed where export file is created to course file area, not
	category->course file area

2004-07-03 Saturday 18:11  kaipe

	* lib.php: 
	
	An early check-in in order to show the direction of this
	refactoring. The functionality is supposed to remain unchanged
	except for a correction of a minor bug in the function
	quiz_get_attempt_responses. The bug could sometimes have caused
	RANDOM questions to corrupt SHORTANSWER and NUMERICAL responses
	containing comma (,)

2004-06-30 Wednesday 20:39  thepurpleblob

	* lib.php: 
	
	fixed bug #1556 - implode could be called on non-array data

2004-06-30 Wednesday 18:16  thepurpleblob

	* format.php: 
	
	Added 'virtual' method for writequestion

2004-06-30 Wednesday 18:11  thepurpleblob

	* lib.php: 
	
	More question types added to support quiz exports

2004-06-29 Tuesday 00:25  moodler

	* version.php: 
	
	Updated requirements for quiz module

2004-06-24 Thursday 17:44  thepurpleblob

	* editmultianswer.php: 
	
	Corrected bug where selected category not displayed.

2004-06-24 Thursday 17:37  thepurpleblob

	* description.html, random.html: 
	
	Corrected bug where selected category not displayed.

2004-06-24 Thursday 17:36  thepurpleblob

	* match.html: 
	
	Corrected bug where selected category not displayed

2004-06-24 Thursday 17:35  thepurpleblob

	* numerical.html: 
	
	Corrected bug where category not selected properly.

2004-06-23 Wednesday 17:42  thepurpleblob

	* multiple.php: 
	
	fixed correct category not selected

2004-06-23 Wednesday 17:35  thepurpleblob

	* truefalse.html, multichoice.html: 
	
	fixed correct category not selected

2004-06-23 Wednesday 17:33  thepurpleblob

	* lib.php: 
	
	Fixed mistake in category selection - now correctly shows selected
	category

2004-06-23 Wednesday 17:31  thepurpleblob

	* shortanswer.html: 
	
	fixed correct category not selected

2004-06-23 Wednesday 04:44  julmis

	* attempt.php, lib.php: 
	
	Updates to quiztimer - mark question result to zero if time limit
	is exceeded

2004-06-22 Tuesday 19:02  thepurpleblob

	* lib.php: 
	
	Editing and adding question controls are now disabled where the
	user does not have editing rights. Applies to published categories.

2004-06-21 Monday 20:36  moodler

	* mod.html, view.php: 
	
	Minor formatting of timelimit stuff

2004-06-20 Sunday 18:57  julmis

	* attempt.php, jstimer.php, lib.php: 
	
	Fixes for quiztimer.  - Lets make cheating more complicated, more
	javascript based.  - Mark attempt to zero if time limit is exceeded
	over 60 seconds

2004-06-18 Friday 21:36  thepurpleblob

	* editmultianswer.php, multiple.php: 
	
	Category dropdown now displays publishing course name + only
	courses for which the user has editing rights are displayed

2004-06-18 Friday 21:20  thepurpleblob

	* random.html: 
	
	Category dropdown now displays publishing course name + only
	courses for which the user has editing rights are displayed

2004-06-18 Friday 21:18  thepurpleblob

	* description.html: 
	
	Added isset() to prevent uninitialized field causing notification. 
	Category dropdown now displays publishing course name + only
	courses for which the user has editing rights are displayed

2004-06-18 Friday 21:14  thepurpleblob

	* match.html: 
	
	Added isset() to prevent an uninitialized field causing
	notification.  Category dropdown now displays publishing course +
	only categories for which the user has editing rights are
	displayed.

2004-06-18 Friday 21:10  thepurpleblob

	* numerical.html: 
	
	Added isset() to check for uninitialised field causing
	notifications.	Category dropdown now displays publishing course +
	only categories for which the user has editing rights are
	displayed.

2004-06-18 Friday 21:07  thepurpleblob

	* shortanswer.html: 
	
	Category dropdown now shows publishing course + only those
	categories for which the user has editing rights are displayed

2004-06-18 Friday 21:03  thepurpleblob

	* multichoice.html: 
	
	Category dropdown now shows publishing course. Only those categores
	that the user has permission to edit are displayed

2004-06-18 Friday 20:59  thepurpleblob

	* truefalse.html: 
	
	Now only allows user to select categories that they can really
	edit.

2004-06-18 Friday 20:59  thepurpleblob

	* lib.php: 
	
	Added functions to only display categories that the user is
	actually allowed to edit. Used in question edit screens

2004-06-18 Friday 01:31  thepurpleblob

	* import.php: 
	
	fixed bug where select box for category is shown but changing it
	doesn't do anything category selected in previous edit screen now
	used, and *fixed* category displayed.  Course shortname has been
	added to category where category is published

2004-06-18 Friday 01:29  thepurpleblob

	* lib.php: 
	
	Added function to return category name with course shortname
	apended Added functions to read a complete quiz category structure
	into object	for development of export functionality - working
	but partial question	 types at the moment.

2004-06-18 Friday 00:47  thepurpleblob

	* shortanswer.html: 
	
	Fixed failure to check for uninitialized Formatting field which
	caused a notifcation in debug mode

2004-06-18 Friday 00:44  thepurpleblob

	* question.php: 
	
	$answers is innitialized to defined QUIZ_MAX_NUMBER_ANSWERS.  Was
	wrongly left fixed at 6

2004-06-18 Friday 00:18  thepurpleblob

	* export.php: 
	
	New file for exporting quizzes

2004-06-04 Friday 15:28  moodler

	* version.php: 
	
	MOdules are dependent on this version of course/mod.php

2004-06-04 Friday 14:17  moodler

	* mod.html, version.php: 
	
	BRANCH MERGE
	
	These are the changes from MOODLE_13_STABLE, merged into trunk
	
	The tag MOODLE_13_MERGED on the MOODLE_13_STABLE branch now refers
	to this point
	
	The biggest changes here are the fixes for HTML editor in all
	standard modules

2004-06-03 Thursday 21:07  moodler

	* mod.html, version.php: 
	
	OK, for bug fixes this is a pretty big checkin!!   :-/
	
	I finally was able to see the HTML Editor bug in IE/XP that
	everyone was talking about, and it's a very serious bug as it makes
	Moodle 1.3 almost unusable for these people.  :-(  :-(
	
	So, I eventually found out that the problem is that the Javascript
	that attaches the editor has troubles when it is embedded within
	the table						    that
	course/mod.php puts around the mod.html forms in each module. 
	(Only in IE and only sometimes, mind you).
	
	While testing I also had a good look at a long standing issue which
	is the inconsistency of the mod.html forms when using the editor.
	
	So, to fix both I decided to put the HTML editor calls OUTSIDE the
	mod.html in the mod.php file.  This means that all modules get the
	HTML editor by default on all text areas during activity module
	setup by default.
	
	I've been running through this for the past few hours and it seems
	pretty stable now and a lot more consistent, so I'm checking it in
	as big fix towards the Moodle 1.3.1 we have to have.
	
	Unfortunately it also means the API has changed a bit  ... I had to
	update all the module dependencies to this exact version (or
	later).
	
	Please test this "stable" version hard using the standard modules
	only and I'll merge these changes over to the trunk in a day or so
	and update all known third-party modules.

2004-06-03 Thursday 20:45  julmis

	* jstimer.php, timer.js: 
	
	Trying to fix Safari bug (NaN).

2004-06-03 Thursday 02:03  julmis

	* attempt.php, jstimer.php, lib.php, mod.html, timer.js,
	version.php, view.php, view_js.php, db/mysql.php, db/mysql.sql,
	db/postgres7.php, db/postgres7.sql: 
	
	QuizTimer modifications added plus necessary files along.

2004-05-23 Sunday 18:25  moodler

	* lib.php: 
	
	Simpler way to update events for a quiz

2004-05-19 Wednesday 11:52  moodler

	* edit.php: 
	
	Fixed the link I just added

2004-05-19 Wednesday 11:22  moodler

	* edit.php: 
	
	If a quiz has been attempted and the teacher is editing the quiz,
	then let them know about the attempts.
	
	bug 321
	
	Thanks, Bernard!

2004-05-19 Wednesday 10:53  moodler

	* lib.php: 
	
	Fix for BUg 320 from Bernard Boucher

2004-05-18 Tuesday 21:31  moodler

	* report/overview/report.php: 
	
	Use fullname() functions for quiz reports

2004-05-18 Tuesday 01:04  moodler

	* lib.php, version.php, db/mysql.php, db/postgres7.php: 
	
	Quizzes with long periods (longer than 5 days) are now handled in
	the calendar as two separate events ... one for open and one for
	close
	
	bug 1402

2004-05-16 Sunday 18:20  moodler

	* edit.php, import.php, lib.php, multiple.php, question.php: 
	
	Some cleaning up of the navigation bars in quizzes

2004-05-16 Sunday 11:14  moodler

	* attempt.php, lib.php, review.php: 
	
	Use overlib feedback on cloze-style questions

2004-05-14 Friday 22:36  moodler

	* lib.php, question.php: 
	
	Fixes to prevent users from creating bad quiz questions with not
	enough answers in them.
	
	Thanks to Shane Elliott (Ikawhero)

2004-05-05 Wednesday 15:07  gustav_delius

	* lib.php: 
	
	Events associated to hidden activities are now invisible in
	calendar, using new field 'visible' in table 'event' which is
	updated each time a course module is hidden or unhidden.

2004-05-03 Monday 10:12  moodler

	* quizfile.php: 
	
	Removing some security checks that seem to cause trouble

2004-04-28 Wednesday 10:56  moodler

	* lib.php, version.php, db/mysql.php, db/oci8po.php,
	db/postgres7.php: 
	
	Support for events.
	
	Ouch - I thought I'd checked this in days ago

2004-04-25 Sunday 17:16  stronk7

	* lib.php: 
	
	As showing/hiding "Save my answers" button was based in
	empty($results), moved $results->attemptbuildsonthelast to
	$attemptbuildsonthelast.  This was introduced in my latest CVS
	version, trying to take out some notices...solved now.

2004-04-25 Sunday 16:43  stronk7

	* lib.php: 
	
	Take our some notices...

2004-04-08 Thursday 07:38  stronk7

	* lib.php: 
	
	Solved two small typos preventing quiz being deleted properly in
	quiz_delete_instance() function:
	public----------------------------------->publish
	get_record("quiz_attempts")------------->get_records("quiz_attempts
	")

2004-03-25 Thursday 22:55  moodler

	* import.php: 
	
	After an error on import, come back to this page

2004-03-24 Wednesday 22:36  moodler

	* question.php: 
	
	Multichoice defaults to a single answer

2004-03-19 Friday 22:51  moodler

	* lib.php: 
	
	Multianswer cloze questions now show feedback (you need to hover
	your mouse over the answers)

2004-03-16 Tuesday 22:02  moodler

	* report/overview/report.php: 
	
	Fixed some newly-introduced bugs caused by recent function name
	change

2004-03-15 Monday 22:41  moodler

	* lib.php: 
	
	Handle '+' signs in short answers

2004-03-12 Friday 21:03  moodler

	* lib.php: 
	
	In shortanswers you can now use \* (ie slash asterisk) to mean a
	real asterisk
	
	Normally the asterisk is a wildcard

2004-03-10 Wednesday 17:49  moodler

	* attempt.php: 
	
	Format intro on attempts as well.

2004-03-10 Wednesday 17:45  moodler

	* view.php: 
	
	Properly format Quiz text (filters etc)

2004-03-10 Wednesday 11:45  moodler

	* lib.php: 
	
	More rubustness

2004-03-09 Tuesday 13:56  moodler

	* lib.php: 
	
	SHortanswer field just a bit bigger

2004-03-09 Tuesday 13:51  moodler

	* lib.php: 
	
	Fix case of printing shortanswers with quotes in them

2004-03-06 Saturday 17:51  moodler

	* lib.php: 
	
	Slightly bigger input box for short answers
	
	http://moodle.org/mod/forum/discuss.php?d=5909

2004-03-05 Friday 21:38  moodler

	* version.php: 
	
	Small bump to fix a particular site

2004-02-21 Saturday 05:47  selliott

	* lib.php: 
	
	Added logic in function quiz_get_recent_mod_activity for groups

2004-02-20 Friday 02:14  moodler

	* lib.php: 
	
	Format answers in multiple choice questions

2004-02-19 Thursday 21:28  moodler

	* version.php, db/mysql.php, db/mysql.sql, db/postgres7.php,
	db/postgres7.sql: 
	
	Fixed missing log_displays  - thanks Eloy!

2004-02-19 Thursday 15:53  moodler

	* lib.php: 
	
	Don't show editing icons when questions can't be edited!

2004-02-18 Wednesday 16:40  moodler

	* review.php: 
	
	Better error checking when trying to show an incomplete attempt

2004-02-18 Wednesday 11:07  moodler

	* lib.php: 
	
	Format quiz feedback

2004-02-18 Wednesday 10:28  moodler

	* restorelib.php: 
	
	Restore logs consistently

2004-02-18 Wednesday 10:24  moodler

	* attempt.php: 
	
	Changed log URLs for attempts ... the old one worked too but this
	is better for consistency.
	
	Not much gets past Eloy "Eagle Eyes" Lafuente!

2004-02-18 Wednesday 01:27  stronk7

	* restorelib.php: 
	
	Now "attempt", "submit" and "review" actions use the
	q=xxx&attempt=yyyy syntax instead of	     id=xxxx&attempt=yyyy
	(not working old one) It's necessary to change the "review"
	add_to_log() call to use this sintax. It uses the old (nor working)
	one.  I wait to Martin to do this, because I've sent one email
	about this.  For info, the line to correct is number 57 in
	review.php from: add_to_log($course->id, "quiz", "review",
	"review.php?id=$cm->id&attempt=$attempt->id", "$quiz->id",
	"$cm->id"); to: add_to_log($course->id, "quiz", "review",
	"review.php?q=$quiz->id&attempt=$attempt->id", "$quiz->id",
	"$cm->id"); Ciao :-)

2004-02-17 Tuesday 20:14  moodler

	* attempt.php, lib.php: 
	
	FIxed the logging of attempts so that clicking on the link in the
	log actually shows you that attempt, rather than opening a new one!

2004-02-17 Tuesday 04:40  stronk7

	* restorelib.php: 
	
	Now label, quiz, resource and survey logs are restored properly (I
	think) :-)

2004-02-17 Tuesday 04:22  stronk7

	* report.php, review.php: 
	
	Added missing cmid parameter when calling add_to_log() function for
	report and review actions :-)

2004-02-15 Sunday 15:18  moodler

	* report/overview/report.php: 
	
	Use the new short way of setting up groups

2004-02-15 Sunday 14:26  selliott

	* lib.php: 
	
	Deleted quiz_print_recent_instance_activity and
	quiz_get_recent_quizzes (only used in course/recent.php) Added
	quiz_print_recent_mod_activity and quiz_get_recent_mod_activity
	(for course/recent.php)

2004-02-15 Sunday 00:52  moodler

	* report/overview/report.php: 
	
	Group support for Quiz reports.  :-)
	
	... except detailed stats.

2004-02-14 Saturday 07:47  stronk7

	* backuplib.php, restorelib.php: 
	
	Now the questiontextformat is supported in backup/restore too.

2004-02-13 Friday 22:01  moodler

	* description.html, lib.php, match.html, multichoice.html,
	numerical.html, question.php, randomsamatch.html, shortanswer.html,
	truefalse.html, version.php, db/mysql.php, db/mysql.sql,
	db/postgres7.php, db/postgres7.sql: 
	
	Quiz questions now have proper formatting controls.
	
	Any format can be used.  This fixes a number of problems at once,
	but the latest one is Bug #1047

2004-02-12 Thursday 11:48  moodler

	* category.php: 
	
	FIxed (old?) bug that sometimes prevented new categories

2004-02-12 Thursday 11:41  moodler

	* lib.php: 
	
	Use format_text on question texts so we get caching, filters etc

2004-02-06 Friday 04:40  selliott

	* lib.php: 
	
	Added user parameter to print_recent_instance_activity and
	get_recent_quizzes (for course/recent.php)

2004-02-05 Thursday 16:24  moodler

	* db/: mysql.php, postgres7.php: 
	
	Removing the log upgrades from here (too slow)

2004-02-05 Thursday 13:00  moodler

	* version.php, db/mysql.php, db/postgres7.php: 
	
	Update old quiz logs

2004-02-05 Thursday 10:54  moodler

	* attempt.php: 
	
	Add coursemodule info to logs for attempts and submits

2004-02-04 Wednesday 23:12  selliott

	* lib.php: 
	
	Added functions quiz_get_recent_quizzes and
	quiz_print_recent_instance_activity for course/recent.php (a recent
	activities page).

2004-02-01 Sunday 12:42  moodler

	* version.php: 
	
	Updating version numbers of all Modules to make things a bit
	clearer

2004-01-31 Saturday 23:25  moodler

	* version.php: 
	
	All modules now require the very latest because of the changes to
	add_to_log

2004-01-31 Saturday 23:22  moodler

	* view.php: 
	
	Upgraded add_to_log to send cm->id

2004-01-30 Friday 23:22  moodler

	* report/overview/report.php: 
	
	OK, much better.  What was I thinking.	:-)

2004-01-30 Friday 23:16  moodler

	* report/overview/report.php: 
	
	On second thoughts, added hours

2004-01-30 Friday 23:16  moodler

	* report/overview/report.php: 
	
	Fixed date format

2004-01-28 Wednesday 12:27  moodler

	* version.php: 
	
	Define minimum required versions of Moodle

2004-01-26 Monday 20:07  moodler

	* index.php: 
	
	Better dividers in the table

2004-01-26 Monday 04:34  gustav_delius

	* description.html, editmultianswer.php, lib.php, match.html,
	multichoice.html, numerical.html, randomsamatch.html,
	shortanswer.html, truefalse.html: 
	
	replaced incorrectly closed html tags, see bug 365

2004-01-22 Thursday 01:13  moodler

	* lib.php: 
	
	For now just avoid public categories.
	
	It would be nice if instead a check was made to make sure that the
	category wasn't being used by other courses, then even public
	categories could be deleted.

2004-01-22 Thursday 00:44  moodler

	* lib.php: 
	
	New function quiz_delete_course() which deletes all the leftover
	stuff while a course is being deleted

2004-01-22 Thursday 00:04  moodler

	* lib.php: 
	
	Only list categories that belong to real courses

2004-01-21 Wednesday 11:22  moodler

	* lib.php: 
	
	Slight fix for null case (Add Choose item on popup menus)

2004-01-18 Sunday 14:17  moodler

	* index.php, lib.php: 
	
	Some fixes for displaying empty grades in quizzes
	
	suggested by Marilyn Fleming
	http://moodle.org/mod/forum/discuss.php?d=4636

2004-01-15 Thursday 23:26  moodler

	* lib.php: 
	
	Menus on quiz editing no longer need the submit buttons

2004-01-14 Wednesday 11:25  moodler

	* report/overview/report.php: 
	
	Make it easier to click on attempts

2004-01-13 Tuesday 00:30  moodler

	* attempt.php: 
	
	Some fixes to clarify handling of the number of attempts

2004-01-10 Saturday 15:39  moodler

	* lib.php, multichoice.html, shortanswer.html: 
	
	Increased QUIZ_MAX_NUMBER_ANSWERS to 10, and actually made it apply
	to everythin

2004-01-09 Friday 20:57  moodler

	* edit.php: 
	
	Fixed a small bug introduced yesterday

2004-01-07 Wednesday 21:16  moodler

	* edit.php: 
	
	Fixed header

2004-01-07 Wednesday 21:10  moodler

	* edit.php: 
	
	Some cleaning up of the edit screen (especially in non-quiz mode)

2004-01-01 Thursday 23:12  kaipe

	* editmultianswer.php: 
	
	As this page uses the multianswer import format, the require_once
	statements have been updated to fit the new plug-in paths for the
	import formats.

2004-01-01 Thursday 23:01  kaipe

	* lib.php: 
	
	Short-answer fixes: As the wild card feature makes it possible for
	a response to match more than one answer alternative, I made sure
	that the alternative with the highest grade would count.  I also
	fixed bug #945 for the short answer case.

2004-01-01 Thursday 20:47  kaipe

	* attempt.php: 
	
	Fixed bug that could cause duplication of attempt numbers.  This
	bug came to the surface when the possibility to delete attempts was
	introduced in report/overview/report.php

2004-01-01 Thursday 03:22  kaipe

	* lib.php: 
	
	Fixed a single/double quote issue (again)

2003-12-30 Tuesday 15:28  moodler

	* lib.php: 
	
	Fixed some single/double quote issues

2003-12-30 Tuesday 15:04  moodler

	* lib.php: 
	
	Bodgy HTML converted to nice clean XHTML fragments.
	
	Thanks to Jonathan Moore and all his work!

2003-12-29 Monday 17:40  moodler

	* lib.php: 
	
	Some preliminary code to allow wildcards in short answers.  Based
	on code sent by Thomas Robb

2003-12-29 Monday 17:28  moodler

	* index.php: 
	
	Better info about quizzes

2003-12-29 Monday 17:24  moodler

	* report.php: 
	
	Edit button on quiz reports

2003-12-17 Wednesday 21:49  moodler

	* view.php: 
	
	More accurate info on link to reports

2003-12-17 Wednesday 21:35  moodler

	* quizfile.php: 
	
	A small fix for showing pictures in randomly-selected questions

2003-12-17 Wednesday 21:04  moodler

	* report/overview/report.php: 
	
	Improved overview, now allows deleting and shows more info.
	
	Thanks very much for Thomas Robb for submitting the original
	modification with the new functionality ... I ended up doing a lot
	of cleaning up and reworking of it but it wouldn't have been done
	without Thom's work.

2003-12-13 Saturday 10:30  moodler

	* view.php: 
	
	Improved description of interim final grade

2003-12-13 Saturday 10:09  moodler

	* report/overview/report.php: 
	
	Name of final grade column makes more sense now

2003-12-12 Friday 15:35  moodler

	* format.php, import.php, lib.php: 
	
	Reworking of the plug-in format for import/export files.
	
	Each format is now in it's own subdirectory, which allows the
	format to have as many files as it likes.  The formats are now
	detected automatically (no need to edit lib.php anymore) and the
	parent class is now in mod/quiz/format.php
	
	Lastly, I added Paul Shew's new GIFT format.

2003-12-11 Thursday 04:03  kaipe

	* category.php, edit.php, import.php, index.php, lib.php,
	multiple.php, question.php: 
	
	The Quizzes page is given an "Edit questions" button that links to
	a possibility to edit questions without opening a quiz.

2003-12-01 Monday 14:37  moodler

	* lib.php: 
	
	New format called "Aiken format" by Thomas Robb (and Art Lader) to
	allow import of questions like this:
	
	Every seriously injured person is likely to go into A) shock.  B)
	infection.  C) hemorrhage.  D) respiratory pain.  ANSWER: A

2003-11-22 Saturday 10:42  moodler

	* backuplib.php: 
	
	Use main translation for "grades"

2003-11-21 Friday 03:38  kaipe

	* lib.php: 
	
	Made it possble to give negative grades for single multichoice
	answers in a question with embedded answers, as suggested by Koen
	Roggemans. The total score of the whole question must still be
	greater than or equeal to zero.

2003-11-21 Friday 00:01  moodler

	* report.php: 
	
	Show standard reports first

2003-11-20 Thursday 19:23  moodler

	* question.php: 
	
	Fixed authentication a little

2003-11-15 Saturday 11:31  moodler

	* lib.php: 
	
	Don't have the Javascript dialog on submitting an attempt if the
	quiz doesn't have a grade.

2003-11-12 Wednesday 00:13  moodler

	* version.php, db/mysql.php, db/postgres7.php: 
	
	Added some bug-fixing code from Eloy Lafuente that fixes a quiz
	problem.
	
	What happens is that adding random questions used to set the
	timestamps of these questions to the same value.  This is fine in
	normal operation, but it stuffs up the backup of that course,
	overwriting the question.  When the course is restored, the missing
	questions cause quizzes to have lots of red notices like "Question
	not found".
	
	Anyhow, this patch should safely fix older installations that may
	have these duplicate questions lying around.
	
	THANKS ELOY!

2003-11-03 Monday 05:36  kaipe

	* lib.php, quizfile.php: 
	
	The new quizfile.php makes it possible to view associated file
	material on quizes, such as images, even for questions belonging to
	a category on a different course. lib.php is updated accordingly...

2003-11-01 Saturday 05:27  kaipe

	* lib.php: 
	
	An improvement asked for by koen roggemans: Especially for
	multianswer questions it is often desirable to have the grade of
	the question in a quiz larger than the earlier maximum of 10
	points.  The new function quiz_gradesmenu_options($defaultgrade)
	makes quiz question list grade selector drop-down have the maximum
	grade option set to the highest value between 10 and the
	defaultgrade of the question.

2003-10-28 Tuesday 17:50  moodler

	* multiple.php: 
	
	Use unique stamps when creating multiple questions ...

2003-10-25 Saturday 10:38  moodler

	* edit.php: 
	
	Fixed background colours in quix editing page body-> cellcontent2

2003-10-23 Thursday 23:40  moodler

	* lib.php: 
	
	Fix bug in NUMERICAL questions where feedback was only shown if the
	question was correct

2003-10-15 Wednesday 16:53  moodler

	* import.php, lib.php: 
	
	Added new import format - Course Test Manager - from Russell
	Jungwirth.
	
	All I've done is clean up the source code - I've not tested it at
	all.

2003-09-28 Sunday 22:57  moodler

	* lib.php: 
	
	MOved quiz_get_participants from the bottom to the standard
	functions area

2003-09-25 Thursday 09:25  les_kopari

	* db/oci8po.php: 
	
	Initial add for Oracle.

2003-09-23 Tuesday 00:03  moodler

	* lib.php: 
	
	Fixed a NASTY little bug that sometimes occurred when re-grading
	quizzes with random questions in them.
	
	(everyone got set to zero)

2003-09-13 Saturday 16:02  les_kopari

	* db/oci8po.sql: 
	
	Oracle tables, etc converted from mysql, plus test transactions.

2003-09-11 Thursday 21:21  moodler

	* edit.php, numerical.html: 
	
	More short tags

2003-09-10 Wednesday 22:06  moodler

	* index.php, report/overview/report.php: 
	
	FIxed widths properly

2003-09-10 Wednesday 22:00  moodler

	* index.php, view.php, report/overview/report.php: 
	
	Fixed some typos when defining tables

2003-09-10 Wednesday 16:22  moodler

	* attempt.php, lib.php, mod.html, review.php: 
	
	All grades are hidden now when zero grade is chosen ... even the
	marks.
	
	This mode is only really useful when feedback is turned on.

2003-09-10 Wednesday 13:02  moodler

	* attempt.php, lib.php, mod.html, review.php, view.php: 
	
	Quiz grades can be set to zero.
	
	If so, then grades are not shown to students, nor is a column added
	to the gradebook (although they are still stored and calculated
	internally)

2003-09-09 Tuesday 20:32  moodler

	* description.html, edit.php, editmultianswer.php, match.html,
	multichoice.html, numerical.html, random.html, randomsamatch.html,
	shortanswer.html, truefalse.html: 
	
	Fixed some PHP short_tags

2003-09-08 Monday 05:56  stronk7

	* lib.php: 
	
	Included quiz_get_participants() function.

2003-08-31 Sunday 13:57  moodler

	* db/postgres7.sql: 
	
	Fixed commas

2003-08-29 Friday 09:14  moodler

	* editmultianswer.php, multiple.php: 
	
	Questions were being created here without a stamp

2003-08-29 Friday 01:07  moodler

	* lib.php: 
	
	Default quiz category must have a stamp

2003-08-28 Thursday 08:50  stronk7

	* restorelib.php: 
	
	Take out two debugs !!

2003-08-28 Thursday 01:09  stronk7

	* backuplib.php, restorelib.php: 
	
	Now STAMP fiel is supported in backup & restore.  If it exists in
	backup-file used, else, old search-by-name is used.  When inserting
	new categories, stamp is filled it it doesn't exist.  Updated
	version to 1.1 Beta +++ !!

2003-08-27 Wednesday 20:53  moodler

	* category.php, version.php, db/mysql.php, db/mysql.sql,
	db/postgres7.php, db/postgres7.sql: 
	
	Quiz categories now also have a unique stamp in them.
	
	This is to make it easier when restoring backups, especially when
	the questions are in a published category from another course that
	still exists.

2003-08-27 Wednesday 08:17  stronk7

	* restorelib.php: 
	
	Now existing categories are used only if their publish field is set
	to yes. Else, a new "local" category is created.  Added some lines
	of code to mantain old compatibility when detecting existing
	questions (do it by name if the stamp is not found) and insert the
	stamp too !! Please, test.

2003-08-26 Tuesday 15:09  moodler

	* db/oci8po.sql: 
	
	Remove half-finished oracle files

2003-08-26 Tuesday 01:57  moodler

	* multichoice.html: 
	
	Maxlength fields

2003-08-25 Monday 10:52  moodler

	* restorelib.php: 
	
	Sometimes there are no answers, so check existence first

2003-08-25 Monday 10:48  moodler

	* restorelib.php: 
	
	Fixed some array indices

2003-08-23 Saturday 23:26  moodler

	* question.php: 
	
	New questions created via GUI or imported are now given a unique
	stamp, and a default version of 1.
	
	When questions are updated, the version number is incremented.

2003-08-23 Saturday 23:21  stronk7

	* backuplib.php, restorelib.php: 
	
	Now stamp and version are fully supported in backup/restore.  The
	process look for category, stamp and version to calculate when to
	create a question or use a existing one.  This avoid duplicates in
	RANDOM and RANDOMSAMATCH qtypes.

2003-08-23 Saturday 22:18  moodler

	* version.php, db/mysql.php, db/mysql.sql, db/postgres7.php,
	db/postgres7.sql: 
	
	Corrected the stamp I just added and added a separate version field
	instead

2003-08-23 Saturday 21:28  moodler

	* version.php, db/mysql.php, db/mysql.sql, db/postgres7.php,
	db/postgres7.sql: 
	
	New "stamp" field on quiz questions with a unique identifier, as
	well as some PostgreSQL fixes (Multianswer stuff had not been done
	on Postgres yet)

2003-08-23 Saturday 08:35  stronk7

	* backuplib.php, restorelib.php: 
	
	Now multianswer questions are working too.  Too complicated !!

2003-08-22 Friday 23:46  stronk7

	* backuplib.php, restorelib.php: 
	
	Changed the "graphical" representation of the mod to include
	multianswer table. I start working with it now !!

2003-08-19 Tuesday 22:27  moodler

	* editmultianswer.php: 
	
	FIxed line feeds

2003-08-18 Monday 15:45  moodler

	* lib.php: 
	
	Bug fix: On building attempts after the first one, display question
	images

2003-08-18 Monday 15:39  moodler

	* mod.html: 
	
	Changing that help file name to something shorter

2003-08-16 Saturday 03:11  stronk7

	* restorelib.php: 
	
	Solved one bug when restoring MATCH(5) questions if the question is
	an existing one. Some mapping are done to use after them in
	responses.

2003-08-16 Saturday 02:10  stronk7

	* restorelib.php: 
	
	Solved one bug when restoring RANDOMSAMATCH(6) questions if they
	haven't been responsed in the quiz. The answer field in
	quiz_responses must have X-0,Y-0 format instead of null.  Curiosly,
	MATCH(5) questions must have null if they aren'r responsed.

2003-08-15 Friday 19:07  stronk7

	* restorelib.php: 
	
	Solved one important bug in RANDOM(4) and RANDOMSAMATCH(6) question
	types.	And modified some of the quiz_answers restore system to
	allow remapping answers with existing questions.  //Detected by
	scott dot elliott at mchsi dot com in Bug 84

2003-08-11 Monday 20:37  kaipe

	* attempt.php: 
	
	Debug This fix rids warnings that used to come when a student for
	the first time attempts a quiz with the option "Each attempt builds
	on the last" = Yes (attemptonlast).  Now the option is not in
	effect when a student attempts a quiz for the first time, i.e. when
	there is no last attempt to build on.

2003-08-10 Sunday 20:09  kaipe

	* lib.php: 
	
	Fixed bug that was pointed out by Tom Cat: The reuse of old
	quiz_answers records for question type multianswer/embedded did not
	work properly.

2003-08-05 Tuesday 13:11  moodler

	* db/mysql.sql: 
	
	Fixed a typo on the multianswer table definition

2003-08-05 Tuesday 02:39  stronk7

	* version.php: 
	
	Changed "eachattemptbuildsonthelast" column name to
	"attemptonlast". Seems to work.

2003-08-04 Monday 18:38  stronk7

	* backuplib.php, restorelib.php: 
	
	ATTEMPTONLAST are included in backup/restore too !!

2003-08-04 Monday 18:31  stronk7

	* attempt.php, mod.html, db/mysql.php, db/mysql.sql: 
	
	Changed "eachattemptbuildsonthelast" column name to
	"attemptonlast". Seems to work.

2003-08-04 Monday 07:00  kaipe

	* attempt.php, lib.php, mod.html, review.php, version.php: 
	
	New quiz option - "Each attempt builds on the last" This makes it
	possible for students to take a tedious quiz, save it half-way and
	have it graded. The student can then, at a later point, get back to
	the quiz and have the previous answers already filled in and
	graded. The student can then continue with the remaining questions
	as well as redo all the answers that got wrong at the previous
	attempt.  It seems to work fine with one little twisted exception:
	Say that the student attempts the quiz first and that the teacher
	thereafter edits the quiz and removes or adds a few questions. This
	will work out fine for as long as the teacher do not get the idea
	of adding a question with question type RANDOM. The quiz will be
	fully functional again after removing that RANDOM question or
	resetting the option 'Each attempt builds on the last" to NO.  Not
	a very serious problem but it takes someone with greater insight in
	question type RANDOM to resolve it.
	
	As always, I can not commit lang/en/quiz.php.  --- As I was using
	the function quiz_get_attempt_responses I had it refactored
	removing the obsolete argument $quiz. I also changed the call from
	review.php

2003-08-04 Monday 06:54  kaipe

	* db/: mysql.php, mysql.sql: 
	
	New quiz option - "Each attempt builds on the last" This makes it
	possible for students to take a tedious quiz, save it half-way and
	have it graded. The student can then, at a later point, get back to
	the quiz and have the previous answers already filled in and
	graded. The student can then continue with the remaining questions
	as well as redo all the answers that got wrong at the previous
	attempt.  It seems to work fine with one little twisted exception:
	Say that the student attempts the quiz first and that the teacher
	thereafter edits the quiz and removes or adds a few questions. This
	will work out fine for as long as the teacher do not get the idea
	of adding a question with question type RANDOM. The quiz will be
	fully functional again after removing that RANDOM question or
	resetting the option 'Each attempt builds on the last" to NO.  Not
	a very serious problem but it takes someone with greater insight in
	question type RANDOM to resolve it.
	
	As always, I can not commit lang/en/quiz.php.

2003-08-04 Monday 05:39  kaipe

	* lib.php: 
	
	Resolving bug #576.  This solution shows the message "Recently
	added question!" and the question text for each question that has
	been added since the reviewed attempt.	The advantage with the
	chosen solution is that it will work fine for the (soon to come)
	"Each attempt builds on the last" quiz option.
	
	As I don't have the karma needed for updating in lang/en/, the
	message does not yet look quite as I described it above.

2003-08-04 Monday 04:02  kaipe

	* lib.php: 
	
	Debugged question types NUMERICAL and MULTIANSWER (known as
	embedded answers) as these did not do things right whenever a
	student had not given any response (was treated as zero etc).  For
	numerical there was also a need to allow typical shortanswer
	responses whenever there could be answers like n/a, inf, -inf, nan
	etc.  Further more about numerical, there can be more than one
	answer alternative defined (just like for shortanswer). This is not
	supported by numerical.html but everywhere else. MULTIANSWER
	included, it is up to any taker to update numerical.html. This is
	more than likely to lead to overlappings between numerical ranges
	if more than one is defined. Think of the case where the highest
	grade answer ranges between 0 and 2 and the half grade answer
	ranges between 2 and 4. How should we grade 2? We should pick the
	highest grade!

2003-08-04 Monday 00:41  stronk7

	* restorelib.php: 
	
	Forget delete some debug, sorry. :-)

2003-08-04 Monday 00:36  stronk7

	* restorelib.php: 
	
	Now, when a category exists, if we are restoring to a different
	course, set utomatically the publish field to 1.  If a question
	exists in DB (by category, questiontext and qtype) it isn't
	duplicated.  This produce some problems restoring answes, but avoid
	duplicates.

2003-08-02 Saturday 13:05  moodler

	* pix/mu.gif: 
	
	Less fiddly looking icon

2003-08-02 Saturday 13:01  moodler

	* pix/mu.gif: 
	
	Quick icon for multiple answers

2003-08-01 Friday 21:24  kaipe

	* question.php: 
	
	Added the choice of 16.666% for multichoice fraction

2003-08-01 Friday 16:37  kaipe

	* attempt.php, editmultianswer.php, lib.php, question.php,
	version.php: 
	
	New question type - multianswer

2003-08-01 Friday 16:32  kaipe

	* db/: mysql.php, mysql.sql: 
	
	New question type - multianswer

2003-07-29 Tuesday 17:11  kaipe

	* lib.php: 
	
	Refactoring only, no new features - Modified methods are
	quiz_get_answers and quiz_grade_attempt_results.  For
	quiz_grade_attempt_results, the switch statement has been separated
	out into method quiz_grade_attempt_question_result.

2003-07-29 Tuesday 03:32  stronk7

	* restorelib.php: 
	
	Added language support

2003-07-29 Tuesday 03:24  stronk7

	* restorelib.php: 
	
	Added language suport

2003-07-28 Monday 16:58  moodler

	* attempt.php, jsclock.php: 
	
	When a quiz is closing within the next 24 hours, a small countdown
	is shown in the titlebar (drawn with javascript).
	
	An alert is shown at ten minutes, and zero minutes.
	
	This doesn't prevent students from doing anything, but it serves as
	a reminder and just looks cool.  ;-)

2003-07-28 Monday 10:04  moodler

	* report.php: 
	
	Improvements to simplestat (more info in HTML display plus
	downloads XLS an TXT)

2003-07-25 Friday 00:48  moodler

	* lib.php, report.php, view.php: 
	
	Further changes to tidy up reports

2003-07-24 Thursday 14:21  moodler

	* view.php: 
	
	Better string for teacher reports

2003-07-24 Thursday 13:18  moodler

	* lib.php, report.php, review.php, version.php, view.php,
	db/mysql.php, db/mysql.sql, db/postgres7.php, db/postgres7.sql,
	report/default.php, report/overview/report.php,
	report/regrade/report.php: 
	
	New modular plugin structure for quiz reports.
	
	The code for reviewing an existing attempt is now separate in
	review.php and now has a log entry of it's own.
	
	The overview and regrade reports are now in separate subdirectories
	under the "report" directory.  Each has a primary "report.php" file
	which implements the report as a class.
	
	These existing reports are very simple, but now more complex ones
	can easily be written.	(I am about to do one).

2003-07-24 Thursday 10:04  moodler

	* attempt.php: 
	
	
	Better layout of gathering quiz results, which mkes it easier for
	developers at the cost of perhaps a little efficiency ... some more
	testing on this i should be done.   Thanks to Henrick Kaipe for
	this.

2003-07-22 Tuesday 01:25  stronk7

	* lib.php: 
	
	Reviewing an attempt now works fine with NUMERICAL and SHORTANSWERS
	containing the "," character. Bug #561 closed.

2003-07-20 Sunday 02:01  stronk7

	* backuplib.php, restorelib.php: 
	
	Now numerical questions are included in backup and restore too !!

2003-07-18 Friday 06:11  stronk7

	* numerical.html: 
	
	Modified a bit the form to avoid bug 556.  Seems to work fine now
	(render-html bug)

2003-07-13 Sunday 00:24  moodler

	* lib.php: 
	
	Print images correctly on questions included from categories in
	other courses.

2003-07-12 Saturday 13:19  moodler

	* index.php: 
	
	When displaying index lists of a particular module's activities,
	ensure that the order they are displayed in is always the same as
	the order they have been defined in.   See bug 553.
	
	This involved API changes to the function
	get_all_instances_in_course()

2003-07-10 Thursday 22:09  moodler

	* lib.php, version.php, db/mysql.php, db/mysql.sql,
	db/postgres7.php, db/postgres7.sql: 
	
	Added a question field to numerical table for completeness

2003-07-10 Thursday 21:25  moodler

	* lib.php, numerical.html, question.php, version.php, db/mysql.php,
	db/mysql.sql, pix/de.gif, pix/nu.gif: 
	
	New question type: Numerical questions.
	
	Mostly coded by Henrik Kaipe - I changed a few things on the way
	in.

2003-07-09 Wednesday 12:40  moodler

	* backuplib.php, restorelib.php: 
	
	Moving the backup libraries for each module into their new homes.
	
	There's some beer and pies in the fridge, guys, settle in.

2003-07-07 Monday 23:08  moodler

	* question.php: 
	
	Small bugfix to allow question categories to be changed

2003-07-06 Sunday 12:19  moodler

	* lib.php: 
	
	Don't allow grades to ever be set for description questions

2003-07-06 Sunday 12:08  moodler

	* mod.html: 
	
	Don't shuffle quiz questions by default (confusing to newcomers)

2003-07-06 Sunday 12:08  moodler

	* lib.php: 
	
	Description questions should not be selected randomly

2003-07-06 Sunday 12:00  moodler

	* description.html, edit.php, lib.php, question.php, pix/de.gif: 
	
	New question type called "Description".  All it does is print some
	text and/or an image, without requiring an answer.  Can be used to
	provide text for a following group of questions, or to insert a
	joke in the quiz etc ...
	
	This code is based on code sent in by Ursula Raab.  Thanks!
	
	See: http://moodle.org/mod/forum/discuss.php?d=508

2003-07-03 Thursday 01:30  stronk7

	* lib.php: 
	
	Excluded form quiz_choose_random_questions the quiz questions to
	avoid duplicates in quiz. Bug #544. Closed.

2003-06-16 Monday 22:40  moodler

	* mod.html: 
	
	Some fixes to avoid pointless uses of $ME

2003-06-14 Saturday 00:16  moodler

	* match.html, multichoice.html, randomsamatch.html,
	shortanswer.html, truefalse.html: 
	
	Wider question textareas

2003-06-12 Thursday 20:00  moodler

	* import.php: 
	
	Changes to includes to make it more robust on different versions of
	PHP while remaining secure

2003-06-10 Tuesday 13:33  moodler

	* mod.html: 
	
	Make form destinations relative (to course/mod.php) to avoid some
	form problems on mis-configured servers (wwwroot not quite right)

2003-06-07 Saturday 14:08  moodler

	* index.php: 
	
	Improved display of quiz listing to show the closing date, as well
	as direct links for the teacher to review attempts.  Thanks, Scott
	Elliott!

2003-05-23 Friday 23:20  moodler

	* lib.php: 
	
	A little more guidance on the quiz page.

2003-05-20 Tuesday 16:03  moodler

	* mod.html: 
	
	Minor code cleanups
	
	  - lowercasing
	  - removing short php tags
	  - adding some emoticon help here and there

2003-05-17 Saturday 11:02  moodler

	* lib.php: 
	
	More on Bug 427_  on second thoughts it's better this way, now at
	least the true/false entries get updated every time the question is
	updated.

2003-05-17 Saturday 10:54  moodler

	* lib.php: 
	
	This should fix the non-translatability of true/false questions bug
	427

2003-05-16 Friday 02:03  moodler

	* view.php: 
	
	I knew there was something else I'd forgotten!
	
	Added a check to all modules (well view.php anyway) to check
	whether a module is hidden or not.  If it is, then students get a
	message.

2003-05-16 Friday 01:01  moodler

	* lib.php: 
	
	FIxed bug where questions weren't being shown in reviews.

2003-05-15 Thursday 00:52  moodler

	* lib.php: 
	
	Better code to deal with shuffleorder.
	
	Now feedback is always in the same order as the quiz, and reports
	are always in the natural order.

2003-05-14 Wednesday 23:23  moodler

	* lib.php: 
	
	Fix the order of questions when shuffle is NOT being used.
	
	See bug 423 for details:
	http://moodle.org/bugs/bug.php?op=show&bugid=423

2003-05-03 Saturday 14:44  paca70

	* db/: postgres7.php, postgres7.sql: 
	
	Postgres needs full longnames for indexes to prevent overlapping
	names.

2003-05-03 Saturday 12:31  moodler

	* import.php: 
	
	Changed some function names, making room for export functions later

2003-05-02 Friday 23:31  moodler

	* import.php, lib.php: 
	
	Tidied up the quiz imports a bit, and added AON as a format choice
	
	Also added Scott Elliott's Blackboard module!

2003-04-28 Monday 14:36  paca70

	* lib.php: 
	
	Don't give fatal error when questions were not found.

2003-04-28 Monday 01:35  paca70

	* db/postgres7.php: 
	
	Corrected typo

2003-04-27 Sunday 23:33  paca70

	* version.php, db/postgres7.php: 
	
	quiz_match was missing...

2003-04-26 Saturday 23:08  moodler

	* lib.php: 
	
	Trying a different tack for recent_activity since the old way was
	still producing too much data and overflowing PHP memory on busier
	sites (eg moodle.org).
	
	Now, there are more database queries, which is unfortunate, but the
	data is much more specific, and no sorting needs to be done, so
	this is a performance boost.
	
	I don't know how these will cancel out ... my guess is that very
	small sites may be very slightly slower on the course page, but
	that large sites will be much faster.
	
	Let's see.

2003-04-26 Saturday 20:17  moodler

	* lib.php: 
	
	Cleaned up definition of constant COURSE_* values in course/lib.php
	
	Moved COURSE_TEACHER_COLOR out to style sheets where it belongs
	(.teacheronly)
	
	Added some efficiency when printing recent activity
	
	 - don't print more than one weeks worth of updates
	  - don't keep re-parsing logs once they've been used

2003-04-25 Friday 02:19  stronk7

	* index.php: 
	
	Changed to show the hidden quizzes dimmed (bug #364)

2003-04-25 Friday 01:13  moodler

	* lib.php: 
	
	More robust variable checking

2003-04-19 Saturday 05:05  paca70

	* db/postgres7.php: 
	
	Removed two `'s

2003-04-16 Wednesday 21:48  moodler

	* lib.php: 
	
	Er, similar to the last few changes but this way seems to actually
	work.  :-)
	
	Need sleep ...

2003-04-16 Wednesday 21:25  moodler

	* attempt.php, lib.php: 
	
	Improvements for shuffleorder in collections of random questions

2003-04-16 Wednesday 21:10  moodler

	* attempt.php, lib.php, report.php: 
	
	After doing a quiz that has been shuffled, present the feedback in
	the same order.  Note that shuffled ANSWERS may still appear
	reshuffled.
	
	When viewing reports, all shuffling is switched off so that quizzes
	always appear in the default order (for easier comparison).
	
	Also a few tweaks, robustness etc

2003-04-15 Tuesday 22:43  moodler

	* lib.php: 
	
	Fixes for bug 268 - Changing answers of questions can lose
	responses for existing quizzes with those questions.
	
	When updating a question it now checks for existing answers and
	updates those instead of making new ones.

2003-04-15 Tuesday 21:14  moodler

	* multiple.php: 
	
	Add category to random question names

2003-04-14 Monday 21:52  moodler

	* lib.php: 
	
	Fix for off-by-one grade error when 'Save Grades' had not been used

2003-04-11 Friday 22:44  moodler

	* lib.php, report.php: 
	
	Minor fixes

2003-04-11 Friday 01:55  moodler

	* lib.php, multiple.php, question.php: 
	
	New "create multiple questions" wizard.
	
	Improvements to the importing routine for AON

2003-04-10 Thursday 21:12  moodler

	* import.php: 
	
	Importing improved to include pre and post-processing.	Removal of
	Random Matching code from the generic case.  Implementing a
	particular custom import style aon.php

2003-04-10 Thursday 21:11  moodler

	* lib.php: 
	
	Minor robustness fix

2003-04-10 Thursday 21:04  moodler

	* pix/: ma.gif, rm.gif: 
	
	New icons

2003-04-09 Wednesday 22:27  moodler

	* mod.html: 
	
	More logical position for shuffle options

2003-04-09 Wednesday 21:57  moodler

	* lib.php, mod.html, version.php, db/mysql.php, db/mysql.sql,
	db/postgres7.php, db/postgres7.sql: 
	
	New quiz switches to
	
	  - shuffle questions order
	  - shuffle answers order

2003-04-09 Wednesday 16:11  moodler

	* report.php: 
	
	More fixes resulting from random question feature

2003-04-09 Wednesday 15:23  moodler

	* lib.php: 
	
	Slightly more efficient database access.

2003-04-09 Wednesday 14:32  moodler

	* attempt.php, lib.php, question.php, random.html, report.php: 
	
	First implementation of completely random questions.
	
	When you add a random question to a quiz, then a question is chosen
	randomly from the same category.
	
	Questions are not repeated in a particular quiz attempt.
	
	This still needs more testing, but it's looking OK so far.

2003-04-04 Friday 18:47  moodler

	* db/postgres7.sql: 
	
	Fixes for main SQL defintions - from Juro Chlebec

2003-03-31 Monday 00:51  moodler

	* randommatch.html, randomsamatch.html: 
	
	Renamed randommatch.html -> randomsamatch.html

2003-03-31 Monday 00:48  moodler

	* match.html: 
	
	New template for Match questions

2003-03-31 Monday 00:46  moodler

	* import.php, lib.php, question.php, randommatch.html, version.php,
	db/mysql.php, db/mysql.sql, db/postgres7.php, db/postgres7.sql,
	pix/ma.gif: 
	
	First cut at adding new "fixed" Match question type, which is
	manually created.  Works OK after limited testing.
	
	I've also renamed some strings to do with "Random Match", so that
	this question type is now called "Random Short-Answer Match".
	
	Later there will be a new 'Random Match' which randomly selects one
	of the existing "Match" questions.

2003-03-26 Wednesday 13:48  moodler

	* version.php, db/mysql.php: 
	
	Typo!

2003-03-26 Wednesday 13:46  moodler

	* version.php, db/mysql.php, db/mysql.sql: 
	
	Added some new indexes on quiz tables in MySQL

2003-03-20 Thursday 15:28  moodler

	* lib.php, report.php: 
	
	Changes to make regrading work properly if the quiz has changed
	
	and also an exptended timelimit for when regrading is REALLLLY slow
	fue to some other unknown reason (as yet)

2003-03-04 Tuesday 01:48  moodler

	* version.php, db/mysql.php, db/postgres7.php: 
	
	Updated versions only

2003-03-04 Tuesday 01:43  moodler

	* edit.php, import.php, lib.php, version.php, db/mysql.php,
	db/mysql.sql, db/postgres7.php, db/postgres7.sql: 
	
	Questions now have a defaultgrade column (which defaults to 1) ...
	this grade is used as the default grade when adding questions to a
	quiz.
	
	At the moment it's just so that some imported questions can have
	different defaults, but a field should be added to all question
	editing pages.

2003-03-04 Tuesday 01:05  moodler

	* edit.php, lib.php: 
	
	Added QUIZ_DEFAULT_SCORE ... later this will be a quiz option

2003-03-01 Saturday 13:11  moodler

	* lib.php: 
	
	Sort question list by question type

2003-03-01 Saturday 13:08  moodler

	* import.php: 
	
	Can now specify a number of random match questions to create
	automatically during import.

2003-02-27 Thursday 10:49  moodler

	* edit.php: 
	
	Removed save_session() - no longer necessary

2003-02-25 Tuesday 20:43  moodler

	* db/oci8po.sql: 
	
	Draft-only version from Les

2003-02-24 Monday 18:42  moodler

	* db/: postgres7.php, postgres7.sql: 
	
	New table for Postgres

2003-02-24 Monday 18:37  moodler

	* attempt.php, edit.php, lib.php, multichoice.html, question.php,
	randommatch.html, shortanswer.html, truefalse.html, version.php,
	db/mysql.php, db/mysql.sql, pix/rm.gif: 
	
	First version of code to implement new "Random Matching" type of
	questions.  These use 2 or more short answer questions at random to
	construct a questions where you have to match answers to questions.
	 Only lightly tested so far.
	
	Quiz questions can now be edited with Richtext editor.
	
	Sundry little fixes along the way.

2003-02-18 Tuesday 02:13  moodler

	* lib.php: 
	
	Little changes

2003-02-16 Sunday 16:03  moodler

	* import.php: 
	
	Tidy up the import screen

2003-02-16 Sunday 16:03  moodler

	* lib.php: 
	
	Change MC answers to letters a, b, c etc ...

2003-02-16 Sunday 15:08  moodler

	* import.php, lib.php, question.php, version.php, db/mysql.php,
	db/postgres7.php: 
	
	Various quiz changes.  Most importantly is the new framework for
	importing quiz questions.   Importing works but is still being
	tested.

2003-02-06 Thursday 14:37  moodler

	* question.php: 
	
	Note for something that needs to be fixed

2003-01-24 Friday 15:48  moodler

	* lib.php, mod.html, multichoice.html, question.php,
	shortanswer.html, truefalse.html: 
	
	Robustness fixes

2003-01-20 Monday 23:43  moodler

	* lib.php: 
	
	Remove name on submit button

2003-01-16 Thursday 23:19  moodler

	* lib.php: 
	
	Strip slashes from short answers before comparing

2003-01-08 Wednesday 17:08  moodler

	* lib.php: 
	
	Some small robustness things, and a new style for quiz feedback
	text

2003-01-05 Sunday 22:19  moodler

	* attempt.php, category.php, edit.php, index.php, mod.html,
	question.php, report.php, view.php: 
	
	Clean sweep through all the important changing all include(),
	include_once() and require() to require_once()

2003-01-05 Sunday 14:45  moodler

	* edit.php: 
	
	OK a number of small changes here.
	
	Firstly, I'm replacing all use of old-style global variables like
	$HTTY_REFERER with their new-style equivalent
	$_SERVER["HTTP_REFERER"] Also using $_POST instead $HTTP_POST_VARS 
	etc
	
	Secondly, if gdversion == 0 (ie GD is not installed) then:
	
	 - users are not even allowed to upload new images
	 - graphs now just print a message instead of failing.
	
	this allows Moodle to still be used even if GD is not present

2003-01-04 Saturday 00:05  moodler

	* lib.php: 
	
	Make sure grades are always rounded

2003-01-04 Saturday 00:01  moodler

	* lib.php, multichoice.html, question.php, shortanswer.html,
	truefalse.html, version.php, db/mysql.php, db/mysql.sql,
	db/postgres7.php, db/postgres7.sql: 
	
	Changed three fields to avoid SQL problems with PostgreSQL etc:
	
	quiz_truefalse:  true->trueanswer  and false->falseanswer
	quiz_questions:  type->qtype

2003-01-02 Thursday 22:49  moodler

	* attempt.php, category.php, edit.php, question.php: 
	
	buggy_referer is dead!	 Long live buggy_referer!
	
	Should be fixed now.  As a bonus, I've removed all the uses of
	HTTP_POST_VARS from all scripts.
	
	All forms should use the new data_submitted() function to collect
	form data (it does the match_referer thing internally now).
	
	Much nicer.

2003-01-01 Wednesday 22:47  moodler

	* lib.php, mod.html, report.php, view.php: 
	
	Teachers can choose to allow review of quizzes, which means that
	students are allowed to see past quizzes.  This only works once the
	quiz is completely closed (to perhaps prevent easy cheating).

2003-01-01 Wednesday 21:17  moodler

	* mod.html, version.php, db/mysql.php, db/mysql.sql,
	db/postgres7.php, db/postgres7.sql: 
	
	Robustness fixes

2002-12-30 Monday 13:10  moodler

	* attempt.php, category.php, edit.php, lib.php, multichoice.html,
	question.php, shortanswer.html, truefalse.html: 
	
	Many little fixes and cleanups for robustness

2002-12-30 Monday 01:32  moodler

	* index.php, lib.php: 
	
	Various little fixes to remove warnings (usually about empty
	variables) when error_reporting is turned up to 15 or so ... more
	of these to come ...

2002-12-23 Monday 21:48  moodler

	* db/postgres7.sql: 
	
	More database tweaking ... looking pretty good with PostgreSQL now

2002-12-23 Monday 19:47  moodler

	* db/postgres7.sql: 
	
	More fixes for postgreSQL etc

2002-12-23 Monday 17:39  moodler

	* lib.php, report.php, version.php, db/mysql.php, db/mysql.sql,
	db/postgres7.php, db/postgres7.sql: 
	
	Changes throughout Moodle to remove any reserved words from the
	Moodle tables.
	
	ie user -> userid in many tables, plus in user_students    start ->
	starttime and end -> endtime
	
	I've just done all this as carefully as I could ... I don't think I
	missed anything but it's pretty intensive work and I'd be fooling
	myself if I didn't think I'd missed a couple.
	
	Note that this version should pretty much be able to bootstrap
	itself using PostgreSQL now ... but this is untested

2002-12-22 Sunday 21:55  moodler

	* category.php, lib.php, question.php: 
	
	CHanges for new database table commands

2002-12-20 Friday 22:44  moodler

	* db/mysql.sql: 
	
	Many many changes lumped in here ... not finished yet either.
	
	Basically all the Database functions are in lib/datalib.php and the
	web functions are all in lib/weblib.php, so moodlelib.php is much
	thinner than it was.
	
	Data functions have been extended ... most old calls will still
	work, but now many more SQL commands can be performed using the
	datalib functions rather than using SQL.  I'm currently moving
	through the whole tree replacing SQL calls or at least
	concentrating them in one section of mod/xxx/lib.php
	
	Still working on forums, quizzes, surveys, resources.
	
	The tree is currently not full working ... some things are
	half-completed ... will resume tomorrow.

2002-12-15 Sunday 10:41  moodler

	* db/: postgres7.php, postgres7.sql: 
	
	Database and upgrade files for PostgreSQL 7 support!

2002-12-09 Monday 16:20  moodler

	* lib.php: 
	
	Add a javascript confirmation when submitting a quiz attempt

2002-12-07 Saturday 16:39  moodler

	* category.php, lib.php: 
	
	Small changes to tables to make them display better with Japanese

2002-11-13 Wednesday 01:20  moodler

	* lib.php, report.php: 
	
	Improvements to formatting on old Netscape browsers

2002-11-10 Sunday 16:43  moodler

	* index.php: 
	
	Added navmenu in more places

2002-11-10 Sunday 15:37  moodler

	* view.php: 
	
	Changes to enable jumping between activity modules, using a new
	menu in the upper-right corner.   Caution: Not well tested at this
	stage.

2002-10-26 Saturday 14:11  moodler

	* lib.php, question.php: 
	
	Fixed small bug that was displaying fractions with too many decimal
	places (eg 0.9999 instead of just 1)

2002-10-26 Saturday 13:17  moodler

	* lib.php: 
	
	Fixed minor bug after creating default category.

2002-10-26 Saturday 11:13  moodler

	* version.php, db/mysql.php, db/mysql.sql: 
	
	Changed type of quiz_answers.feedback to TEXT (255 chars was a bit
	cramped)

2002-10-25 Friday 23:34  moodler

	* report.php: 
	
	Added quiz max grade in column title, for reference

2002-10-25 Friday 16:54  moodler

	* view.php: 
	
	Ugh type in string module name

2002-10-25 Friday 16:15  moodler

	* view.php: 
	
	Added translation for Attempt quiz now

2002-10-23 Wednesday 20:10  moodler

	* lib.php, question.php: 
	
	After saving new question, sanity checks are made to make sure the
	fractional grades are correct.
	
	Icons now have tooltips and are also a shortcut to editing page.

2002-10-22 Tuesday 18:56  moodler

	* report.php: 
	
	More concise feedback on grading, and more efficiency (only update
	attempt grades that have changed)

2002-10-22 Tuesday 18:38  moodler

	* attempt.php, category.php, lib.php, mod.html, question.php,
	report.php: 
	
	Added help pages to quiz module.
	
	A few little cleanups, such as trim() on shortanswers

2002-10-22 Tuesday 15:03  moodler

	* report.php: 
	
	Display tweaks to table of attempts

2002-10-22 Tuesday 14:52  moodler

	* attempt.php, lib.php, report.php, view.php: 
	
	Teacher can now regrade (recalculate grades) of all quiz attempts
	(in case the quiz changed somehow)

2002-10-22 Tuesday 12:25  moodler

	* lib.php, report.php: 
	
	Teacher can now view student attempts

2002-10-21 Monday 23:00  moodler

	* lib.php, question.php, report.php: 
	
	Can now delete questions.  It checks that the question doesn't
	belong to any quizzes first (if it's in a published category then
	it checks all quizzes on the server).

2002-10-21 Monday 22:57  moodler

	* version.php, db/mysql.php, db/mysql.sql: 
	
	Added log_display entries for quiz

2002-10-21 Monday 21:13  moodler

	* lib.php, view.php: 
	
	Display tweaks

2002-10-21 Monday 21:02  moodler

	* lib.php: 
	
	Round $bestgrade when storing it to avoid insert_record problems

2002-10-21 Monday 20:49  moodler

	* attempt.php: 
	
	Print intro as HTML

2002-10-21 Monday 20:48  moodler

	* lib.php: 
	
	Bugfix on calculating correct answers for multichoice questions

2002-10-21 Monday 20:39  moodler

	* lib.php: 
	
	Some error checking

2002-10-21 Monday 19:41  moodler

	* view.php: 
	
	Convert intro text to HTML

2002-10-21 Monday 01:50  moodler

	* version.php: 
	
	Updated versions

2002-10-21 Monday 01:42  moodler

	* pix/: mc.gif, rs.gif, sa.gif, tf.gif: 
	
	Whoops, forgot to check in these new icons

2002-10-21 Monday 01:41  moodler

	* lib.php, question.php: 
	
	Fixes for display of public categories

2002-10-21 Monday 01:15  moodler

	* category.php, lib.php, multichoice.html, question.php,
	shortanswer.html, truefalse.html: 
	
	
	Category editing in quizzes is now supported.  Some other little
	cleanups along the way ...

2002-10-20 Sunday 18:13  moodler

	* attempt.php, view.php: 
	
	Guests can no longer see or attempt quizzes

2002-10-20 Sunday 13:35  moodler

	* attempt.php, lib.php, question.php: 
	
	Now shows correct answers, plus some small bug fixes

2002-10-19 Saturday 00:05  moodler

	* attempt.php, index.php, lib.php, question.php, version.php,
	view.php, db/mysql.php, db/mysql.sql: 
	
	
	Quiz attempts are now timed.  This is done by starting the
	quiz_attempts record upon showing the quiz, and completing it upon
	submit.
	
	Two new fields in quiz_attempts... should be upgrade friendly. 
	(Old attempts will show up as being of duration zero)
	
	Also some small fixes here and there.

2002-10-18 Friday 13:41  moodler

	* question.php: 
	
	Fixed the setting of answers for true-false questions

2002-10-17 Thursday 16:28  moodler

	* lib.php: 
	
	Better grade reports

2002-10-17 Thursday 15:55  moodler

	* lib.php: 
	
	Now includes maximum grades

2002-10-17 Thursday 15:23  moodler

	* lib.php: 
	
	Added new grading functions to work with course/grades.php

2002-10-16 Wednesday 23:52  moodler

	* attempt.php, lib.php: 
	
	Feedback fixes

2002-10-16 Wednesday 17:35  moodler

	* attempt.php, edit.php, lib.php, mod.html: 
	
	Various fixes and additions.  It now does quiz feedback pretty well
	(though it doesn't show correct answers yet).

2002-10-16 Wednesday 12:51  moodler

	* view.php: 
	
	Cleaned up some buttons ...

2002-10-16 Wednesday 01:32  moodler

	* edit.php, lib.php: 
	
	
	Small bugfixes ... (yawn)

2002-10-16 Wednesday 01:13  moodler

	* lib.php, db/mysql.sql: 
	
	Fixes for grades

2002-10-16 Wednesday 00:45  moodler

	* lib.php: 
	
	Bit of a clean up of the edit interface ...

2002-10-16 Wednesday 00:22  moodler

	* lib.php, mod.html, multichoice.html, shortanswer.html,
	truefalse.html, view.php, db/mysql.sql: 
	
	Added timeopen and timeclose (instead of days) and did a few
	cleanups

2002-10-15 Tuesday 20:54  moodler

	* attempt.php, edit.php, index.php, lib.php, multichoice.html,
	report.php, shortanswer.html, view.php, db/mysql.sql: 
	
	OK, it seems reliable enough now for alpha testing.
	
	If you have existing quizzes, delete them all, then drop all the
	quiz tables and delete the quiz line from the modules table.
	
	Things to do still:
	
	  - add/edit/remove categories
	  - display question feedback on submissions ...
	  - record the time they started the quiz, as well as the
	completion.
	  - place time limits between attempts
	  - add full specification of quiz open time and quiz close time

2002-10-15 Tuesday 18:04  moodler

	* edit.php, lib.php, multichoice.html, question.php,
	shortanswer.html, truefalse.html: 
	
	Can now create and re-edit all three types of questions.
	
	Still working on grading ...

2002-10-15 Tuesday 13:29  moodler

	* multichoice.html, question.php, shortanswer.html, truefalse.html:
	
	
	Forms now done, more or less

2002-10-14 Monday 23:57  moodler

	* attempt.php, edit.php, lib.php, mod.html, multichoice.html,
	question.php, shortanswer.html, truefalse.html, view.php: 
	
	
	Checking in what I got so far .... Not working yet but I'm going to
	bed.

2002-10-14 Monday 20:21  moodler

	* edit.php, lib.php: 
	
	Quiz generation is working now.  Just need question and category
	editors.

2002-10-14 Monday 17:07  moodler

	* category.php, edit.php, lib.php, mod.html, question.php: 
	
	Many new additions - code not quite usable yet, but getting close

2002-10-13 Sunday 21:51  moodler

	* lib.php, report.php, view.php: 
	
	Added a basic report and some clean-ups

2002-10-13 Sunday 15:17  moodler

	* attempt.php, lib.php, version.php, view.php, db/mysql.sql: 
	
	
	Just to show that something is happening!
	
	At this stage this module:
	
	  - prints quizzes,
	  - accepts answers (for multiple attempts) and grades them,
	  - stores the grades.
	
	Really, it's usable as long as you don't mind using the database
	manually. :)
	
	Next up is quiz reports, then I'll tackle quiz creation.

2002-10-07 Monday 01:31  moodler

	* category.php, edit.php, question.php: 
	
	Empty file

2002-10-07 Monday 01:06  moodler

	* attempt.php, lib.php, version.php, db/mysql.php, db/mysql.sql: 
	
	Further work done.  It currently can print the quiz form (including
	images!) but can't mark them yet.  I've been constructing quizzes
	manually in the database and it's helping to refine the database
	structure.  Don't count on anything stable in the quiz module for a
	few days yet ...

2002-10-06 Sunday 11:24  moodler

	* attempt.php: 
	
	A start on the page that actually prints the questions and stores
	the answers

2002-10-06 Sunday 11:23  moodler

	* view.php: 
	
	More or less working now

2002-10-06 Sunday 11:23  moodler

	* lib.php: 
	
	Added some more functions

2002-10-06 Sunday 01:20  moodler

	* version.php, db/mysql.php: 
	
	Moved upgrade functions into db/mysql.sql

2002-10-04 Friday 10:59  moodler

	* icon.gif, index.php, lib.php, mod.html, version.php, view.php,
	db/mysql.sql: 
	
	Skeleton version of the quiz module.  It won't break an
	installation, but it doesn't do anything yet.

